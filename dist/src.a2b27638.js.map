{"version":3,"sources":["node_modules/gpu.js/dist/gpu-browser.js","node_modules/base64-js/index.js","node_modules/ieee754/index.js","node_modules/node-libs-browser/node_modules/isarray/index.js","node_modules/node-libs-browser/node_modules/buffer/index.js","../src/activation/leaky-relu.js","../src/activation/relu.js","../src/activation/sigmoid.js","../node_modules/core-js/internals/global.js","../node_modules/core-js/internals/fails.js","../node_modules/core-js/internals/descriptors.js","../node_modules/core-js/internals/object-property-is-enumerable.js","../node_modules/core-js/internals/create-property-descriptor.js","../node_modules/core-js/internals/classof-raw.js","../node_modules/core-js/internals/indexed-object.js","../node_modules/core-js/internals/require-object-coercible.js","../node_modules/core-js/internals/to-indexed-object.js","../node_modules/core-js/internals/is-object.js","../node_modules/core-js/internals/to-primitive.js","../node_modules/core-js/internals/has.js","../node_modules/core-js/internals/document-create-element.js","../node_modules/core-js/internals/ie8-dom-define.js","../node_modules/core-js/internals/object-get-own-property-descriptor.js","../node_modules/core-js/internals/an-object.js","../node_modules/core-js/internals/object-define-property.js","../node_modules/core-js/internals/create-non-enumerable-property.js","../node_modules/core-js/internals/set-global.js","../node_modules/core-js/internals/shared-store.js","../node_modules/core-js/internals/inspect-source.js","../node_modules/core-js/internals/native-weak-map.js","../node_modules/core-js/internals/shared.js","../node_modules/core-js/internals/uid.js","../node_modules/core-js/internals/shared-key.js","../node_modules/core-js/internals/hidden-keys.js","../node_modules/core-js/internals/internal-state.js","../node_modules/core-js/internals/redefine.js","../node_modules/core-js/internals/path.js","../node_modules/core-js/internals/get-built-in.js","../node_modules/core-js/internals/to-integer.js","../node_modules/core-js/internals/to-length.js","../node_modules/core-js/internals/to-absolute-index.js","../node_modules/core-js/internals/array-includes.js","../node_modules/core-js/internals/object-keys-internal.js","../node_modules/core-js/internals/enum-bug-keys.js","../node_modules/core-js/internals/object-get-own-property-names.js","../node_modules/core-js/internals/object-get-own-property-symbols.js","../node_modules/core-js/internals/own-keys.js","../node_modules/core-js/internals/copy-constructor-properties.js","../node_modules/core-js/internals/is-forced.js","../node_modules/core-js/internals/export.js","../node_modules/core-js/internals/math-expm1.js","../node_modules/core-js/modules/es.math.tanh.js","../src/activation/tanh.js","../src/activation/index.js","../node_modules/core-js/internals/is-array.js","../node_modules/core-js/internals/to-object.js","../node_modules/core-js/internals/create-property.js","../node_modules/core-js/internals/native-symbol.js","../node_modules/core-js/internals/use-symbol-as-uid.js","../node_modules/core-js/internals/well-known-symbol.js","../node_modules/core-js/internals/array-species-create.js","../node_modules/core-js/internals/engine-user-agent.js","../node_modules/core-js/internals/engine-v8-version.js","../node_modules/core-js/internals/array-method-has-species-support.js","../node_modules/core-js/modules/es.array.concat.js","../node_modules/core-js/internals/a-function.js","../node_modules/core-js/internals/function-bind-context.js","../node_modules/core-js/internals/array-iteration.js","../node_modules/core-js/internals/array-method-is-strict.js","../node_modules/core-js/internals/array-method-uses-to-length.js","../node_modules/core-js/internals/array-for-each.js","../node_modules/core-js/modules/es.array.for-each.js","../node_modules/core-js/internals/array-reduce.js","../node_modules/core-js/modules/es.array.reduce.js","../node_modules/core-js/modules/es.array.slice.js","../node_modules/core-js/modules/es.array.splice.js","../node_modules/core-js/internals/object-keys.js","../node_modules/core-js/internals/object-assign.js","../node_modules/core-js/modules/es.object.assign.js","../node_modules/core-js/modules/es.object.keys.js","../node_modules/core-js/internals/dom-iterables.js","../node_modules/core-js/modules/web.dom-collections.for-each.js","../node_modules/core-js/modules/web.url.to-json.js","../src/cross-validate.js","../node_modules/core-js/internals/array-fill.js","../node_modules/core-js/internals/object-define-properties.js","../node_modules/core-js/internals/html.js","../node_modules/core-js/internals/object-create.js","../node_modules/core-js/internals/add-to-unscopables.js","../node_modules/core-js/modules/es.array.fill.js","../node_modules/core-js/internals/iterators.js","../node_modules/core-js/internals/correct-prototype-getter.js","../node_modules/core-js/internals/object-get-prototype-of.js","../node_modules/core-js/internals/iterators-core.js","../node_modules/core-js/internals/set-to-string-tag.js","../node_modules/core-js/internals/create-iterator-constructor.js","../node_modules/core-js/internals/a-possible-prototype.js","../node_modules/core-js/internals/object-set-prototype-of.js","../node_modules/core-js/internals/define-iterator.js","../node_modules/core-js/modules/es.array.iterator.js","../node_modules/core-js/modules/es.array.map.js","../node_modules/core-js/internals/array-buffer-native.js","../node_modules/core-js/internals/redefine-all.js","../node_modules/core-js/internals/an-instance.js","../node_modules/core-js/internals/to-index.js","../node_modules/core-js/internals/ieee754.js","../node_modules/core-js/internals/array-buffer.js","../node_modules/core-js/internals/species-constructor.js","../node_modules/core-js/modules/es.array-buffer.slice.js","../node_modules/core-js/internals/to-string-tag-support.js","../node_modules/core-js/internals/classof.js","../node_modules/core-js/internals/object-to-string.js","../node_modules/core-js/modules/es.object.to-string.js","../node_modules/core-js/internals/check-correctness-of-iteration.js","../node_modules/core-js/internals/array-buffer-view-core.js","../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js","../node_modules/core-js/internals/to-positive-integer.js","../node_modules/core-js/internals/to-offset.js","../node_modules/core-js/internals/get-iterator-method.js","../node_modules/core-js/internals/is-array-iterator-method.js","../node_modules/core-js/internals/typed-array-from.js","../node_modules/core-js/internals/set-species.js","../node_modules/core-js/internals/inherit-if-required.js","../node_modules/core-js/internals/typed-array-constructor.js","../node_modules/core-js/modules/es.typed-array.float32-array.js","../node_modules/core-js/internals/array-copy-within.js","../node_modules/core-js/modules/es.typed-array.copy-within.js","../node_modules/core-js/modules/es.typed-array.every.js","../node_modules/core-js/modules/es.typed-array.fill.js","../node_modules/core-js/modules/es.typed-array.filter.js","../node_modules/core-js/modules/es.typed-array.find.js","../node_modules/core-js/modules/es.typed-array.find-index.js","../node_modules/core-js/modules/es.typed-array.for-each.js","../node_modules/core-js/modules/es.typed-array.includes.js","../node_modules/core-js/modules/es.typed-array.index-of.js","../node_modules/core-js/modules/es.typed-array.iterator.js","../node_modules/core-js/modules/es.typed-array.join.js","../node_modules/core-js/internals/array-last-index-of.js","../node_modules/core-js/modules/es.typed-array.last-index-of.js","../node_modules/core-js/modules/es.typed-array.map.js","../node_modules/core-js/modules/es.typed-array.reduce.js","../node_modules/core-js/modules/es.typed-array.reduce-right.js","../node_modules/core-js/modules/es.typed-array.reverse.js","../node_modules/core-js/modules/es.typed-array.set.js","../node_modules/core-js/modules/es.typed-array.slice.js","../node_modules/core-js/modules/es.typed-array.some.js","../node_modules/core-js/modules/es.typed-array.sort.js","../node_modules/core-js/modules/es.typed-array.subarray.js","../node_modules/core-js/modules/es.typed-array.to-locale-string.js","../node_modules/core-js/modules/es.typed-array.to-string.js","../src/utilities/kernel.js","../src/utilities/zeros.js","../src/utilities/zeros-2d.js","../src/utilities/layer-size.js","../node_modules/core-js/modules/es.function.name.js","../node_modules/core-js/internals/whitespaces.js","../node_modules/core-js/internals/string-trim.js","../node_modules/core-js/modules/es.number.constructor.js","../node_modules/core-js/modules/es.number.is-nan.js","../src/layer/base.js","../src/utilities/zeros-3d.js","../src/layer/activation.js","../src/layer/types.js","../src/layer/add.js","../src/praxis/base.js","../src/praxis/arthur-deviation-weights.js","../src/praxis/arthur-deviation-biases.js","../src/utilities/random-weight.js","../src/utilities/random.js","../src/utilities/randos.js","../src/utilities/randos-2d.js","../src/layer/random.js","../src/layer/multiply.js","../src/layer/sigmoid.js","../src/layer/arthur-feed-forward.js","../src/utilities/layer-setup.js","../src/utilities/randos-3d.js","../src/utilities/values.js","../src/layer/convolution.js","../src/layer/dropout.js","../src/layer/feed-forward.js","../src/layer/fully-connected.js","../src/layer/negative.js","../src/layer/multiply-element.js","../src/utilities/ones.js","../src/utilities/ones-2d.js","../src/layer/ones.js","../src/layer/tanh.js","../src/layer/zeros.js","../src/layer/gru.js","../src/layer/input.js","../src/layer/leaky-relu.js","../src/layer/lstm-cell.js","../src/layer/target.js","../src/layer/output.js","../src/layer/pool.js","../src/layer/relu.js","../src/layer/rnn-cell.js","../src/layer/regression.js","../src/layer/soft-max.js","../src/layer/svm.js","../src/layer/transpose.js","../src/layer/index.js","../src/likely.js","../node_modules/core-js/modules/es.array-buffer.constructor.js","../node_modules/core-js/modules/es.typed-array.from.js","../src/lookup.js","../src/praxis/adam.js","../src/praxis/momentum-root-mean-squared-propagation.js","../src/praxis/index.js","../node_modules/core-js/modules/es.array.filter.js","../node_modules/core-js/modules/es.array.index-of.js","../node_modules/core-js/internals/function-bind.js","../node_modules/core-js/modules/es.reflect.construct.js","../src/utilities/layer-from-json.js","../src/utilities/traverse-layers-from.js","../src/utilities/flatten-layers.js","../src/estimator/mean-squared-error.js","../src/feed-forward.js","../node_modules/core-js/modules/es.array.join.js","../node_modules/core-js/internals/native-promise-constructor.js","../node_modules/core-js/internals/call-with-safe-iteration-closing.js","../node_modules/core-js/internals/iterate.js","../node_modules/core-js/internals/engine-is-ios.js","../node_modules/core-js/internals/task.js","../node_modules/core-js/internals/microtask.js","../node_modules/core-js/internals/new-promise-capability.js","../node_modules/core-js/internals/promise-resolve.js","../node_modules/core-js/internals/host-report-errors.js","../node_modules/core-js/internals/perform.js","../node_modules/core-js/modules/es.promise.js","../node_modules/thaw.js/dist/thaw.js","../node_modules/thaw.js/dist/block.js","../node_modules/thaw.js/dist/index.js","../node_modules/core-js/internals/object-to-array.js","../node_modules/core-js/modules/es.object.values.js","../src/utilities/to-array.js","../src/utilities/max.js","../src/utilities/mse.js","../src/utilities/range.js","../src/utilities/lookup-table.js","../src/utilities/cast.js","../src/neural-network.js","../node_modules/core-js/internals/array-from.js","../node_modules/core-js/modules/es.array.from.js","../node_modules/core-js/internals/string-multibyte.js","../node_modules/core-js/modules/es.string.iterator.js","../src/neural-network-gpu.js","../node_modules/rollup-plugin-node-builtins/src/es6/events.js","../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/buffer-es6/base64.js","../node_modules/buffer-es6/ieee754.js","../node_modules/buffer-es6/isArray.js","../node_modules/buffer-es6/index.js","../node_modules/process-es6/browser.js","../node_modules/rollup-plugin-node-builtins/src/es6/inherits.js","../node_modules/rollup-plugin-node-builtins/src/es6/util.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/buffer-list.js","../node_modules/rollup-plugin-node-builtins/src/es6/string-decoder.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/readable.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/writable.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/duplex.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/transform.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/passthrough.js","../node_modules/rollup-plugin-node-builtins/src/es6/stream.js","../src/train-stream.js","../node_modules/core-js/modules/es.object.get-prototype-of.js","../src/layer/recurrent-connection.js","../src/layer/recurrent-input.js","../src/layer/recurrent-zeros.js","../src/recurrent.js","../node_modules/core-js/internals/regexp-flags.js","../node_modules/core-js/internals/regexp-sticky-helpers.js","../node_modules/core-js/internals/regexp-exec.js","../node_modules/core-js/modules/es.regexp.exec.js","../node_modules/core-js/modules/es.regexp.to-string.js","../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","../node_modules/core-js/internals/advance-string-index.js","../node_modules/core-js/internals/regexp-exec-abstract.js","../node_modules/core-js/modules/es.string.replace.js","../node_modules/core-js/internals/is-regexp.js","../node_modules/core-js/modules/es.string.split.js","../src/recurrent/matrix/index.js","../src/recurrent/matrix/random-matrix.js","../node_modules/core-js/modules/es.math.log2.js","../src/recurrent/matrix/clone-negative.js","../src/recurrent/matrix/add.js","../src/recurrent/matrix/add-b.js","../src/recurrent/matrix/all-ones.js","../src/recurrent/matrix/multiply.js","../src/recurrent/matrix/multiply-b.js","../src/recurrent/matrix/multiply-element.js","../src/recurrent/matrix/multiply-element-b.js","../src/recurrent/matrix/relu.js","../src/recurrent/matrix/relu-b.js","../src/recurrent/matrix/row-pluck.js","../src/recurrent/matrix/row-pluck-b.js","../src/recurrent/matrix/sigmoid.js","../src/recurrent/matrix/sigmoid-b.js","../src/recurrent/matrix/tanh.js","../src/recurrent/matrix/tanh-b.js","../src/recurrent/matrix/softmax.js","../src/recurrent/matrix/equation.js","../src/recurrent/matrix/sample-i.js","../src/recurrent/matrix/max-i.js","../src/recurrent/matrix/copy.js","../node_modules/core-js/internals/freezing.js","../node_modules/core-js/internals/internal-metadata.js","../node_modules/core-js/internals/collection.js","../node_modules/core-js/internals/collection-strong.js","../node_modules/core-js/modules/es.set.js","../node_modules/core-js/modules/web.dom-collections.iterator.js","../src/utilities/data-formatter.js","../src/recurrent/rnn.js","../src/utilities/array-lookup-table.js","../src/recurrent/rnn-time-step.js","../src/recurrent/lstm.js","../src/recurrent/lstm-time-step.js","../src/recurrent/gru.js","../src/recurrent/gru-time-step.js","../node_modules/core-js/modules/es.array.every.js","../src/utilities/to-svg.js","../src/index.js","src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["f","exports","module","define","amd","g","window","global","self","GPU","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","factory","acorn","reservedWords","strict","strictBind","ecma5AndLessKeywords","keywords","keywordRelationalOperator","nonASCIIidentifierStartChars","nonASCIIidentifierChars","nonASCIIidentifierStart","RegExp","nonASCIIidentifier","astralIdentifierStartCodes","astralIdentifierCodes","isInAstralSet","set","pos","isIdentifierStart","astral","test","String","fromCharCode","isIdentifierChar","TokenType","label","conf","keyword","beforeExpr","startsExpr","isLoop","isAssign","prefix","postfix","binop","updateContext","name","prec","keywords$1","kw","options","types","num","regexp","string","eof","bracketL","bracketR","braceL","braceR","parenL","parenR","comma","semi","colon","dot","question","arrow","template","invalidTemplate","ellipsis","backQuote","dollarBraceL","eq","assign","incDec","logicalOR","logicalAND","bitwiseOR","bitwiseXOR","bitwiseAND","equality","relational","bitShift","plusMin","modulo","star","slash","starstar","_break","_case","_catch","_continue","_debugger","_default","_do","_else","_finally","_for","_function","_if","_return","_switch","_throw","_try","_var","_const","_while","_with","_new","_this","_super","_class","_extends","_export","_import","_null","_true","_false","_in","_instanceof","_typeof","_void","_delete","lineBreak","lineBreakG","source","isNewLine","ecma2019String","nonASCIIwhitespace","skipWhiteSpace","ref","Object","prototype","hasOwnProperty","toString","has","obj","propName","isArray","Array","wordsRegexp","words","replace","Position","line","col","column","offset","SourceLocation","start","end","sourceFile","getLineInfo","input","cur","lastIndex","match","exec","index","defaultOptions","ecmaVersion","sourceType","onInsertedSemicolon","onTrailingComma","allowReserved","allowReturnOutsideFunction","allowImportExportEverywhere","allowAwaitOutsideFunction","allowHashBang","locations","onToken","onComment","ranges","program","directSourceFile","preserveParens","getOptions","opts","opt","tokens","token","push","pushComment","array","block","text","startLoc","endLoc","comment","type","value","loc","range","SCOPE_TOP","SCOPE_FUNCTION","SCOPE_VAR","SCOPE_ASYNC","SCOPE_GENERATOR","SCOPE_ARROW","SCOPE_SIMPLE_CATCH","SCOPE_SUPER","SCOPE_DIRECT_SUPER","functionFlags","async","generator","BIND_NONE","BIND_VAR","BIND_LEXICAL","BIND_FUNCTION","BIND_SIMPLE_CATCH","BIND_OUTSIDE","Parser","startPos","reserved","v","reservedStrict","reservedWordsStrict","reservedWordsStrictBind","containsEsc","lineStart","lastIndexOf","curLine","slice","split","curPosition","lastTokEndLoc","lastTokStartLoc","lastTokStart","lastTokEnd","context","initialContext","exprAllowed","inModule","strictDirective","potentialArrowAt","yieldPos","awaitPos","awaitIdentPos","labels","undefinedExports","skipLineComment","scopeStack","enterScope","regexpState","prototypeAccessors","inFunction","configurable","inGenerator","inAsync","allowSuper","allowDirectSuper","treatFunctionsAsVar","parse","node","startNode","nextToken","parseTopLevel","get","currentVarScope","flags","currentThisScope","treatFunctionsAsVarInScope","currentScope","inNonArrowFunction","extend","plugins","len","arguments","cls","parseExpressionAt","parser","parseExpression","tokenizer","defineProperties","pp","literal","eat","next","isContextual","eatContextual","expectContextual","unexpected","canInsertSemicolon","insertSemicolon","semicolon","afterTrailingComma","tokType","notNext","expect","raise","DestructuringErrors","shorthandAssign","trailingComma","parenthesizedAssign","parenthesizedBind","doubleProto","checkPatternErrors","refDestructuringErrors","raiseRecoverable","parens","checkExpressionErrors","andThrow","checkYieldAwaitInDefaultParams","isSimpleAssignTarget","expr","expression","pp$1","body","stmt","parseStatement","list","keys","adaptDirectivePrologue","finishNode","loopLabel","kind","switchLabel","isLet","skip","nextCh","charCodeAt","ident","isAsyncFunction","charAt","topLevel","starttype","parseBreakContinueStatement","parseDebuggerStatement","parseDoStatement","parseForStatement","parseFunctionStatement","parseClass","parseIfStatement","parseReturnStatement","parseSwitchStatement","parseThrowStatement","parseTryStatement","parseVarStatement","parseWhileStatement","parseWithStatement","parseBlock","parseEmptyStatement","parseExpressionStatement","parseImport","parseExport","maybeName","parseLabeledStatement","isBreak","parseIdent","lab","pop","parseParenExpression","awaitAt","parseFor","init$1","parseVar","declarations","await","parseForIn","init","toAssignable","checkLVal","isAsync","declarationPosition","parseFunction","FUNC_STATEMENT","FUNC_HANGING_STATEMENT","consequent","alternate","argument","discriminant","cases","sawDefault","isCase","exitScope","empty","handler","clause","param","parseBindingAtom","simple","finalizer","object","i$1","label$1","statementStart","indexOf","createNewLexicalScope","update","isForIn","id","left","right","parseMaybeAssign","isFor","decl","parseVarId","FUNC_NULLABLE_ID","statement","allowExpressionBody","initFunction","oldYieldPos","oldAwaitPos","oldAwaitIdentPos","parseFunctionParams","parseFunctionBody","params","parseBindingList","isStatement","oldStrict","parseClassId","parseClassSuper","classBody","hadConstructor","element","parseClassElement","superClass","constructorAllowsSuper","this$1","method","tryContextual","k","noLineBreak","key","computed","startNodeAt","static","isGenerator","parsePropertyName","allowsDirectSuper","parseClassMethod","parseMethod","parseExprSubscripts","parseExprAtom","checkExport","fNode","declaration","cNode","shouldParseExportStatement","checkVariableExport","specifiers","parseExportSpecifiers","spec","checkUnreserved","local","checkLocalExport","checkPatternExport","pat","properties","prop","list$1","elements","elt","decls","nodes","first","exported","parseImportSpecifiers","node$1","node$2","imported","statements","isDirectiveCandidate","directive","raw","pp$2","isBinding","toAssignableList","operator","exprList","last","parseSpread","parseRestBinding","parseObj","close","allowEmpty","allowTrailingComma","elts","rest","parseBindingListItem","elem","parseMaybeDefault","bindingType","checkClashes","declareName","pp$3","checkPropClash","propHash","shorthand","proto","other","redefinition","noIn","expressions","afterLeftParse","parseYield","ownDestructuringErrors","oldParenAssign","oldTrailingComma","parseMaybeConditional","parseExprOps","parseMaybeUnary","parseExprOp","leftStartPos","leftStartLoc","minPrec","logical","op","buildBinary","sawUnary","parseAwait","result","parseSubscripts","base","noCalls","maybeAsyncArrow","parseSubscript","property","parseExprList","parseArrowExpression","callee","tag","quasi","parseTemplate","isTagged","readRegexp","canBeArrow","parseLiteral","regex","pattern","parseParenAndDistinguishExpression","parseNew","parseExprImport","parseDynamicImport","errorPos","bigint","val","innerStartPos","innerStartLoc","lastIsComma","spreadStart","parseParenItem","innerEndPos","innerEndLoc","parseParenArrowList","finishNodeAt","par","item","empty$1","meta","isImport","parseTemplateElement","cooked","tail","curElt","quasis","isAsyncProp","isPattern","parseProperty","parsePropertyValue","paramCount","isArrowFunction","isMethod","isExpression","useStrict","checkParams","nonSimple","isSimpleParamList","oldLabels","allowDuplicates","nameHash","re","liberal","delegate","pp$4","message","err","SyntaxError","raisedAt","pp$5","Scope","var","lexical","functions","scope","redeclared","scope$1","scope$2","scope$3","Node","pp$6","TokContext","isExpr","preserveSpace","override","types$1","b_stat","b_expr","b_tmpl","p_stat","p_expr","q_tmpl","tryReadTemplateToken","f_stat","f_expr","f_expr_gen","f_gen","pp$7","braceIsBlock","prevType","parent","curContext","inGeneratorContext","out","statementParens","allowed","ecma9BinaryProperties","ecma10BinaryProperties","ecma11BinaryProperties","unicodeBinaryProperties","unicodeGeneralCategoryValues","ecma9ScriptValues","ecma10ScriptValues","ecma11ScriptValues","unicodeScriptValues","data","buildUnicodeData","d","binary","nonBinary","General_Category","Script","Script_Extensions","gc","sc","scx","pp$8","RegExpValidationState","validFlags","unicodeProperties","switchU","switchN","lastIntValue","lastStringValue","lastAssertionIsQuantifiable","numCapturingParens","maxBackReference","groupNames","backReferenceNames","reset","unicode","at","s","l","nextIndex","current","lookahead","advance","ch","codePointToString","validateRegExpFlags","state","flag","validateRegExpPattern","regexp_pattern","regexp_disjunction","regexp_alternative","regexp_eatQuantifier","regexp_eatTerm","regexp_eatAssertion","regexp_eatAtom","regexp_eatExtendedAtom","lookbehind","noError","regexp_eatQuantifierPrefix","regexp_eatBracedQuantifier","min","max","regexp_eatDecimalDigits","regexp_eatPatternCharacters","regexp_eatReverseSolidusAtomEscape","regexp_eatCharacterClass","regexp_eatUncapturingGroup","regexp_eatCapturingGroup","regexp_eatAtomEscape","regexp_groupSpecifier","regexp_eatInvalidBracedQuantifier","regexp_eatExtendedPatternCharacter","regexp_eatSyntaxCharacter","isSyntaxCharacter","regexp_eatGroupName","regexp_eatRegExpIdentifierName","regexp_eatRegExpIdentifierStart","regexp_eatRegExpIdentifierPart","regexp_eatRegExpUnicodeEscapeSequence","isRegExpIdentifierStart","isRegExpIdentifierPart","regexp_eatBackReference","regexp_eatCharacterClassEscape","regexp_eatCharacterEscape","regexp_eatKGroupName","regexp_eatDecimalEscape","regexp_eatControlEscape","regexp_eatCControlLetter","regexp_eatZero","regexp_eatHexEscapeSequence","regexp_eatLegacyOctalEscapeSequence","regexp_eatIdentityEscape","regexp_eatControlLetter","isDecimalDigit","isControlLetter","regexp_eatFixedHexDigits","lead","leadSurrogateEnd","trail","regexp_eatHexDigits","isValidUnicode","isCharacterClassEscape","regexp_eatUnicodePropertyValueExpression","regexp_eatUnicodePropertyName","regexp_eatUnicodePropertyValue","regexp_validateUnicodePropertyNameAndValue","regexp_eatLoneUnicodePropertyNameOrValue","nameOrValue","regexp_validateUnicodePropertyNameOrValue","isUnicodePropertyNameCharacter","isUnicodePropertyValueCharacter","regexp_classRanges","regexp_eatClassAtom","regexp_eatClassEscape","ch$1","isOctalDigit","regexp_eatClassControlLetter","isHexDigit","hexToInt","regexp_eatOctalDigit","n1","n2","Token","pp$9","ignoreEscapeSequenceInKeyword","getToken","Symbol","iterator","done","skipSpace","finishToken","readToken","fullCharCodeAtPos","readWord","getTokenFromCode","skipBlockComment","startSkip","loop","readToken_dot","readNumber","next2","readToken_slash","finishOp","readToken_mult_modulo_exp","size","tokentype","readToken_pipe_amp","readToken_caret","readToken_plus_min","readToken_lt_gt","readToken_eq_excl","readRadixNumber","readString","codePointToString$1","str","escaped","inClass","flagsStart","readWord1","readInt","radix","total","Infinity","BigInt","startsWithDot","octal","str$1","val$1","parseInt","parseFloat","readCodePoint","codePos","readHexChar","invalidStringToken","quote","chunkStart","readEscapedChar","INVALID_TEMPLATE_ESCAPE_ERROR","inTemplateElement","readTmplToken","readInvalidTemplateToken","position","inTemplate","octalStr","substr","word","escStart","esc","version","tokTypes","keywordTypes","tokContexts","defineProperty","glWiretap","gl","contextName","throwGetError","useTrackablePrimitives","readPixelsFile","recording","variables","onReadPixels","onUnrecognizedArgumentLookup","proxy","Proxy","listen","contextVariables","entityNames","imageCount","indent","readPixelsVariableName","addComment","checkThrowError","insertVariable","setIndent","getContextVariableName","getError","variableName","extension","getExtension","tappedExtension","glExtensionWiretap","getEntity","targetVariableName","getVariableName","constructor","argumentAsStrings","join","writePPM","readPixels","apply","argumentsToString","addVariable","drawBuffers","methodCallToString","trackablePrimitive","spaces","repeat","width","height","sourceVariable","imageVariable","args","extensionEntityNames","getExtensionEntity","drawBuffersWEBGL","from","map","arg","argumentToString","hasLines","hasSingleQuotes","hasDoubleQuotes","JSON","stringify","instantiationString","setupArguments","newArguments","toArray","mock1D","row","Float32Array","output","x","thread","y","z","_fn","mock2D","matrix","mock2DGraphical","mock3D","cube","apiDecorate","kernel","setOutput","setupOutput","graphical","setupGraphical","toJSON","setConstants","constants","setGraphical","setCanvas","canvas","setContext","destroy","validateSettings","Promise","resolve","reject","getPixels","flip","flipPixels","_imageData","color","b","Math","floor","_colorData","mockMethod","methods","createImageData","Uint8ClampedArray","gpuMock","fn","settings","pixels","halfHeight","bytesPerRow","temp","topOffset","bottomOffset","subarray","copyWithin","utils","alias","fnString","Function","getArgumentNamesFromString","getFunctionBodyFromString","FunctionNode","CPUFunctionNode","ast","retArr","isRootKernel","argumentNames","argumentName","astGeneric","returnType","getType","leadingReturnStatement","followingReturnStatement","isSubKernel","isNaN","astErrorOutput","idtNode","forNode","initArr","testArr","updateArr","bodyArr","isSafe","pushState","includes","popState","iVariableName","getInternalVariableName","whileNode","doWhileNode","assNode","getDeclaration","assignable","bNode","isState","varDecNode","info","valueType","ifNode","tNode","mNode","getMemberExpressionDetails","signature","xProperty","yProperty","zProperty","origin","markupName","isInput","constant","constantTypes","argumentSizes","dynamicArguments","functionName","astMemberExpressionUnroll","calledFunctions","isMathFunction","isAstMathFunction","onFunctionCall","targetTypes","lookupFunctionArgumentTypes","argumentType","triggerImplyArgumentType","arrNode","arrLen","constantsToString","results","cpuKernelString","cpuKernel","header","thisProperties","beforeReturn","useFunctionKeyword","colorFn","flattenFunctionToString","thisLookup","propertyName","findDependency","getPixelsFn","constantKeys","argumentTypes","flattenedImageTo3DArray","_imageTo3DArray","doNotDefine","flattenedImageTo2DArray","_mediaTo2DArray","_kernelString","Kernel","FunctionBuilder","CPUKernel","mergeSettings","_prependedString","translatedSources","document","createElement","OffscreenCanvas","getContext","argType","getVariableType","strictIntegers","getDimensions","checkOutput","subKernels","functionBuilder","fromKernel","getPrototypes","getKernelResultType","built","setupConstants","translateSource","kernelString","getKernelString","debug","console","log","run","bind","error","buildSignature","kernelThreadString","filter","shift","_getLoopMaxString","injectedNative","_resultKernelHeader","_processConstants","_earlyThrows","_processArguments","_graphicalKernelBody","_resultKernelBody","loopMaxIterations","immutable","pipeline","arrayArguments","checks","checkSubKernels","_mapSubKernels","subKernel","media","videoWidth","videoHeight","ctx","drawImage","pixelsData","getImageData","imageArray","pixel","images","imagesArray","_mutableKernel1DResults","_mutableKernel2DResults","_mutableKernel3DResults","_resultMutableKernel1DLoop","_resultImmutableKernel1DLoop","_kernelOutput","_resultMutableKernel2DLoop","_resultImmutableKernel2DLoop","_resultMutableKernel3DLoop","_resultImmutableKernel3DLoop","_graphicalKernel2DLoop","_graphicalOutput","constructorString","_getKernelResultTypeConstructorString","removeCanvasReference","json","functionNodes","features","freeze","kernelMap","isIntegerDivisionAccurate","combinedKernel","rootNode","subKernelNodes","nativeFunctions","functionMap","nativeFunctionNames","lookupChain","functionNodeDependencies","functionCalls","nativeFunction","functionNode","retList","nativeFunctionIndex","dependantNativeFunctionName","splice","functionIndex","traceFunctionCalls","dependantFunctionName","getPrototypesFromFunctionNames","reverse","functionList","ret","nativeIndex","jsonFunctionNodes","jsonFunctionNode","getStringFromFunctionNames","requestingNode","_isNativeFunction","_lookupNativeFunctionReturnType","_isFunction","_getFunction","j","getJsAST","Boolean","_getNativeFunction","argumentIndex","argumentBitRatios","bitRatio","fnNode","calleeFunctionName","calleeNode","calleeBitRatio","Set","add","subKernelNode","called","functionCallIndex","functionCall","extraNodeOptions","kernelArguments","kernelConstants","constantBitRatios","optimizeFloatMemory","precision","dynamicOutput","kernelConstant","needsArgumentType","assignArgumentType","lookupReturnType","lookupFunctionArgumentName","lookupFunctionArgumentBitRatio","triggerImplyArgumentBitRatio","assignArgumentBitRatio","trackFunctionCall","onNestedFunction","nestedFunction","nodeOptions","traceFunctionAST","addFunctionNode","rootNodeOptions","fromJSON","FunctionTracer","getFunctionNameFromString","identifiers","contexts","states","strictTypingChecking","fixIntegerDivisionAccuracy","literalTypes","validate","_string","_internalVariableNames","isFunctionString","firstExpression","inParser","functionAST","inForLoopInit","inForLoopTest","dependencies","getDependencies","realType","isSafeDependencies","identifier","typeLookupMap","constantName","trim","childType","literalKey","astKey","Number","isInteger","inferArgumentTypesIfNeeded","getVariableSignature","rightType","lastType","isAstVariable","getCheckVariableType","findIdentifierOrigin","variableSignature","getLookupType","getConstantType","isAstMathVariable","lastReturn","findLastReturn","mathProperties","mathFunctions","every","dependency","isNotSafe","details","returnRawValue","unshift","signatureString","allowedExpressions","astFunctionDeclaration","astFunctionExpression","astReturnStatement","astLiteral","astBinaryExpression","astIdentifierExpression","astAssignmentExpression","astExpressionStatement","astEmptyStatement","astBlockStatement","astIfStatement","astSwitchStatement","astBreakStatement","astContinueStatement","astForStatement","astWhileStatement","astDoWhileStatement","astVariableDeclaration","astVariableDeclarator","astThisExpression","astSequenceExpression","astUnaryExpression","astUpdateExpression","astLogicalExpression","astMemberExpression","astCallExpression","astArrayExpression","astDebuggerStatement","astConditionalExpression","debugString","getAstString","leadingSource","splitLines","lineBefore","isChildFunction","astFunction","esNode","eNode","brNode","crNode","iVarDecNode","sNode","sequenceResult","expressionResult","uNode","unaryResult","checkAndUpconvertBitwiseUnary","logNode","astToFind","stack","atNode","separator","trackIdentifiers","memberExpression","runningContexts","functionContexts","returnStatements","trackedIdentifiers","newFunctionContext","scan","newContext","currentContext","currentFunctionContext","functionContext","previousRunningContext","useFunctionContext","suggestedType","normalizeDeclarations","hasState","testIdentifiers","getIdentifiers","toStringWithoutUtils","glKernelString","originKernel","setupContextString","destroyContextString","build","uploadedValues","postResult","targetName","subKernelsResultVariableSetup","getRenderString","subKernelsResultIndex","findKernelValue","tactic","checkContext","forEach","kernelArgument","uploadValue","imageIndex","texture","flattenTo","flatten2dArrayTo","flatten3dArrayTo","flatten4dArrayTo","renderOutput","renderTexture","formatValues","varName","renderKernels","getStringValueHandler","framebufferName","framebuffer","textureName","getToArrayString","mappedTextures","subKernelResult","subKernelTextureName","rendered","getGetPixelsString","constantsUpload","readBackValue","kernelResult","flattenedFunctions","isDeclaration","kernelValues","values","HTMLImageElement","kernelValue","variableIndex","variable","GLTextureArray2Float","GLTextureArray2Float2D","GLTextureArray2Float3D","GLTextureArray3Float","GLTextureArray3Float2D","GLTextureArray3Float3D","GLTextureArray4Float","GLTextureArray4Float2D","GLTextureArray4Float3D","GLTextureFloat","GLTextureFloat2D","GLTextureFloat3D","GLTextureMemoryOptimized","GLTextureMemoryOptimized2D","GLTextureMemoryOptimized3D","GLTextureUnsigned","GLTextureUnsigned2D","GLTextureUnsigned3D","GLTextureGraphical","GLKernel","transferValues","TextureConstructor","renderRawOutput","texSize","translatedSource","compiledFragmentShader","compiledVertexShader","switchingKernels","_textureSwitched","_mappedTextureSwitched","fix","warnDeprecated","floatTextures","maxTextureSize","readPackedPixelsToUint8Array","readPackedPixelsToFloat32Array","renderKernelsToTextures","requestFallback","renderKernelsToArrays","renderValues","erect3DPackedFloat","erect2DPackedFloat","erectPackedFloat","readFloatPixelsToFloat32Array","erectMemoryOptimized3DFloat","erectMemoryOptimized2DFloat","erectMemoryOptimizedFloat","erect3DArray2","erect2DArray2","erectArray2","erect3DArray3","erect2DArray3","erectArray3","erect3DArray4","erect2DArray4","erectArray4","erect3DFloat","erect2DFloat","erectFloat","getMainResultNumberTexture","getMainResultArray2Texture","getMainResultArray3Texture","getMainResultArray4Texture","getMainResultGraphical","getMainResultMemoryOptimizedFloats","getMainResultTexture","getMainResultPackedPixels","linesToString","getMainResultKernelNumberTexture","getMainResultSubKernelNumberTexture","getMainResultKernelArray2Texture","getMainResultSubKernelArray2Texture","getMainResultKernelArray3Texture","getMainResultSubKernelArray3Texture","getMainResultKernelArray4Texture","getMainResultSubKernelArray4Texture","variablePrecision","getVariablePrecisionString","clone","Uint8Array","RGBA","UNSIGNED_BYTE","buffer","w","h","FLOAT","existingValue","newOutput","toKernelOutput","newThreadDim","newTexSize","getKernelTextureSize","oldTexSize","oldPrecision","newPrecision","warn","switchKernels","needed","threadDim","bindFramebuffer","FRAMEBUFFER","updateMaxTexSize","viewport","maxTexSize","delete","_setupOutputTexture","_setupSubOutputTextures","reason","textureSize","isInt","isSpeedTacticSupported","low","medium","high","requiredSize","log2","rangeMax","prevArg","_refs","mappedTexture","previousKernel","testContext","testCanvas","kernelFunction","v1","v2","round","isDrawBuffers","getIsDrawBuffers","isFloatRead","getIsFloatRead","getIsIntegerDivisionAccurate","getIsSpeedTacticSupported","isTextureFloat","getIsTextureFloat","channelCount","getChannelCount","getMaxTextureSize","lowIntPrecision","getShaderPrecisionFormat","FRAGMENT_SHADER","LOW_INT","lowFloatPrecision","LOW_FLOAT","mediumIntPrecision","MEDIUM_INT","mediumFloatPrecision","MEDIUM_FLOAT","highIntPrecision","HIGH_INT","highFloatPrecision","HIGH_FLOAT","isStartingVariableName","isVariableChar","char","nextChar","typeMap","lastKernel","ceil","bytes","splitArray","int","float","vec2","vec3","vec4","GLTexture","framebufferTexture2D","COLOR_ATTACHMENT0","TEXTURE_2D","_deleted","Texture","newTexture","selectTexture","target","createTexture","texImage2D","internalFormat","textureFormat","textureType","copyTexSubImage2D","bindTexture","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","deleteTexture","_framebuffer","getRawValueFramebuffer","activeTexture","TEXTURE15","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","WebGLKernel","isSupported","testExtensions","HeadlessGLKernel","preserveDrawingBuffer","extensions","STACKGL_resize_drawingbuffer","STACKGL_destroy_context","OES_texture_float","OES_texture_float_linear","OES_element_index_uint","WEBGL_draw_buffers","fallbackRequested","resize","setupFeatureChecks","WEBGL_color_buffer_float","getFeatures","getParameter","RENDERER","MAX_DRAW_BUFFERS_WEBGL","MAX_TEXTURE_SIZE","KernelValue","onRequestContextHandle","onUpdateValueMismatch","undefined","contextHandle","forceUploadEachRun","Input","useLegacyEncoder","onRequestFallback","forceUploadKernelConstants","gpu","addFunction","addNativeFunction","initCanvas","initContext","initPlugins","functionToIGPUFunction","splitArgumentTypes","nativeFunctionArguments","nativeFunctionReturnType","Int32Array","getBitRatio","needsConstantTypes","setDynamicOutput","setDynamicArguments","removeCanvasReferences","Int8Array","Uint16Array","Int16Array","argumentsTypes","pluginNames","plugin","Constructor","getSignature","getArgumentTypes","sourceString","argumentTypesObject","fragmentShader","E","WebGLFunctionNode","consequentType","alternateType","sanitizeName","castLiteralToFloat","castValueToInteger","castLiteralToInteger","checkAndUpconvertOperator","castValueToFloat","leftType","operatorMap","literalResult","literalType","bitwiseResult","checkAndUpconvertBitwiseOperators","upconvertableOperators","foundOperator","initString","initNeedsSemiColon","declarationSets","declarationSet","actualType","markupType","declarationResult","fallingThrough","defaultResult","movingDefaultToEnd","pastFirstIf","testType","cleanName","memberExpressionPropertyMarkup","memberExpressionXYZ","functionMatch","functionReplace","targetType","subNode","WebGLKernelValueBoolean","WebGLKernelValueFloat","WebGLKernelValueInteger","WebGLKernelValueHTMLImage","WebGLKernelValueDynamicHTMLImage","WebGLKernelValueHTMLVideo","WebGLKernelValueDynamicHTMLVideo","WebGLKernelValueSingleInput","WebGLKernelValueDynamicSingleInput","WebGLKernelValueUnsignedInput","WebGLKernelValueDynamicUnsignedInput","WebGLKernelValueMemoryOptimizedNumberTexture","WebGLKernelValueDynamicMemoryOptimizedNumberTexture","WebGLKernelValueNumberTexture","WebGLKernelValueDynamicNumberTexture","WebGLKernelValueSingleArray","WebGLKernelValueDynamicSingleArray","WebGLKernelValueSingleArray1DI","WebGLKernelValueDynamicSingleArray1DI","WebGLKernelValueSingleArray2DI","WebGLKernelValueDynamicSingleArray2DI","WebGLKernelValueSingleArray3DI","WebGLKernelValueDynamicSingleArray3DI","WebGLKernelValueArray2","WebGLKernelValueArray3","WebGLKernelValueArray4","WebGLKernelValueUnsignedArray","WebGLKernelValueDynamicUnsignedArray","kernelValueMaps","unsigned","dynamic","single","lookupKernelValueType","WebGLKernelValue","WebGLKernelArray","requestTexture","setupTexture","defineTexture","onRequestTexture","onRequestIndex","dimensionsId","sizeId","setUniform2fv","setUniform3fv","setUniform4fv","setUniform1i","checkSize","dimensions","setUniform3iv","setUniform2iv","inputTexture","getMemoryOptimizedFloatTextureSize","uploadArrayLength","setShape","getMemoryOptimizedPackedTextureSize","Type","getTransferArrayType","preUploadValue","setUniform1f","inputImage","initialValueConstructor","pixelStorei","UNPACK_FLIP_Y_WEBGL","Uint32Array","Float64Array","sameError","updateTextureArgumentRefs","valueDimensions","TranserArrayType","mrud","vertexShader","canvases","maxTexSizes","endianness","systemEndianness","argumentTextureCount","constantTextureCount","fragShader","vertShader","drawBuffersMap","onRequestSwitchKernel","textureCache","programUniformLocationCache","uniform1fCache","uniform1iCache","uniform2fCache","uniform2fvCache","uniform2ivCache","uniform3fvCache","uniform3ivCache","uniform4fvCache","uniform4ivCache","alpha","depth","antialias","pluginsToUse","usePlugin","some","pluginName","checkTextureSize","canvasIndex","needsArgumentTypes","textureIndexes","TEXTURE0","setup","initExtensions","failureResult","pickRenderStrategy","enable","SCISSOR_TEST","getVertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getFragmentShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","createProgram","attachShader","linkProgram","createFramebuffer","rawValueFramebuffers","vertices","texCoords","texCoordOffset","byteLength","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","bufferSubData","aPosLoc","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","aTexCoordLoc","useProgram","updateValue","getPrototypeString","setupReturnTypes","getSubKernelResultType","scissor","setUniform2f","onBeforeRun","bindRenderbuffer","RENDERBUFFER","_replaceOutputTexture","drawArrays","TRIANGLE_STRIP","_replaceSubOutputTextures","getInternalFormat","beforeMutate","format","getTextureFormat","cache","getUniformLocation","uniform1f","uniform1i","value1","value2","uniform2f","uniform2fv","uniform2iv","uniform3fv","uniform3iv","uniform4fv","uniform4iv","HEADER","_getHeaderString","LOOP_MAX","PLUGINS","_getPluginsString","CONSTANTS","_getConstantsString","DECODE32_ENDIANNESS","_getDecode32EndiannessString","ENCODE32_ENDIANNESS","_getEncode32EndiannessString","DIVIDE_WITH_INTEGER_CHECK","_getDivideWithIntegerCheckString","INJECTED_NATIVE","_getInjectedNative","MAIN_CONSTANTS","_getMainConstantsString","MAIN_ARGUMENTS","_getMainArgumentsString","KERNEL","MAIN_RESULT","getMainResultString","FLOAT_TACTIC_DECLARATION","getFloatTacticDeclaration","INT_TACTIC_DECLARATION","getIntTacticDeclaration","SAMPLER_2D_TACTIC_DECLARATION","getSampler2DTacticDeclaration","SAMPLER_2D_ARRAY_TACTIC_DECLARATION","getSampler2DArrayTacticDeclaration","getSource","getKernelResultDeclaration","getMainResultKernelPackedPixels","getMainResultSubKernelPackedPixels","channels","channel","getMainResultKernelMemoryOptimizedFloats","getMainResultSubKernelMemoryOptimizedFloats","src","artifact","replaceArtifacts","_getFragShaderArtifactMap","_getVertShaderArtifactMap","deleteBuffer","deleteFramebuffer","deleteShader","deleteProgram","textureCacheIndex","idx","destroyExtensions","kernels","isContextMatch","WebGLRenderingContext","loseContext","WebGL2FunctionNode","WebGL2KernelValueBoolean","WebGL2KernelValueFloat","WebGL2KernelValueInteger","WebGL2KernelValueHTMLImage","WebGL2KernelValueDynamicHTMLImage","WebGL2KernelValueHTMLImageArray","WebGL2KernelValueDynamicHTMLImageArray","WebGL2KernelValueHTMLVideo","WebGL2KernelValueDynamicHTMLVideo","WebGL2KernelValueSingleInput","WebGL2KernelValueDynamicSingleInput","WebGL2KernelValueUnsignedInput","WebGL2KernelValueDynamicUnsignedInput","WebGL2KernelValueMemoryOptimizedNumberTexture","WebGL2KernelValueDynamicMemoryOptimizedNumberTexture","WebGL2KernelValueNumberTexture","WebGL2KernelValueDynamicNumberTexture","WebGL2KernelValueSingleArray","WebGL2KernelValueDynamicSingleArray","WebGL2KernelValueSingleArray1DI","WebGL2KernelValueDynamicSingleArray1DI","WebGL2KernelValueSingleArray2DI","WebGL2KernelValueDynamicSingleArray2DI","WebGL2KernelValueSingleArray3DI","WebGL2KernelValueDynamicSingleArray3DI","WebGL2KernelValueArray2","WebGL2KernelValueArray3","WebGL2KernelValueArray4","WebGL2KernelValueUnsignedArray","WebGL2KernelValueDynamicUnsignedArray","TEXTURE_2D_ARRAY","texImage3D","xOffset","yOffset","imageDepth","texSubImage3D","RGBA32F","WebGL2Kernel","EXT_color_buffer_float","R32F","RED","RG32F","RG","REPEAT","texStorage2D","WebGL2RenderingContext","MAX_DRAW_BUFFERS","lib","bindTo","kernelRunShortcut","kernelOrder","kernelTypes","internalKernels","mode","chooseKernel","ExternalKernel","isFunction","devKernel","upgradeDeprecatedCreateKernelSettings","switchableKernels","settingsCopy","fallbackKernel","kernelRun","dynamicArgument","replaceKernel","reasons","_kernel","existingKernel","onActivate","newKernel","mergedSettings","argument2Type","createKernel","firstKernel","setPipeline","setTimeout","destroyContext","Worker","importScripts","HTMLCanvasElement","upgradedSettings","floatOutput","outputToTexture","outputImmutable","webGLKernelValueMaps","webGL2KernelValueMaps","mathRandom","resetSwitchingKernels","shortcut","accept","replacementKernel","bindKernelToShortcut","allPropertiesOf","substring","__defineGetter__","__defineSetter__","functionReturnType","random","FUNCTION_NAME","STRIP_COMMENTS","ARGUMENT_NAMES","_systemEndianness","getSystemEndianness","ArrayBuffer","funcObj","toLowerCase","funcStr","fnStr","isActiveClone","nodeName","texelCount","closestSquareDimensions","sqrt","totalArea","roundTo","pad","dim","part","byteOffset","lines","props","getOwnPropertyNames","getPrototypeOf","oldName","newName","yResults","xStart","xEnd","zResults","xResults","xResultsMax","XResultsMax","flattened","functionDependencies","flatten","flat","lookup","foundSource","flattenedFunctionDependencies","functionDependency","normalizedDeclarations","declarationIndex","propertyIndex","subPropertyIndex","subProperty","elementIndex","splitHTMLImageToRGB","image","rKernel","gKernel","bKernel","aKernel","splitRGBAToCanvases","rgba","visualKernelR","visualKernelG","visualKernelB","visualKernelA","getMinifySafeName","dollarSign","doubleUnderscore","singleUnderscore","activate","weight","measure","delta","exp","classof","IndexedObject","DESCRIPTORS","IE8_DOM_DEFINE","propertyIsEnumerableModule","definePropertyModule","store","WeakMap","NATIVE_WEAK_MAP","objectHas","InternalStateModule","require$$0","hiddenKeys","internalObjectKeys","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","getOwnPropertyDescriptorModule","getOwnPropertyDescriptor","isForced","$","expm1","tanh","leakyRelu","relu","sigmoid","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","userAgent","SPECIES","V8_VERSION","aFunction","createMethod","STRICT_METHOD","USES_TO_LENGTH","HAS_SPECIES_SUPPORT","MAX_SAFE_INTEGER","nativeKeys","DOMIterables","CrossValidate","Classifier","trainOpts","trainSet","testSet","classifier","beginTrain","Date","now","trainingStats","train","beginTest","testStats","endTest","stats","trainTime","testTime","iterations","learningRate","hiddenLayers","network","shuffleArray","newData","avgs","binaryStats","truePos","trueNeg","falsePos","falseNeg","stat","isBinary","dclone","testPartition","recall","accuracy","testSize","trainSize","sets","crossValidateJson","reduce","prev","instance","create","fill","IE_PROTO","CORRECT_PROTOTYPE_GETTER","IteratorPrototype","returnThis","Iterators","IteratorsCore","BUGGY_SAFARI_ITERATORS","ITERATOR","setPrototypeOf","require$$1","getInternalState","setInternalState","PROTOTYPE","ObjectPrototype","RangeError","IEEE754","NATIVE_ARRAY_BUFFER","ArrayBufferModule","DataView","TO_STRING_TAG","TO_STRING_TAG_SUPPORT","NATIVE_ARRAY_BUFFER_VIEWS","ArrayPrototype","aTypedArrayConstructor","ArrayBufferViewCore","TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS","createTypedArrayConstructor","aTypedArray","exportTypedArrayMethod","$copyWithin","$fill","$forEach","ArrayIterators","FORCED","$lastIndexOf","$map","$reduce","$slice","gpuInstance","teardown","makeKernel","createKernelMap","makeDevKernel","kernelInput","release","zeros","zeros2D","checkSameSize","layer1","layer2","NAME","require$$2","require$$3","Base","weights","deltas","praxisOpts","praxis","defaults","setupPraxis","layer","predictKernel","compareKernel","previousLayer","nextLayer","oldWeights","jsonLayer","zeros3D","Activation","inputLayer","Internal","InternalModel","EntryPoint","Filter","Model","Modifier","Operator","predict","inputWeights1","inputWeights2","Add","inputLayer1","inputLayer2","layerTemplate","updateChange","changes","incomingWeights","inputDeltas","lastChange","inputDelta","incoming","change","momentum","ArthurDeviationWeights","weightsLayer","incomingLayer","deltaLayer","arthurDeviationWeights","ArthurDeviationBiases","arthurDeviationBiases","randomWeight","randomFloat","gaussRandom","returnV","vVal","randomInteger","randomN","mu","std","randos","randos2D","Random","weights1","weights2","sum","compareFromX","inputWeights","compareFromY","Multiply","compareKernel1","compareKernel2","inputLayer1Deltas","inputLayer2Deltas","newDeltas1","newDeltas2","multiply","predict2D","inputs","predict3D","compare2D","compare3D","Sigmoid","require$$4","require$$5","arthurFeedForward","weightsPraxis","setupKernels","biasesPraxis","biasesLayer","multiplyLayer","addLayer","sigmoidLayer","setStride","strideX","stride","strideY","setPadding","paddingX","padding","paddingY","randos3D","rondos2D","filters","biases","startFilterX","startInputX","endFilterX","filterWidth","inputWidth","startFilterY","startInputY","endFilterY","filterHeight","inputHeight","inputDepth","filterY","inputY","filterX","inputX","compareFilterDeltas","filterDeltas","startDeltaX","endDeltaX","deltaWidth","startDeltaY","endDeltaY","deltaHeight","deltaY","deltaX","deltaZ","compareInputDeltas","compareBiases","biasDeltas","Convolution","bias","filterCount","learnFilters","learnInputs","compareFilterDeltasKernel","deltasWidth","deltasHeight","deltasDepth","compareInputDeltasKernel","compareBiasesKernel","convolution","setDropout","dropout","trainingPredict","probability","compare","dropouts","Dropout","isTraining","feedForward","compareInputDeltas3D","compareFilterDeltas3D","inputZ","FullyConnected","connectionCount","inputLayerDeltas","fullyConnected","Negative","negative","inputLayerWeights1","inputLayerWeights2","MultiplyElement","multiplyElement","ones","ones2D","Ones","errors","Tanh","Zeros","require$$6","require$$7","require$$8","gru","recurrentInput","updateGateWeights","updateGatePeepholes","updateGateBias","updateGate","resetGateWeights","resetGatePeepholes","resetGateBias","resetGate","cellWeights","cellPeepholes","cellBias","cell","rows","columns","reshapeInput","predict1D","LeakyRelu","lstmCell","setDimensions","inputGateWeights","inputGatePeepholes","inputGateBias","inputGate","forgetGateWeights","forgetGatePeepholes","forgetGateBias","forgetGate","outputGateWeights","outputGatePeepholes","outputGateBias","outputGate","memoryWeights","memoryPeepholes","memoryBias","memory","retainCell","writeCell","compare1D","targetValues","Target","compareFn","outputGateConnector","setSwitchY","setSwitchX","largestValue","switchY","switchX","outputWidth","outputHeight","deltasY","deltasX","switchXValue","switchYValue","Pool","outputDepth","pool","Relu","rnnCell","transition","Regression","learn","targets","regression","getMaxValue","maxInput","getMaxValue2D","getMaxValue3D","getSum","getSum2D","getSum3D","getExponentials","getExponentials2D","getExponentials3D","exponentials","exponentialsSum","indicator","loss","SoftMax","getExponentialsKernel","getMaxValueKernel","getSumKernel","maxValue","softMax","SVM","svm","Transpose","transpose","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","require$$15","require$$16","require$$17","require$$18","require$$19","require$$20","require$$21","require$$22","require$$23","require$$24","require$$25","require$$26","require$$27","likely","net","TypeError","maxProp","arrayBufferModule","NativeArrayBuffer","exportTypedArrayStaticMethod","Lookup","hashes","hash","memo","toHash","objects2D","table","valueIndex","objects","tableIndex","dataIndex","arrayLength","limit","shape","Adam","adam","getMomentum","decay","previousMomentum","clipByValue","previousMomenta","clippedDelta","clipValue","decayRate","smoothEps","regularizationStrength","isClippedByValue","MomentumRootMeanSquaredPropagation","momenta","momentumRootMeanSquaredPropagation","MRmsProp","mRmsProp","$filter","$indexOf","NEGATIVE_ZERO","layerFromJSON","Layer","realLayer","Reflect","construct","traverseLayersFrom","cb","flattenLayers","layers","mse2d","MeanSquaredError","calculate","addAbsolute","abs","divide","mseSum","FeedForward","trainDefaults","_validateTrainingOptions","_setLogMethod","callback","callbackPeriod","errorCheckInterval","validations","errorThresh","logPeriod","timeout","reinforce","binaryThresh","outputLayer","_inputLayer","_outputLayer","_model","_updateTrainingOptions","structure","_hiddenLayers","_connectHiddenLayers","hiddenLayer","_connectLayers","initializeLayers","lastLayer","meanSquaredError","inputLookup","runInput","outputLookup","status","endTime","_prepTraining","_trainingTick","_calculateTrainingError","_trainPatterns","formattedData","formatData","verifyIsInitialized","transferData","initialize","prevSum","_trainPattern","resultArray","logErrorRate","_calculateDeltas","adjustWeights","tmp","inputDatumCheck","buildLookup","datumParam","outputDatumCheck","transferredData","transferInput","transferOutput","formattedDatum","jsonLayers","inputLayerIndex","inputLayer1Index","inputLayer2Index","sizes","concat","getLayer","process","IS_IOS","task","NativePromise","newPromiseCapability","newPromiseCapabilityModule","IS_NODE","notify","iterate","this","block_1","mse","LookupTable","datum","arraysToFloat32Arrays","arrays","arrayToFloat32Arrays","arrayToFloat32Array","objectsToFloat32Arrays","objectToFloat32Arrays","objectToFloat32Array","Thaw","getTypedArrayFn","NeuralNetwork","beta1","beta2","epsilon","leakyReluAlpha","activation","updateTrainingOptions","outputs","calculateDeltas","inputLookupLength","outputLookupLength","inputSize","outputSize","prevSize","setActivation","_setupAdam","_runInputSigmoid","_calculateDeltasSigmoid","_runInputRelu","_calculateDeltasRelu","_runInputLeakyRelu","_calculateDeltasLeakyRelu","_runInputTanh","_calculateDeltasTanh","isRunnable","toObject","activeLayer","activeWeights","activeBiases","activeOutputs","currentSize","currentWeights","currentBiases","currentOutputs","validateTrainingOptions","setLogMethod","logTrainingStatus","trainPattern","calculateTrainingError","trainPatterns","prepTraining","trainingTick","thawedTrain","delay","each","stop","tick","trainError","activeSize","activeOutput","activeError","activeDeltas","nextWeights","nextDeltas","currentErrors","currentDeltas","activeDelta","activeChanges","biasChangesLow","biasChangesHigh","changesLow","changesHigh","_adjustWeightsAdam","currentChangesLow","currentChangesHigh","currentBiasChangesLow","currentBiasChangesHigh","gradient","changeLow","changeHigh","momentumCorrection","pow","gradientCorrection","biasGradient","biasChangeLow","biasChangeHigh","biasMomentumCorrection","biasGradientCorrection","_formatInput","_formatOutput","addKeys","misclasses","errorSum","actual","expected","misclass","getTrainOptsJSON","needsVar","nodeHandle","layerNumber","nodeKey","layersAsMath","checkFns","INCORRECT_ITERATION","gpuUtils","weightedSumSigmoid","weightedSumRelu","weightedSumLeakyRelu","weightedSumTanh","calcErrorOutput","calcDeltasSigmoid","calcDeltasRelu","calcDeltasLeakyRelu","calcDeltasTanh","calcError","calcChanges","previousChanges","previousOutputs","addWeights","addBiases","NeuralNetworkGPU","forwardPropagate","backwardPropagate","changesPropagate","biasesPropagate","buildRunInput","buildCalculateDeltas","buildGetChanges","buildChangeBiases","buildGetMSE","getMSE","_addMSE","_divideMSESum","getChanges","changeBiases","weightedSum","texturizeInputData","calcDeltas","outputTextures","texturizeOutputData","base64.fromByteArray","ieee754.read","ieee754.write","base64.toByteArray","queue","isObject","objectToString","inherits","listenerCount","Buffer.isBuffer","EE","Writable","TrainStream","objectMode","neuralNetwork","dataFormatDetermined","count","floodCallback","doneTrainingCallback","on","finishStreamIteration","write","chunk","enc","emit","addFormat","firstDatum","FAILS_ON_PRIMITIVES","nativeGetPrototypeOf","RecurrentConnection","RecurrentInput","recurrentInputDeltas","recurrentInputWeights","RecurrentZeros","recurrentZeros","Recurrent","previousLayers","_layerSets","usedHiddenLayerOutputIndex","findInputLayer","layerSettings","previousHiddenLayerOutput","_hiddenLayerOutputIndices","_outputConnection","layerSet","_connectLayersDeep","reuseKernels","initializeDeep","lastLayerUsed","lastLayerSet","prevError","_inputLayers","_hiddenLayerSets","_outputLayers","_previousInputs","_recurrentIndices","UNSUPPORTED_Y","stickyHelpers","fixRegExpWellKnownSymbolLogic","regExpExec","isRegExp","callRegExpExec","Matrix","ix","weightRows","deltasRows","m","rowIndex","weightValues","deltasValues","columnIndex","setWeight","setDeltas","RandomMatrix","LN2","cloneNegative","product","addB","allOnes","leftRows","leftColumns","rightColumns","leftRow","leftRowBase","rightRowBase","rightColumn","leftColumn","rightColumnBase","leftIndex","rightIndex","multiplyB","leftRowRoot","rightRow","backPropagateValue","multiplyElementB","reluB","rowPluck","rowPluckIndex","rowBase","rowPluckB","sigmoidB","mwi","tanhB","softmax","maxVal","Equation","inputRow","inputValue","forwardFn","backpropagationFn","runIndex","logProbabilities","probabilities","sampleI","maxI","maxv","maxix","copy","FREEZING","InternalMetadataModule","ArrayIteratorMethods","COLLECTION_NAME","Collection","CollectionPrototype","DataFormatter","maxThreshold","indexTable","characterTable","characters","specialIndexes","buildCharactersFromIterable","buildTables","tempCharactersTable","dataFormatterIndex","dataFormatterLength","characterIndex","charactersLength","character","unrecognized","toIndexes","indices","toCharacters","addSpecial","special","specialIndex","toIndexesInputOutput","dataFormatter","fromAllPrintable","addInputOutput","validateAndCast","defaultRNNFormatter","addUnrecognized","formatDataIn","fromArrayInputOutput","RNN","stepCache","runs","ratioClipped","model","equations","allMatrices","equationConnections","outputConnector","inputRange","mapModel","getModel","hiddenSize","lastHiddenSize","equation","equationConnection","initialLayerInputs","getEquation","inputMatrixToRow","createInputMatrix","createHiddenLayers","hiddenMatrix","createOutputMatrix","trainInput","backpropagate","log2ppl","bindEquation","inputIndex","inputMax","equationIndex","predictTargetIndex","backpropagateIndex","regc","clipval","numClipped","numTot","matrixIndex","rawInput","isSampleI","temperature","maxPredictionLength","previousIndex","outputMatrix","probs","formatDataOut","setupData","hiddenSizes","jsonString","previousConnectionIndex","connection","matrixOrigin","stateIndex","matrixToString","toInner","fileName","fnName","statesRaw","usedFunctionNames","innerFunctionsSwitch","toFunctionString","inputMatrix","previousResult","ArrayLookupTable","RNNTimeStep","runObject","runNumbers","runObjects","runArrays","forecast","forecastNumbers","forecastObjects","forecastArrays","setSize","trainInputOutput","trainArrays","trainNumbers","dataShape","toTable2D","toInputTable2D","toOutputTable2D","predictTarget","lastOutput","inputArray","toArrayShort","toObjectPartial","totalSize","outputIndex","toArrays","lookupTable","errorMSE","errorsAbs","errorCount","formatInputData","formatOutputData","forceForecast","LSTM","inputHidden","inputBias","forgetMatrix","forgetHidden","forgetBias","outputHidden","outputBias","cellActivationMatrix","cellActivationHidden","cellActivationBias","cellWrite","LSTMTimeStep","GRU","updateGateInputMatrix","updateGateHiddenMatrix","resetGateInputMatrix","resetGateHiddenMatrix","cellWriteInputMatrix","cellWriteHiddenMatrix","cellWriteBias","GRUTimeStep","$every","recurrentJSONTypes","drawInput","pixelX","pixelY","radius","fontSize","fontClassName","svg","className","drawNeuron","hidden","drawOutput","drawBackwardConnections","lineY","neuralNetworkToSVG","previousSize","drawRecurrentConnections","recurrentLine","moveX","moveY","x1","y1","x2","y2","rnnToSVG","getFeedForwardLayers","layerCount","getRecurrentLayers","wrapSVG","svgBody","getSizes","toSVG","mergedOptions","isRNN","brain","layerTypes","recurrent","utilities","config","trainingData","getElementById","innerHTML","neuralNetworkDiagram","rnnConf","rnn","rnnNetwork","rnnNetworkDiagram","bundleURL","getBundleURLCached","getBundleURL","matches","getBaseURL","url","bundle","updateLink","link","newLink","cloneNode","onload","remove","href","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","OVERLAY_ID","OldModule","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","generated","js","hmrApply","hmrAcceptRun","reload","onclose","removeErrorOverlay","overlay","createErrorOverlay","appendChild","stackTrace","innerText","getParents","modules","parents","dep","deps","cached"],"mappings":"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AACiG,OAAL,CAAa+1D,UAAb,EAAyB,KAAzB,CAAP;AACD;;AACD,cAAIC,gBAAgB,CAACj9D,IAAjB,CAAsBgB,IAAtB,CAAJ,EAAiC;AAC/BA,YAAAA,IAAI,GAAGA,IAAI,CAACiG,OAAL,CAAag2D,gBAAb,EAA+B,KAA/B,CAAP;AACD,WAFD,MAEO,IAAIC,gBAAgB,CAACl9D,IAAjB,CAAsBgB,IAAtB,CAAJ,EAAiC;AACtCA,YAAAA,IAAI,GAAGA,IAAI,CAACiG,OAAL,CAAai2D,gBAAb,EAA+B,KAA/B,CAAP;AACD;;AACD,iBAAOl8D,IAAP;AACD;AAt1BW,OAAd;AAy1BA,UAAMg8D,UAAU,GAAG,IAAnB;AACA,UAAMC,gBAAgB,GAAG,IAAzB;AACA,UAAMC,gBAAgB,GAAG,GAAzB;;AAEA,UAAM5D,iBAAiB,GAAGhhC,KAAK,CAACihC,mBAAN,EAA1B;;AAEAl8D,MAAAA,MAAM,CAACD,OAAP,GAAiB;AACfk7B,QAAAA,KAAK,EAALA;AADe,OAAjB;AAGC,KA32BS,EA22BR;AAAC,iBAAU,GAAX;AAAe,mBAAY,GAA3B;AAA+B,eAAQ;AAAvC,KA32BQ;AAhpkBgzB,GAA5c,EA2/lBhU,EA3/lBgU,EA2/lB7T,CAAC,GAAD,CA3/lB6T,EA2/lBtT,GA3/lBsT,CAAP;AA4/lBtW,CA5/lBE;;ACbH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrFA;AACA;AACA;AACA;AACA;AACA;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["/**\n * gpu.js\n * http://gpu.rocks/\n *\n * GPU Accelerated JavaScript\n *\n * @version 2.11.3\n * @date Wed Apr 14 2021 16:49:13 GMT-0400 (Eastern Daylight Time)\n *\n * @license MIT\n * The MIT License\n *\n * Copyright (c) 2021 gpu.js Team\n */(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.GPU = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.acorn = {}));\n}(this, function (exports) { 'use strict';\n\n\n  var reservedWords = {\n    3: \"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\",\n    5: \"class enum extends super const export import\",\n    6: \"enum\",\n    strict: \"implements interface let package private protected public static yield\",\n    strictBind: \"eval arguments\"\n  };\n\n\n  var ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\n\n  var keywords = {\n    5: ecma5AndLessKeywords,\n    \"5module\": ecma5AndLessKeywords + \" export import\",\n    6: ecma5AndLessKeywords + \" const class extends export import super\"\n  };\n\n  var keywordRelationalOperator = /^in(stanceof)?$/;\n\n\n  var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05d0-\\u05ea\\u05ef-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086a\\u08a0-\\u08b4\\u08b6-\\u08bd\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u09fc\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0af9\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58-\\u0c5a\\u0c60\\u0c61\\u0c80\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d54-\\u0d56\\u0d5f-\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e86-\\u0e8a\\u0e8c-\\u0ea3\\u0ea5\\u0ea7-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f5\\u13f8-\\u13fd\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1878\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1c80-\\u1c88\\u1c90-\\u1cba\\u1cbd-\\u1cbf\\u1ce9-\\u1cec\\u1cee-\\u1cf3\\u1cf5\\u1cf6\\u1cfa\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312f\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fef\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua7bf\\ua7c2-\\ua7c6\\ua7f7-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua8fd\\ua8fe\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab67\\uab70-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n  var nonASCIIidentifierChars = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u07fd\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08d3-\\u08e1\\u08e3-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u09fe\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0afa-\\u0aff\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c04\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d00-\\u0d03\\u0d3b\\u0d3c\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf4\\u1cf7-\\u1cf9\\u1dc0-\\u1df9\\u1dfb-\\u1dff\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69e\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c5\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua8ff-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  nonASCIIidentifierStartChars = nonASCIIidentifierChars = null;\n\n\n  var astralIdentifierStartCodes = [0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541];\n\n  var astralIdentifierCodes = [509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];\n\n  function isInAstralSet(code, set) {\n    var pos = 0x10000;\n    for (var i = 0; i < set.length; i += 2) {\n      pos += set[i];\n      if (pos > code) { return false }\n      pos += set[i + 1];\n      if (pos >= code) { return true }\n    }\n  }\n\n\n  function isIdentifierStart(code, astral) {\n    if (code < 65) { return code === 36 }\n    if (code < 91) { return true }\n    if (code < 97) { return code === 95 }\n    if (code < 123) { return true }\n    if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code)) }\n    if (astral === false) { return false }\n    return isInAstralSet(code, astralIdentifierStartCodes)\n  }\n\n\n  function isIdentifierChar(code, astral) {\n    if (code < 48) { return code === 36 }\n    if (code < 58) { return true }\n    if (code < 65) { return false }\n    if (code < 91) { return true }\n    if (code < 97) { return code === 95 }\n    if (code < 123) { return true }\n    if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code)) }\n    if (astral === false) { return false }\n    return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes)\n  }\n\n\n\n\n\n  var TokenType = function TokenType(label, conf) {\n    if ( conf === void 0 ) conf = {};\n\n    this.label = label;\n    this.keyword = conf.keyword;\n    this.beforeExpr = !!conf.beforeExpr;\n    this.startsExpr = !!conf.startsExpr;\n    this.isLoop = !!conf.isLoop;\n    this.isAssign = !!conf.isAssign;\n    this.prefix = !!conf.prefix;\n    this.postfix = !!conf.postfix;\n    this.binop = conf.binop || null;\n    this.updateContext = null;\n  };\n\n  function binop(name, prec) {\n    return new TokenType(name, {beforeExpr: true, binop: prec})\n  }\n  var beforeExpr = {beforeExpr: true}, startsExpr = {startsExpr: true};\n\n\n  var keywords$1 = {};\n\n  function kw(name, options) {\n    if ( options === void 0 ) options = {};\n\n    options.keyword = name;\n    return keywords$1[name] = new TokenType(name, options)\n  }\n\n  var types = {\n    num: new TokenType(\"num\", startsExpr),\n    regexp: new TokenType(\"regexp\", startsExpr),\n    string: new TokenType(\"string\", startsExpr),\n    name: new TokenType(\"name\", startsExpr),\n    eof: new TokenType(\"eof\"),\n\n    bracketL: new TokenType(\"[\", {beforeExpr: true, startsExpr: true}),\n    bracketR: new TokenType(\"]\"),\n    braceL: new TokenType(\"{\", {beforeExpr: true, startsExpr: true}),\n    braceR: new TokenType(\"}\"),\n    parenL: new TokenType(\"(\", {beforeExpr: true, startsExpr: true}),\n    parenR: new TokenType(\")\"),\n    comma: new TokenType(\",\", beforeExpr),\n    semi: new TokenType(\";\", beforeExpr),\n    colon: new TokenType(\":\", beforeExpr),\n    dot: new TokenType(\".\"),\n    question: new TokenType(\"?\", beforeExpr),\n    arrow: new TokenType(\"=>\", beforeExpr),\n    template: new TokenType(\"template\"),\n    invalidTemplate: new TokenType(\"invalidTemplate\"),\n    ellipsis: new TokenType(\"...\", beforeExpr),\n    backQuote: new TokenType(\"`\", startsExpr),\n    dollarBraceL: new TokenType(\"${\", {beforeExpr: true, startsExpr: true}),\n\n\n    eq: new TokenType(\"=\", {beforeExpr: true, isAssign: true}),\n    assign: new TokenType(\"_=\", {beforeExpr: true, isAssign: true}),\n    incDec: new TokenType(\"++/--\", {prefix: true, postfix: true, startsExpr: true}),\n    prefix: new TokenType(\"!/~\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    logicalOR: binop(\"||\", 1),\n    logicalAND: binop(\"&&\", 2),\n    bitwiseOR: binop(\"|\", 3),\n    bitwiseXOR: binop(\"^\", 4),\n    bitwiseAND: binop(\"&\", 5),\n    equality: binop(\"==/!=/===/!==\", 6),\n    relational: binop(\"</>/<=/>=\", 7),\n    bitShift: binop(\"<</>>/>>>\", 8),\n    plusMin: new TokenType(\"+/-\", {beforeExpr: true, binop: 9, prefix: true, startsExpr: true}),\n    modulo: binop(\"%\", 10),\n    star: binop(\"*\", 10),\n    slash: binop(\"/\", 10),\n    starstar: new TokenType(\"**\", {beforeExpr: true}),\n\n    _break: kw(\"break\"),\n    _case: kw(\"case\", beforeExpr),\n    _catch: kw(\"catch\"),\n    _continue: kw(\"continue\"),\n    _debugger: kw(\"debugger\"),\n    _default: kw(\"default\", beforeExpr),\n    _do: kw(\"do\", {isLoop: true, beforeExpr: true}),\n    _else: kw(\"else\", beforeExpr),\n    _finally: kw(\"finally\"),\n    _for: kw(\"for\", {isLoop: true}),\n    _function: kw(\"function\", startsExpr),\n    _if: kw(\"if\"),\n    _return: kw(\"return\", beforeExpr),\n    _switch: kw(\"switch\"),\n    _throw: kw(\"throw\", beforeExpr),\n    _try: kw(\"try\"),\n    _var: kw(\"var\"),\n    _const: kw(\"const\"),\n    _while: kw(\"while\", {isLoop: true}),\n    _with: kw(\"with\"),\n    _new: kw(\"new\", {beforeExpr: true, startsExpr: true}),\n    _this: kw(\"this\", startsExpr),\n    _super: kw(\"super\", startsExpr),\n    _class: kw(\"class\", startsExpr),\n    _extends: kw(\"extends\", beforeExpr),\n    _export: kw(\"export\"),\n    _import: kw(\"import\", startsExpr),\n    _null: kw(\"null\", startsExpr),\n    _true: kw(\"true\", startsExpr),\n    _false: kw(\"false\", startsExpr),\n    _in: kw(\"in\", {beforeExpr: true, binop: 7}),\n    _instanceof: kw(\"instanceof\", {beforeExpr: true, binop: 7}),\n    _typeof: kw(\"typeof\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    _void: kw(\"void\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    _delete: kw(\"delete\", {beforeExpr: true, prefix: true, startsExpr: true})\n  };\n\n\n  var lineBreak = /\\r\\n?|\\n|\\u2028|\\u2029/;\n  var lineBreakG = new RegExp(lineBreak.source, \"g\");\n\n  function isNewLine(code, ecma2019String) {\n    return code === 10 || code === 13 || (!ecma2019String && (code === 0x2028 || code === 0x2029))\n  }\n\n  var nonASCIIwhitespace = /[\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n\n  var skipWhiteSpace = /(?:\\s|\\/\\/.*|\\/\\*[^]*?\\*\\/)*/g;\n\n  var ref = Object.prototype;\n  var hasOwnProperty = ref.hasOwnProperty;\n  var toString = ref.toString;\n\n\n  function has(obj, propName) {\n    return hasOwnProperty.call(obj, propName)\n  }\n\n  var isArray = Array.isArray || (function (obj) { return (\n    toString.call(obj) === \"[object Array]\"\n  ); });\n\n  function wordsRegexp(words) {\n    return new RegExp(\"^(?:\" + words.replace(/ /g, \"|\") + \")$\")\n  }\n\n\n  var Position = function Position(line, col) {\n    this.line = line;\n    this.column = col;\n  };\n\n  Position.prototype.offset = function offset (n) {\n    return new Position(this.line, this.column + n)\n  };\n\n  var SourceLocation = function SourceLocation(p, start, end) {\n    this.start = start;\n    this.end = end;\n    if (p.sourceFile !== null) { this.source = p.sourceFile; }\n  };\n\n\n  function getLineInfo(input, offset) {\n    for (var line = 1, cur = 0;;) {\n      lineBreakG.lastIndex = cur;\n      var match = lineBreakG.exec(input);\n      if (match && match.index < offset) {\n        ++line;\n        cur = match.index + match[0].length;\n      } else {\n        return new Position(line, offset - cur)\n      }\n    }\n  }\n\n\n  var defaultOptions = {\n    ecmaVersion: 10,\n    sourceType: \"script\",\n    onInsertedSemicolon: null,\n    onTrailingComma: null,\n    allowReserved: null,\n    allowReturnOutsideFunction: false,\n    allowImportExportEverywhere: false,\n    allowAwaitOutsideFunction: false,\n    allowHashBang: false,\n    locations: false,\n    onToken: null,\n    onComment: null,\n    ranges: false,\n    program: null,\n    sourceFile: null,\n    directSourceFile: null,\n    preserveParens: false\n  };\n\n\n  function getOptions(opts) {\n    var options = {};\n\n    for (var opt in defaultOptions)\n      { options[opt] = opts && has(opts, opt) ? opts[opt] : defaultOptions[opt]; }\n\n    if (options.ecmaVersion >= 2015)\n      { options.ecmaVersion -= 2009; }\n\n    if (options.allowReserved == null)\n      { options.allowReserved = options.ecmaVersion < 5; }\n\n    if (isArray(options.onToken)) {\n      var tokens = options.onToken;\n      options.onToken = function (token) { return tokens.push(token); };\n    }\n    if (isArray(options.onComment))\n      { options.onComment = pushComment(options, options.onComment); }\n\n    return options\n  }\n\n  function pushComment(options, array) {\n    return function(block, text, start, end, startLoc, endLoc) {\n      var comment = {\n        type: block ? \"Block\" : \"Line\",\n        value: text,\n        start: start,\n        end: end\n      };\n      if (options.locations)\n        { comment.loc = new SourceLocation(this, startLoc, endLoc); }\n      if (options.ranges)\n        { comment.range = [start, end]; }\n      array.push(comment);\n    }\n  }\n\n  var\n      SCOPE_TOP = 1,\n      SCOPE_FUNCTION = 2,\n      SCOPE_VAR = SCOPE_TOP | SCOPE_FUNCTION,\n      SCOPE_ASYNC = 4,\n      SCOPE_GENERATOR = 8,\n      SCOPE_ARROW = 16,\n      SCOPE_SIMPLE_CATCH = 32,\n      SCOPE_SUPER = 64,\n      SCOPE_DIRECT_SUPER = 128;\n\n  function functionFlags(async, generator) {\n    return SCOPE_FUNCTION | (async ? SCOPE_ASYNC : 0) | (generator ? SCOPE_GENERATOR : 0)\n  }\n\n  var\n      BIND_NONE = 0, \n      BIND_VAR = 1, \n      BIND_LEXICAL = 2, \n      BIND_FUNCTION = 3, \n      BIND_SIMPLE_CATCH = 4, \n      BIND_OUTSIDE = 5; \n\n  var Parser = function Parser(options, input, startPos) {\n    this.options = options = getOptions(options);\n    this.sourceFile = options.sourceFile;\n    this.keywords = wordsRegexp(keywords[options.ecmaVersion >= 6 ? 6 : options.sourceType === \"module\" ? \"5module\" : 5]);\n    var reserved = \"\";\n    if (options.allowReserved !== true) {\n      for (var v = options.ecmaVersion;; v--)\n        { if (reserved = reservedWords[v]) { break } }\n      if (options.sourceType === \"module\") { reserved += \" await\"; }\n    }\n    this.reservedWords = wordsRegexp(reserved);\n    var reservedStrict = (reserved ? reserved + \" \" : \"\") + reservedWords.strict;\n    this.reservedWordsStrict = wordsRegexp(reservedStrict);\n    this.reservedWordsStrictBind = wordsRegexp(reservedStrict + \" \" + reservedWords.strictBind);\n    this.input = String(input);\n\n    this.containsEsc = false;\n\n\n    if (startPos) {\n      this.pos = startPos;\n      this.lineStart = this.input.lastIndexOf(\"\\n\", startPos - 1) + 1;\n      this.curLine = this.input.slice(0, this.lineStart).split(lineBreak).length;\n    } else {\n      this.pos = this.lineStart = 0;\n      this.curLine = 1;\n    }\n\n    this.type = types.eof;\n    this.value = null;\n    this.start = this.end = this.pos;\n    this.startLoc = this.endLoc = this.curPosition();\n\n    this.lastTokEndLoc = this.lastTokStartLoc = null;\n    this.lastTokStart = this.lastTokEnd = this.pos;\n\n    this.context = this.initialContext();\n    this.exprAllowed = true;\n\n    this.inModule = options.sourceType === \"module\";\n    this.strict = this.inModule || this.strictDirective(this.pos);\n\n    this.potentialArrowAt = -1;\n\n    this.yieldPos = this.awaitPos = this.awaitIdentPos = 0;\n    this.labels = [];\n    this.undefinedExports = {};\n\n    if (this.pos === 0 && options.allowHashBang && this.input.slice(0, 2) === \"#!\")\n      { this.skipLineComment(2); }\n\n    this.scopeStack = [];\n    this.enterScope(SCOPE_TOP);\n\n    this.regexpState = null;\n  };\n\n  var prototypeAccessors = { inFunction: { configurable: true },inGenerator: { configurable: true },inAsync: { configurable: true },allowSuper: { configurable: true },allowDirectSuper: { configurable: true },treatFunctionsAsVar: { configurable: true } };\n\n  Parser.prototype.parse = function parse () {\n    var node = this.options.program || this.startNode();\n    this.nextToken();\n    return this.parseTopLevel(node)\n  };\n\n  prototypeAccessors.inFunction.get = function () { return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0 };\n  prototypeAccessors.inGenerator.get = function () { return (this.currentVarScope().flags & SCOPE_GENERATOR) > 0 };\n  prototypeAccessors.inAsync.get = function () { return (this.currentVarScope().flags & SCOPE_ASYNC) > 0 };\n  prototypeAccessors.allowSuper.get = function () { return (this.currentThisScope().flags & SCOPE_SUPER) > 0 };\n  prototypeAccessors.allowDirectSuper.get = function () { return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0 };\n  prototypeAccessors.treatFunctionsAsVar.get = function () { return this.treatFunctionsAsVarInScope(this.currentScope()) };\n\n  Parser.prototype.inNonArrowFunction = function inNonArrowFunction () { return (this.currentThisScope().flags & SCOPE_FUNCTION) > 0 };\n\n  Parser.extend = function extend () {\n      var plugins = [], len = arguments.length;\n      while ( len-- ) plugins[ len ] = arguments[ len ];\n\n    var cls = this;\n    for (var i = 0; i < plugins.length; i++) { cls = plugins[i](cls); }\n    return cls\n  };\n\n  Parser.parse = function parse (input, options) {\n    return new this(options, input).parse()\n  };\n\n  Parser.parseExpressionAt = function parseExpressionAt (input, pos, options) {\n    var parser = new this(options, input, pos);\n    parser.nextToken();\n    return parser.parseExpression()\n  };\n\n  Parser.tokenizer = function tokenizer (input, options) {\n    return new this(options, input)\n  };\n\n  Object.defineProperties( Parser.prototype, prototypeAccessors );\n\n  var pp = Parser.prototype;\n\n\n  var literal = /^(?:'((?:\\\\.|[^'])*?)'|\"((?:\\\\.|[^\"])*?)\")/;\n  pp.strictDirective = function(start) {\n    for (;;) {\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      var match = literal.exec(this.input.slice(start));\n      if (!match) { return false }\n      if ((match[1] || match[2]) === \"use strict\") { return true }\n      start += match[0].length;\n\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      if (this.input[start] === \";\")\n        { start++; }\n    }\n  };\n\n\n  pp.eat = function(type) {\n    if (this.type === type) {\n      this.next();\n      return true\n    } else {\n      return false\n    }\n  };\n\n\n  pp.isContextual = function(name) {\n    return this.type === types.name && this.value === name && !this.containsEsc\n  };\n\n\n  pp.eatContextual = function(name) {\n    if (!this.isContextual(name)) { return false }\n    this.next();\n    return true\n  };\n\n\n  pp.expectContextual = function(name) {\n    if (!this.eatContextual(name)) { this.unexpected(); }\n  };\n\n\n  pp.canInsertSemicolon = function() {\n    return this.type === types.eof ||\n      this.type === types.braceR ||\n      lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n  };\n\n  pp.insertSemicolon = function() {\n    if (this.canInsertSemicolon()) {\n      if (this.options.onInsertedSemicolon)\n        { this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc); }\n      return true\n    }\n  };\n\n\n  pp.semicolon = function() {\n    if (!this.eat(types.semi) && !this.insertSemicolon()) { this.unexpected(); }\n  };\n\n  pp.afterTrailingComma = function(tokType, notNext) {\n    if (this.type === tokType) {\n      if (this.options.onTrailingComma)\n        { this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc); }\n      if (!notNext)\n        { this.next(); }\n      return true\n    }\n  };\n\n\n  pp.expect = function(type) {\n    this.eat(type) || this.unexpected();\n  };\n\n\n  pp.unexpected = function(pos) {\n    this.raise(pos != null ? pos : this.start, \"Unexpected token\");\n  };\n\n  function DestructuringErrors() {\n    this.shorthandAssign =\n    this.trailingComma =\n    this.parenthesizedAssign =\n    this.parenthesizedBind =\n    this.doubleProto =\n      -1;\n  }\n\n  pp.checkPatternErrors = function(refDestructuringErrors, isAssign) {\n    if (!refDestructuringErrors) { return }\n    if (refDestructuringErrors.trailingComma > -1)\n      { this.raiseRecoverable(refDestructuringErrors.trailingComma, \"Comma is not permitted after the rest element\"); }\n    var parens = isAssign ? refDestructuringErrors.parenthesizedAssign : refDestructuringErrors.parenthesizedBind;\n    if (parens > -1) { this.raiseRecoverable(parens, \"Parenthesized pattern\"); }\n  };\n\n  pp.checkExpressionErrors = function(refDestructuringErrors, andThrow) {\n    if (!refDestructuringErrors) { return false }\n    var shorthandAssign = refDestructuringErrors.shorthandAssign;\n    var doubleProto = refDestructuringErrors.doubleProto;\n    if (!andThrow) { return shorthandAssign >= 0 || doubleProto >= 0 }\n    if (shorthandAssign >= 0)\n      { this.raise(shorthandAssign, \"Shorthand property assignments are valid only in destructuring patterns\"); }\n    if (doubleProto >= 0)\n      { this.raiseRecoverable(doubleProto, \"Redefinition of __proto__ property\"); }\n  };\n\n  pp.checkYieldAwaitInDefaultParams = function() {\n    if (this.yieldPos && (!this.awaitPos || this.yieldPos < this.awaitPos))\n      { this.raise(this.yieldPos, \"Yield expression cannot be a default value\"); }\n    if (this.awaitPos)\n      { this.raise(this.awaitPos, \"Await expression cannot be a default value\"); }\n  };\n\n  pp.isSimpleAssignTarget = function(expr) {\n    if (expr.type === \"ParenthesizedExpression\")\n      { return this.isSimpleAssignTarget(expr.expression) }\n    return expr.type === \"Identifier\" || expr.type === \"MemberExpression\"\n  };\n\n  var pp$1 = Parser.prototype;\n\n\n\n  pp$1.parseTopLevel = function(node) {\n    var exports = {};\n    if (!node.body) { node.body = []; }\n    while (this.type !== types.eof) {\n      var stmt = this.parseStatement(null, true, exports);\n      node.body.push(stmt);\n    }\n    if (this.inModule)\n      { for (var i = 0, list = Object.keys(this.undefinedExports); i < list.length; i += 1)\n        {\n          var name = list[i];\n\n          this.raiseRecoverable(this.undefinedExports[name].start, (\"Export '\" + name + \"' is not defined\"));\n        } }\n    this.adaptDirectivePrologue(node.body);\n    this.next();\n    node.sourceType = this.options.sourceType;\n    return this.finishNode(node, \"Program\")\n  };\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  pp$1.isLet = function(context) {\n    if (this.options.ecmaVersion < 6 || !this.isContextual(\"let\")) { return false }\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n    if (nextCh === 91) { return true } \n    if (context) { return false }\n\n    if (nextCh === 123) { return true } \n    if (isIdentifierStart(nextCh, true)) {\n      var pos = next + 1;\n      while (isIdentifierChar(this.input.charCodeAt(pos), true)) { ++pos; }\n      var ident = this.input.slice(next, pos);\n      if (!keywordRelationalOperator.test(ident)) { return true }\n    }\n    return false\n  };\n\n  pp$1.isAsyncFunction = function() {\n    if (this.options.ecmaVersion < 8 || !this.isContextual(\"async\"))\n      { return false }\n\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length;\n    return !lineBreak.test(this.input.slice(this.pos, next)) &&\n      this.input.slice(next, next + 8) === \"function\" &&\n      (next + 8 === this.input.length || !isIdentifierChar(this.input.charAt(next + 8)))\n  };\n\n\n  pp$1.parseStatement = function(context, topLevel, exports) {\n    var starttype = this.type, node = this.startNode(), kind;\n\n    if (this.isLet(context)) {\n      starttype = types._var;\n      kind = \"let\";\n    }\n\n\n    switch (starttype) {\n    case types._break: case types._continue: return this.parseBreakContinueStatement(node, starttype.keyword)\n    case types._debugger: return this.parseDebuggerStatement(node)\n    case types._do: return this.parseDoStatement(node)\n    case types._for: return this.parseForStatement(node)\n    case types._function:\n      if ((context && (this.strict || context !== \"if\" && context !== \"label\")) && this.options.ecmaVersion >= 6) { this.unexpected(); }\n      return this.parseFunctionStatement(node, false, !context)\n    case types._class:\n      if (context) { this.unexpected(); }\n      return this.parseClass(node, true)\n    case types._if: return this.parseIfStatement(node)\n    case types._return: return this.parseReturnStatement(node)\n    case types._switch: return this.parseSwitchStatement(node)\n    case types._throw: return this.parseThrowStatement(node)\n    case types._try: return this.parseTryStatement(node)\n    case types._const: case types._var:\n      kind = kind || this.value;\n      if (context && kind !== \"var\") { this.unexpected(); }\n      return this.parseVarStatement(node, kind)\n    case types._while: return this.parseWhileStatement(node)\n    case types._with: return this.parseWithStatement(node)\n    case types.braceL: return this.parseBlock(true, node)\n    case types.semi: return this.parseEmptyStatement(node)\n    case types._export:\n    case types._import:\n      if (this.options.ecmaVersion > 10 && starttype === types._import) {\n        skipWhiteSpace.lastIndex = this.pos;\n        var skip = skipWhiteSpace.exec(this.input);\n        var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n        if (nextCh === 40) \n          { return this.parseExpressionStatement(node, this.parseExpression()) }\n      }\n\n      if (!this.options.allowImportExportEverywhere) {\n        if (!topLevel)\n          { this.raise(this.start, \"'import' and 'export' may only appear at the top level\"); }\n        if (!this.inModule)\n          { this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\"); }\n      }\n      return starttype === types._import ? this.parseImport(node) : this.parseExport(node, exports)\n\n    default:\n      if (this.isAsyncFunction()) {\n        if (context) { this.unexpected(); }\n        this.next();\n        return this.parseFunctionStatement(node, true, !context)\n      }\n\n      var maybeName = this.value, expr = this.parseExpression();\n      if (starttype === types.name && expr.type === \"Identifier\" && this.eat(types.colon))\n        { return this.parseLabeledStatement(node, maybeName, expr, context) }\n      else { return this.parseExpressionStatement(node, expr) }\n    }\n  };\n\n  pp$1.parseBreakContinueStatement = function(node, keyword) {\n    var isBreak = keyword === \"break\";\n    this.next();\n    if (this.eat(types.semi) || this.insertSemicolon()) { node.label = null; }\n    else if (this.type !== types.name) { this.unexpected(); }\n    else {\n      node.label = this.parseIdent();\n      this.semicolon();\n    }\n\n    var i = 0;\n    for (; i < this.labels.length; ++i) {\n      var lab = this.labels[i];\n      if (node.label == null || lab.name === node.label.name) {\n        if (lab.kind != null && (isBreak || lab.kind === \"loop\")) { break }\n        if (node.label && isBreak) { break }\n      }\n    }\n    if (i === this.labels.length) { this.raise(node.start, \"Unsyntactic \" + keyword); }\n    return this.finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\")\n  };\n\n  pp$1.parseDebuggerStatement = function(node) {\n    this.next();\n    this.semicolon();\n    return this.finishNode(node, \"DebuggerStatement\")\n  };\n\n  pp$1.parseDoStatement = function(node) {\n    this.next();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"do\");\n    this.labels.pop();\n    this.expect(types._while);\n    node.test = this.parseParenExpression();\n    if (this.options.ecmaVersion >= 6)\n      { this.eat(types.semi); }\n    else\n      { this.semicolon(); }\n    return this.finishNode(node, \"DoWhileStatement\")\n  };\n\n\n  pp$1.parseForStatement = function(node) {\n    this.next();\n    var awaitAt = (this.options.ecmaVersion >= 9 && (this.inAsync || (!this.inFunction && this.options.allowAwaitOutsideFunction)) && this.eatContextual(\"await\")) ? this.lastTokStart : -1;\n    this.labels.push(loopLabel);\n    this.enterScope(0);\n    this.expect(types.parenL);\n    if (this.type === types.semi) {\n      if (awaitAt > -1) { this.unexpected(awaitAt); }\n      return this.parseFor(node, null)\n    }\n    var isLet = this.isLet();\n    if (this.type === types._var || this.type === types._const || isLet) {\n      var init$1 = this.startNode(), kind = isLet ? \"let\" : this.value;\n      this.next();\n      this.parseVar(init$1, true, kind);\n      this.finishNode(init$1, \"VariableDeclaration\");\n      if ((this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) && init$1.declarations.length === 1) {\n        if (this.options.ecmaVersion >= 9) {\n          if (this.type === types._in) {\n            if (awaitAt > -1) { this.unexpected(awaitAt); }\n          } else { node.await = awaitAt > -1; }\n        }\n        return this.parseForIn(node, init$1)\n      }\n      if (awaitAt > -1) { this.unexpected(awaitAt); }\n      return this.parseFor(node, init$1)\n    }\n    var refDestructuringErrors = new DestructuringErrors;\n    var init = this.parseExpression(true, refDestructuringErrors);\n    if (this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) {\n      if (this.options.ecmaVersion >= 9) {\n        if (this.type === types._in) {\n          if (awaitAt > -1) { this.unexpected(awaitAt); }\n        } else { node.await = awaitAt > -1; }\n      }\n      this.toAssignable(init, false, refDestructuringErrors);\n      this.checkLVal(init);\n      return this.parseForIn(node, init)\n    } else {\n      this.checkExpressionErrors(refDestructuringErrors, true);\n    }\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, init)\n  };\n\n  pp$1.parseFunctionStatement = function(node, isAsync, declarationPosition) {\n    this.next();\n    return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), false, isAsync)\n  };\n\n  pp$1.parseIfStatement = function(node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    node.consequent = this.parseStatement(\"if\");\n    node.alternate = this.eat(types._else) ? this.parseStatement(\"if\") : null;\n    return this.finishNode(node, \"IfStatement\")\n  };\n\n  pp$1.parseReturnStatement = function(node) {\n    if (!this.inFunction && !this.options.allowReturnOutsideFunction)\n      { this.raise(this.start, \"'return' outside of function\"); }\n    this.next();\n\n\n    if (this.eat(types.semi) || this.insertSemicolon()) { node.argument = null; }\n    else { node.argument = this.parseExpression(); this.semicolon(); }\n    return this.finishNode(node, \"ReturnStatement\")\n  };\n\n  pp$1.parseSwitchStatement = function(node) {\n    this.next();\n    node.discriminant = this.parseParenExpression();\n    node.cases = [];\n    this.expect(types.braceL);\n    this.labels.push(switchLabel);\n    this.enterScope(0);\n\n\n    var cur;\n    for (var sawDefault = false; this.type !== types.braceR;) {\n      if (this.type === types._case || this.type === types._default) {\n        var isCase = this.type === types._case;\n        if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n        node.cases.push(cur = this.startNode());\n        cur.consequent = [];\n        this.next();\n        if (isCase) {\n          cur.test = this.parseExpression();\n        } else {\n          if (sawDefault) { this.raiseRecoverable(this.lastTokStart, \"Multiple default clauses\"); }\n          sawDefault = true;\n          cur.test = null;\n        }\n        this.expect(types.colon);\n      } else {\n        if (!cur) { this.unexpected(); }\n        cur.consequent.push(this.parseStatement(null));\n      }\n    }\n    this.exitScope();\n    if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n    this.next(); \n    this.labels.pop();\n    return this.finishNode(node, \"SwitchStatement\")\n  };\n\n  pp$1.parseThrowStatement = function(node) {\n    this.next();\n    if (lineBreak.test(this.input.slice(this.lastTokEnd, this.start)))\n      { this.raise(this.lastTokEnd, \"Illegal newline after throw\"); }\n    node.argument = this.parseExpression();\n    this.semicolon();\n    return this.finishNode(node, \"ThrowStatement\")\n  };\n\n\n  var empty = [];\n\n  pp$1.parseTryStatement = function(node) {\n    this.next();\n    node.block = this.parseBlock();\n    node.handler = null;\n    if (this.type === types._catch) {\n      var clause = this.startNode();\n      this.next();\n      if (this.eat(types.parenL)) {\n        clause.param = this.parseBindingAtom();\n        var simple = clause.param.type === \"Identifier\";\n        this.enterScope(simple ? SCOPE_SIMPLE_CATCH : 0);\n        this.checkLVal(clause.param, simple ? BIND_SIMPLE_CATCH : BIND_LEXICAL);\n        this.expect(types.parenR);\n      } else {\n        if (this.options.ecmaVersion < 10) { this.unexpected(); }\n        clause.param = null;\n        this.enterScope(0);\n      }\n      clause.body = this.parseBlock(false);\n      this.exitScope();\n      node.handler = this.finishNode(clause, \"CatchClause\");\n    }\n    node.finalizer = this.eat(types._finally) ? this.parseBlock() : null;\n    if (!node.handler && !node.finalizer)\n      { this.raise(node.start, \"Missing catch or finally clause\"); }\n    return this.finishNode(node, \"TryStatement\")\n  };\n\n  pp$1.parseVarStatement = function(node, kind) {\n    this.next();\n    this.parseVar(node, false, kind);\n    this.semicolon();\n    return this.finishNode(node, \"VariableDeclaration\")\n  };\n\n  pp$1.parseWhileStatement = function(node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"while\");\n    this.labels.pop();\n    return this.finishNode(node, \"WhileStatement\")\n  };\n\n  pp$1.parseWithStatement = function(node) {\n    if (this.strict) { this.raise(this.start, \"'with' in strict mode\"); }\n    this.next();\n    node.object = this.parseParenExpression();\n    node.body = this.parseStatement(\"with\");\n    return this.finishNode(node, \"WithStatement\")\n  };\n\n  pp$1.parseEmptyStatement = function(node) {\n    this.next();\n    return this.finishNode(node, \"EmptyStatement\")\n  };\n\n  pp$1.parseLabeledStatement = function(node, maybeName, expr, context) {\n    for (var i$1 = 0, list = this.labels; i$1 < list.length; i$1 += 1)\n      {\n      var label = list[i$1];\n\n      if (label.name === maybeName)\n        { this.raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n    } }\n    var kind = this.type.isLoop ? \"loop\" : this.type === types._switch ? \"switch\" : null;\n    for (var i = this.labels.length - 1; i >= 0; i--) {\n      var label$1 = this.labels[i];\n      if (label$1.statementStart === node.start) {\n        label$1.statementStart = this.start;\n        label$1.kind = kind;\n      } else { break }\n    }\n    this.labels.push({name: maybeName, kind: kind, statementStart: this.start});\n    node.body = this.parseStatement(context ? context.indexOf(\"label\") === -1 ? context + \"label\" : context : \"label\");\n    this.labels.pop();\n    node.label = expr;\n    return this.finishNode(node, \"LabeledStatement\")\n  };\n\n  pp$1.parseExpressionStatement = function(node, expr) {\n    node.expression = expr;\n    this.semicolon();\n    return this.finishNode(node, \"ExpressionStatement\")\n  };\n\n\n  pp$1.parseBlock = function(createNewLexicalScope, node) {\n    if ( createNewLexicalScope === void 0 ) createNewLexicalScope = true;\n    if ( node === void 0 ) node = this.startNode();\n\n    node.body = [];\n    this.expect(types.braceL);\n    if (createNewLexicalScope) { this.enterScope(0); }\n    while (!this.eat(types.braceR)) {\n      var stmt = this.parseStatement(null);\n      node.body.push(stmt);\n    }\n    if (createNewLexicalScope) { this.exitScope(); }\n    return this.finishNode(node, \"BlockStatement\")\n  };\n\n\n  pp$1.parseFor = function(node, init) {\n    node.init = init;\n    this.expect(types.semi);\n    node.test = this.type === types.semi ? null : this.parseExpression();\n    this.expect(types.semi);\n    node.update = this.type === types.parenR ? null : this.parseExpression();\n    this.expect(types.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, \"ForStatement\")\n  };\n\n\n  pp$1.parseForIn = function(node, init) {\n    var isForIn = this.type === types._in;\n    this.next();\n\n    if (\n      init.type === \"VariableDeclaration\" &&\n      init.declarations[0].init != null &&\n      (\n        !isForIn ||\n        this.options.ecmaVersion < 8 ||\n        this.strict ||\n        init.kind !== \"var\" ||\n        init.declarations[0].id.type !== \"Identifier\"\n      )\n    ) {\n      this.raise(\n        init.start,\n        ((isForIn ? \"for-in\" : \"for-of\") + \" loop variable declaration may not have an initializer\")\n      );\n    } else if (init.type === \"AssignmentPattern\") {\n      this.raise(init.start, \"Invalid left-hand side in for-loop\");\n    }\n    node.left = init;\n    node.right = isForIn ? this.parseExpression() : this.parseMaybeAssign();\n    this.expect(types.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, isForIn ? \"ForInStatement\" : \"ForOfStatement\")\n  };\n\n\n  pp$1.parseVar = function(node, isFor, kind) {\n    node.declarations = [];\n    node.kind = kind;\n    for (;;) {\n      var decl = this.startNode();\n      this.parseVarId(decl, kind);\n      if (this.eat(types.eq)) {\n        decl.init = this.parseMaybeAssign(isFor);\n      } else if (kind === \"const\" && !(this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\")))) {\n        this.unexpected();\n      } else if (decl.id.type !== \"Identifier\" && !(isFor && (this.type === types._in || this.isContextual(\"of\")))) {\n        this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\");\n      } else {\n        decl.init = null;\n      }\n      node.declarations.push(this.finishNode(decl, \"VariableDeclarator\"));\n      if (!this.eat(types.comma)) { break }\n    }\n    return node\n  };\n\n  pp$1.parseVarId = function(decl, kind) {\n    decl.id = this.parseBindingAtom();\n    this.checkLVal(decl.id, kind === \"var\" ? BIND_VAR : BIND_LEXICAL, false);\n  };\n\n  var FUNC_STATEMENT = 1, FUNC_HANGING_STATEMENT = 2, FUNC_NULLABLE_ID = 4;\n\n\n  pp$1.parseFunction = function(node, statement, allowExpressionBody, isAsync) {\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 9 || this.options.ecmaVersion >= 6 && !isAsync) {\n      if (this.type === types.star && (statement & FUNC_HANGING_STATEMENT))\n        { this.unexpected(); }\n      node.generator = this.eat(types.star);\n    }\n    if (this.options.ecmaVersion >= 8)\n      { node.async = !!isAsync; }\n\n    if (statement & FUNC_STATEMENT) {\n      node.id = (statement & FUNC_NULLABLE_ID) && this.type !== types.name ? null : this.parseIdent();\n      if (node.id && !(statement & FUNC_HANGING_STATEMENT))\n        { this.checkLVal(node.id, (this.strict || node.generator || node.async) ? this.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION); }\n    }\n\n    var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(node.async, node.generator));\n\n    if (!(statement & FUNC_STATEMENT))\n      { node.id = this.type === types.name ? this.parseIdent() : null; }\n\n    this.parseFunctionParams(node);\n    this.parseFunctionBody(node, allowExpressionBody, false);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, (statement & FUNC_STATEMENT) ? \"FunctionDeclaration\" : \"FunctionExpression\")\n  };\n\n  pp$1.parseFunctionParams = function(node) {\n    this.expect(types.parenL);\n    node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n  };\n\n\n  pp$1.parseClass = function(node, isStatement) {\n    this.next();\n\n    var oldStrict = this.strict;\n    this.strict = true;\n\n    this.parseClassId(node, isStatement);\n    this.parseClassSuper(node);\n    var classBody = this.startNode();\n    var hadConstructor = false;\n    classBody.body = [];\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      var element = this.parseClassElement(node.superClass !== null);\n      if (element) {\n        classBody.body.push(element);\n        if (element.type === \"MethodDefinition\" && element.kind === \"constructor\") {\n          if (hadConstructor) { this.raise(element.start, \"Duplicate constructor in the same class\"); }\n          hadConstructor = true;\n        }\n      }\n    }\n    node.body = this.finishNode(classBody, \"ClassBody\");\n    this.strict = oldStrict;\n    return this.finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\")\n  };\n\n  pp$1.parseClassElement = function(constructorAllowsSuper) {\n    var this$1 = this;\n\n    if (this.eat(types.semi)) { return null }\n\n    var method = this.startNode();\n    var tryContextual = function (k, noLineBreak) {\n      if ( noLineBreak === void 0 ) noLineBreak = false;\n\n      var start = this$1.start, startLoc = this$1.startLoc;\n      if (!this$1.eatContextual(k)) { return false }\n      if (this$1.type !== types.parenL && (!noLineBreak || !this$1.canInsertSemicolon())) { return true }\n      if (method.key) { this$1.unexpected(); }\n      method.computed = false;\n      method.key = this$1.startNodeAt(start, startLoc);\n      method.key.name = k;\n      this$1.finishNode(method.key, \"Identifier\");\n      return false\n    };\n\n    method.kind = \"method\";\n    method.static = tryContextual(\"static\");\n    var isGenerator = this.eat(types.star);\n    var isAsync = false;\n    if (!isGenerator) {\n      if (this.options.ecmaVersion >= 8 && tryContextual(\"async\", true)) {\n        isAsync = true;\n        isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n      } else if (tryContextual(\"get\")) {\n        method.kind = \"get\";\n      } else if (tryContextual(\"set\")) {\n        method.kind = \"set\";\n      }\n    }\n    if (!method.key) { this.parsePropertyName(method); }\n    var key = method.key;\n    var allowsDirectSuper = false;\n    if (!method.computed && !method.static && (key.type === \"Identifier\" && key.name === \"constructor\" ||\n        key.type === \"Literal\" && key.value === \"constructor\")) {\n      if (method.kind !== \"method\") { this.raise(key.start, \"Constructor can't have get/set modifier\"); }\n      if (isGenerator) { this.raise(key.start, \"Constructor can't be a generator\"); }\n      if (isAsync) { this.raise(key.start, \"Constructor can't be an async method\"); }\n      method.kind = \"constructor\";\n      allowsDirectSuper = constructorAllowsSuper;\n    } else if (method.static && key.type === \"Identifier\" && key.name === \"prototype\") {\n      this.raise(key.start, \"Classes may not have a static property named prototype\");\n    }\n    this.parseClassMethod(method, isGenerator, isAsync, allowsDirectSuper);\n    if (method.kind === \"get\" && method.value.params.length !== 0)\n      { this.raiseRecoverable(method.value.start, \"getter should have no params\"); }\n    if (method.kind === \"set\" && method.value.params.length !== 1)\n      { this.raiseRecoverable(method.value.start, \"setter should have exactly one param\"); }\n    if (method.kind === \"set\" && method.value.params[0].type === \"RestElement\")\n      { this.raiseRecoverable(method.value.params[0].start, \"Setter cannot use rest params\"); }\n    return method\n  };\n\n  pp$1.parseClassMethod = function(method, isGenerator, isAsync, allowsDirectSuper) {\n    method.value = this.parseMethod(isGenerator, isAsync, allowsDirectSuper);\n    return this.finishNode(method, \"MethodDefinition\")\n  };\n\n  pp$1.parseClassId = function(node, isStatement) {\n    if (this.type === types.name) {\n      node.id = this.parseIdent();\n      if (isStatement)\n        { this.checkLVal(node.id, BIND_LEXICAL, false); }\n    } else {\n      if (isStatement === true)\n        { this.unexpected(); }\n      node.id = null;\n    }\n  };\n\n  pp$1.parseClassSuper = function(node) {\n    node.superClass = this.eat(types._extends) ? this.parseExprSubscripts() : null;\n  };\n\n\n  pp$1.parseExport = function(node, exports) {\n    this.next();\n    if (this.eat(types.star)) {\n      this.expectContextual(\"from\");\n      if (this.type !== types.string) { this.unexpected(); }\n      node.source = this.parseExprAtom();\n      this.semicolon();\n      return this.finishNode(node, \"ExportAllDeclaration\")\n    }\n    if (this.eat(types._default)) { \n      this.checkExport(exports, \"default\", this.lastTokStart);\n      var isAsync;\n      if (this.type === types._function || (isAsync = this.isAsyncFunction())) {\n        var fNode = this.startNode();\n        this.next();\n        if (isAsync) { this.next(); }\n        node.declaration = this.parseFunction(fNode, FUNC_STATEMENT | FUNC_NULLABLE_ID, false, isAsync);\n      } else if (this.type === types._class) {\n        var cNode = this.startNode();\n        node.declaration = this.parseClass(cNode, \"nullableID\");\n      } else {\n        node.declaration = this.parseMaybeAssign();\n        this.semicolon();\n      }\n      return this.finishNode(node, \"ExportDefaultDeclaration\")\n    }\n    if (this.shouldParseExportStatement()) {\n      node.declaration = this.parseStatement(null);\n      if (node.declaration.type === \"VariableDeclaration\")\n        { this.checkVariableExport(exports, node.declaration.declarations); }\n      else\n        { this.checkExport(exports, node.declaration.id.name, node.declaration.id.start); }\n      node.specifiers = [];\n      node.source = null;\n    } else { \n      node.declaration = null;\n      node.specifiers = this.parseExportSpecifiers(exports);\n      if (this.eatContextual(\"from\")) {\n        if (this.type !== types.string) { this.unexpected(); }\n        node.source = this.parseExprAtom();\n      } else {\n        for (var i = 0, list = node.specifiers; i < list.length; i += 1) {\n          var spec = list[i];\n\n          this.checkUnreserved(spec.local);\n          this.checkLocalExport(spec.local);\n        }\n\n        node.source = null;\n      }\n      this.semicolon();\n    }\n    return this.finishNode(node, \"ExportNamedDeclaration\")\n  };\n\n  pp$1.checkExport = function(exports, name, pos) {\n    if (!exports) { return }\n    if (has(exports, name))\n      { this.raiseRecoverable(pos, \"Duplicate export '\" + name + \"'\"); }\n    exports[name] = true;\n  };\n\n  pp$1.checkPatternExport = function(exports, pat) {\n    var type = pat.type;\n    if (type === \"Identifier\")\n      { this.checkExport(exports, pat.name, pat.start); }\n    else if (type === \"ObjectPattern\")\n      { for (var i = 0, list = pat.properties; i < list.length; i += 1)\n        {\n          var prop = list[i];\n\n          this.checkPatternExport(exports, prop);\n        } }\n    else if (type === \"ArrayPattern\")\n      { for (var i$1 = 0, list$1 = pat.elements; i$1 < list$1.length; i$1 += 1) {\n        var elt = list$1[i$1];\n\n          if (elt) { this.checkPatternExport(exports, elt); }\n      } }\n    else if (type === \"Property\")\n      { this.checkPatternExport(exports, pat.value); }\n    else if (type === \"AssignmentPattern\")\n      { this.checkPatternExport(exports, pat.left); }\n    else if (type === \"RestElement\")\n      { this.checkPatternExport(exports, pat.argument); }\n    else if (type === \"ParenthesizedExpression\")\n      { this.checkPatternExport(exports, pat.expression); }\n  };\n\n  pp$1.checkVariableExport = function(exports, decls) {\n    if (!exports) { return }\n    for (var i = 0, list = decls; i < list.length; i += 1)\n      {\n      var decl = list[i];\n\n      this.checkPatternExport(exports, decl.id);\n    }\n  };\n\n  pp$1.shouldParseExportStatement = function() {\n    return this.type.keyword === \"var\" ||\n      this.type.keyword === \"const\" ||\n      this.type.keyword === \"class\" ||\n      this.type.keyword === \"function\" ||\n      this.isLet() ||\n      this.isAsyncFunction()\n  };\n\n\n  pp$1.parseExportSpecifiers = function(exports) {\n    var nodes = [], first = true;\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var node = this.startNode();\n      node.local = this.parseIdent(true);\n      node.exported = this.eatContextual(\"as\") ? this.parseIdent(true) : node.local;\n      this.checkExport(exports, node.exported.name, node.exported.start);\n      nodes.push(this.finishNode(node, \"ExportSpecifier\"));\n    }\n    return nodes\n  };\n\n\n  pp$1.parseImport = function(node) {\n    this.next();\n    if (this.type === types.string) {\n      node.specifiers = empty;\n      node.source = this.parseExprAtom();\n    } else {\n      node.specifiers = this.parseImportSpecifiers();\n      this.expectContextual(\"from\");\n      node.source = this.type === types.string ? this.parseExprAtom() : this.unexpected();\n    }\n    this.semicolon();\n    return this.finishNode(node, \"ImportDeclaration\")\n  };\n\n\n  pp$1.parseImportSpecifiers = function() {\n    var nodes = [], first = true;\n    if (this.type === types.name) {\n      var node = this.startNode();\n      node.local = this.parseIdent();\n      this.checkLVal(node.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node, \"ImportDefaultSpecifier\"));\n      if (!this.eat(types.comma)) { return nodes }\n    }\n    if (this.type === types.star) {\n      var node$1 = this.startNode();\n      this.next();\n      this.expectContextual(\"as\");\n      node$1.local = this.parseIdent();\n      this.checkLVal(node$1.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node$1, \"ImportNamespaceSpecifier\"));\n      return nodes\n    }\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var node$2 = this.startNode();\n      node$2.imported = this.parseIdent(true);\n      if (this.eatContextual(\"as\")) {\n        node$2.local = this.parseIdent();\n      } else {\n        this.checkUnreserved(node$2.imported);\n        node$2.local = node$2.imported;\n      }\n      this.checkLVal(node$2.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node$2, \"ImportSpecifier\"));\n    }\n    return nodes\n  };\n\n  pp$1.adaptDirectivePrologue = function(statements) {\n    for (var i = 0; i < statements.length && this.isDirectiveCandidate(statements[i]); ++i) {\n      statements[i].directive = statements[i].expression.raw.slice(1, -1);\n    }\n  };\n  pp$1.isDirectiveCandidate = function(statement) {\n    return (\n      statement.type === \"ExpressionStatement\" &&\n      statement.expression.type === \"Literal\" &&\n      typeof statement.expression.value === \"string\" &&\n      (this.input[statement.start] === \"\\\"\" || this.input[statement.start] === \"'\")\n    )\n  };\n\n  var pp$2 = Parser.prototype;\n\n\n  pp$2.toAssignable = function(node, isBinding, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 6 && node) {\n      switch (node.type) {\n      case \"Identifier\":\n        if (this.inAsync && node.name === \"await\")\n          { this.raise(node.start, \"Cannot use 'await' as identifier inside an async function\"); }\n        break\n\n      case \"ObjectPattern\":\n      case \"ArrayPattern\":\n      case \"RestElement\":\n        break\n\n      case \"ObjectExpression\":\n        node.type = \"ObjectPattern\";\n        if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n        for (var i = 0, list = node.properties; i < list.length; i += 1) {\n          var prop = list[i];\n\n        this.toAssignable(prop, isBinding);\n          if (\n            prop.type === \"RestElement\" &&\n            (prop.argument.type === \"ArrayPattern\" || prop.argument.type === \"ObjectPattern\")\n          ) {\n            this.raise(prop.argument.start, \"Unexpected token\");\n          }\n        }\n        break\n\n      case \"Property\":\n        if (node.kind !== \"init\") { this.raise(node.key.start, \"Object pattern can't contain getter or setter\"); }\n        this.toAssignable(node.value, isBinding);\n        break\n\n      case \"ArrayExpression\":\n        node.type = \"ArrayPattern\";\n        if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n        this.toAssignableList(node.elements, isBinding);\n        break\n\n      case \"SpreadElement\":\n        node.type = \"RestElement\";\n        this.toAssignable(node.argument, isBinding);\n        if (node.argument.type === \"AssignmentPattern\")\n          { this.raise(node.argument.start, \"Rest elements cannot have a default value\"); }\n        break\n\n      case \"AssignmentExpression\":\n        if (node.operator !== \"=\") { this.raise(node.left.end, \"Only '=' operator can be used for specifying default value.\"); }\n        node.type = \"AssignmentPattern\";\n        delete node.operator;\n        this.toAssignable(node.left, isBinding);\n\n      case \"AssignmentPattern\":\n        break\n\n      case \"ParenthesizedExpression\":\n        this.toAssignable(node.expression, isBinding, refDestructuringErrors);\n        break\n\n      case \"MemberExpression\":\n        if (!isBinding) { break }\n\n      default:\n        this.raise(node.start, \"Assigning to rvalue\");\n      }\n    } else if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n    return node\n  };\n\n\n  pp$2.toAssignableList = function(exprList, isBinding) {\n    var end = exprList.length;\n    for (var i = 0; i < end; i++) {\n      var elt = exprList[i];\n      if (elt) { this.toAssignable(elt, isBinding); }\n    }\n    if (end) {\n      var last = exprList[end - 1];\n      if (this.options.ecmaVersion === 6 && isBinding && last && last.type === \"RestElement\" && last.argument.type !== \"Identifier\")\n        { this.unexpected(last.argument.start); }\n    }\n    return exprList\n  };\n\n\n  pp$2.parseSpread = function(refDestructuringErrors) {\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n    return this.finishNode(node, \"SpreadElement\")\n  };\n\n  pp$2.parseRestBinding = function() {\n    var node = this.startNode();\n    this.next();\n\n    if (this.options.ecmaVersion === 6 && this.type !== types.name)\n      { this.unexpected(); }\n\n    node.argument = this.parseBindingAtom();\n\n    return this.finishNode(node, \"RestElement\")\n  };\n\n\n  pp$2.parseBindingAtom = function() {\n    if (this.options.ecmaVersion >= 6) {\n      switch (this.type) {\n      case types.bracketL:\n        var node = this.startNode();\n        this.next();\n        node.elements = this.parseBindingList(types.bracketR, true, true);\n        return this.finishNode(node, \"ArrayPattern\")\n\n      case types.braceL:\n        return this.parseObj(true)\n      }\n    }\n    return this.parseIdent()\n  };\n\n  pp$2.parseBindingList = function(close, allowEmpty, allowTrailingComma) {\n    var elts = [], first = true;\n    while (!this.eat(close)) {\n      if (first) { first = false; }\n      else { this.expect(types.comma); }\n      if (allowEmpty && this.type === types.comma) {\n        elts.push(null);\n      } else if (allowTrailingComma && this.afterTrailingComma(close)) {\n        break\n      } else if (this.type === types.ellipsis) {\n        var rest = this.parseRestBinding();\n        this.parseBindingListItem(rest);\n        elts.push(rest);\n        if (this.type === types.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n        this.expect(close);\n        break\n      } else {\n        var elem = this.parseMaybeDefault(this.start, this.startLoc);\n        this.parseBindingListItem(elem);\n        elts.push(elem);\n      }\n    }\n    return elts\n  };\n\n  pp$2.parseBindingListItem = function(param) {\n    return param\n  };\n\n\n  pp$2.parseMaybeDefault = function(startPos, startLoc, left) {\n    left = left || this.parseBindingAtom();\n    if (this.options.ecmaVersion < 6 || !this.eat(types.eq)) { return left }\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.right = this.parseMaybeAssign();\n    return this.finishNode(node, \"AssignmentPattern\")\n  };\n\n\n  pp$2.checkLVal = function(expr, bindingType, checkClashes) {\n    if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n    switch (expr.type) {\n    case \"Identifier\":\n      if (bindingType === BIND_LEXICAL && expr.name === \"let\")\n        { this.raiseRecoverable(expr.start, \"let is disallowed as a lexically bound name\"); }\n      if (this.strict && this.reservedWordsStrictBind.test(expr.name))\n        { this.raiseRecoverable(expr.start, (bindingType ? \"Binding \" : \"Assigning to \") + expr.name + \" in strict mode\"); }\n      if (checkClashes) {\n        if (has(checkClashes, expr.name))\n          { this.raiseRecoverable(expr.start, \"Argument name clash\"); }\n        checkClashes[expr.name] = true;\n      }\n      if (bindingType !== BIND_NONE && bindingType !== BIND_OUTSIDE) { this.declareName(expr.name, bindingType, expr.start); }\n      break\n\n    case \"MemberExpression\":\n      if (bindingType) { this.raiseRecoverable(expr.start, \"Binding member expression\"); }\n      break\n\n    case \"ObjectPattern\":\n      for (var i = 0, list = expr.properties; i < list.length; i += 1)\n        {\n      var prop = list[i];\n\n      this.checkLVal(prop, bindingType, checkClashes);\n    }\n      break\n\n    case \"Property\":\n      this.checkLVal(expr.value, bindingType, checkClashes);\n      break\n\n    case \"ArrayPattern\":\n      for (var i$1 = 0, list$1 = expr.elements; i$1 < list$1.length; i$1 += 1) {\n        var elem = list$1[i$1];\n\n      if (elem) { this.checkLVal(elem, bindingType, checkClashes); }\n      }\n      break\n\n    case \"AssignmentPattern\":\n      this.checkLVal(expr.left, bindingType, checkClashes);\n      break\n\n    case \"RestElement\":\n      this.checkLVal(expr.argument, bindingType, checkClashes);\n      break\n\n    case \"ParenthesizedExpression\":\n      this.checkLVal(expr.expression, bindingType, checkClashes);\n      break\n\n    default:\n      this.raise(expr.start, (bindingType ? \"Binding\" : \"Assigning to\") + \" rvalue\");\n    }\n  };\n\n\n  var pp$3 = Parser.prototype;\n\n\n  pp$3.checkPropClash = function(prop, propHash, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 9 && prop.type === \"SpreadElement\")\n      { return }\n    if (this.options.ecmaVersion >= 6 && (prop.computed || prop.method || prop.shorthand))\n      { return }\n    var key = prop.key;\n    var name;\n    switch (key.type) {\n    case \"Identifier\": name = key.name; break\n    case \"Literal\": name = String(key.value); break\n    default: return\n    }\n    var kind = prop.kind;\n    if (this.options.ecmaVersion >= 6) {\n      if (name === \"__proto__\" && kind === \"init\") {\n        if (propHash.proto) {\n          if (refDestructuringErrors) {\n            if (refDestructuringErrors.doubleProto < 0)\n              { refDestructuringErrors.doubleProto = key.start; }\n          } else { this.raiseRecoverable(key.start, \"Redefinition of __proto__ property\"); }\n        }\n        propHash.proto = true;\n      }\n      return\n    }\n    name = \"$\" + name;\n    var other = propHash[name];\n    if (other) {\n      var redefinition;\n      if (kind === \"init\") {\n        redefinition = this.strict && other.init || other.get || other.set;\n      } else {\n        redefinition = other.init || other[kind];\n      }\n      if (redefinition)\n        { this.raiseRecoverable(key.start, \"Redefinition of property\"); }\n    } else {\n      other = propHash[name] = {\n        init: false,\n        get: false,\n        set: false\n      };\n    }\n    other[kind] = true;\n  };\n\n\n\n\n  pp$3.parseExpression = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseMaybeAssign(noIn, refDestructuringErrors);\n    if (this.type === types.comma) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.expressions = [expr];\n      while (this.eat(types.comma)) { node.expressions.push(this.parseMaybeAssign(noIn, refDestructuringErrors)); }\n      return this.finishNode(node, \"SequenceExpression\")\n    }\n    return expr\n  };\n\n\n  pp$3.parseMaybeAssign = function(noIn, refDestructuringErrors, afterLeftParse) {\n    if (this.isContextual(\"yield\")) {\n      if (this.inGenerator) { return this.parseYield(noIn) }\n      else { this.exprAllowed = false; }\n    }\n\n    var ownDestructuringErrors = false, oldParenAssign = -1, oldTrailingComma = -1;\n    if (refDestructuringErrors) {\n      oldParenAssign = refDestructuringErrors.parenthesizedAssign;\n      oldTrailingComma = refDestructuringErrors.trailingComma;\n      refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = -1;\n    } else {\n      refDestructuringErrors = new DestructuringErrors;\n      ownDestructuringErrors = true;\n    }\n\n    var startPos = this.start, startLoc = this.startLoc;\n    if (this.type === types.parenL || this.type === types.name)\n      { this.potentialArrowAt = this.start; }\n    var left = this.parseMaybeConditional(noIn, refDestructuringErrors);\n    if (afterLeftParse) { left = afterLeftParse.call(this, left, startPos, startLoc); }\n    if (this.type.isAssign) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.operator = this.value;\n      node.left = this.type === types.eq ? this.toAssignable(left, false, refDestructuringErrors) : left;\n      if (!ownDestructuringErrors) {\n        refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = refDestructuringErrors.doubleProto = -1;\n      }\n      if (refDestructuringErrors.shorthandAssign >= node.left.start)\n        { refDestructuringErrors.shorthandAssign = -1; } \n      this.checkLVal(left);\n      this.next();\n      node.right = this.parseMaybeAssign(noIn);\n      return this.finishNode(node, \"AssignmentExpression\")\n    } else {\n      if (ownDestructuringErrors) { this.checkExpressionErrors(refDestructuringErrors, true); }\n    }\n    if (oldParenAssign > -1) { refDestructuringErrors.parenthesizedAssign = oldParenAssign; }\n    if (oldTrailingComma > -1) { refDestructuringErrors.trailingComma = oldTrailingComma; }\n    return left\n  };\n\n\n  pp$3.parseMaybeConditional = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseExprOps(noIn, refDestructuringErrors);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    if (this.eat(types.question)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.test = expr;\n      node.consequent = this.parseMaybeAssign();\n      this.expect(types.colon);\n      node.alternate = this.parseMaybeAssign(noIn);\n      return this.finishNode(node, \"ConditionalExpression\")\n    }\n    return expr\n  };\n\n\n  pp$3.parseExprOps = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseMaybeUnary(refDestructuringErrors, false);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    return expr.start === startPos && expr.type === \"ArrowFunctionExpression\" ? expr : this.parseExprOp(expr, startPos, startLoc, -1, noIn)\n  };\n\n\n  pp$3.parseExprOp = function(left, leftStartPos, leftStartLoc, minPrec, noIn) {\n    var prec = this.type.binop;\n    if (prec != null && (!noIn || this.type !== types._in)) {\n      if (prec > minPrec) {\n        var logical = this.type === types.logicalOR || this.type === types.logicalAND;\n        var op = this.value;\n        this.next();\n        var startPos = this.start, startLoc = this.startLoc;\n        var right = this.parseExprOp(this.parseMaybeUnary(null, false), startPos, startLoc, prec, noIn);\n        var node = this.buildBinary(leftStartPos, leftStartLoc, left, right, op, logical);\n        return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec, noIn)\n      }\n    }\n    return left\n  };\n\n  pp$3.buildBinary = function(startPos, startLoc, left, right, op, logical) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.operator = op;\n    node.right = right;\n    return this.finishNode(node, logical ? \"LogicalExpression\" : \"BinaryExpression\")\n  };\n\n\n  pp$3.parseMaybeUnary = function(refDestructuringErrors, sawUnary) {\n    var startPos = this.start, startLoc = this.startLoc, expr;\n    if (this.isContextual(\"await\") && (this.inAsync || (!this.inFunction && this.options.allowAwaitOutsideFunction))) {\n      expr = this.parseAwait();\n      sawUnary = true;\n    } else if (this.type.prefix) {\n      var node = this.startNode(), update = this.type === types.incDec;\n      node.operator = this.value;\n      node.prefix = true;\n      this.next();\n      node.argument = this.parseMaybeUnary(null, true);\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      if (update) { this.checkLVal(node.argument); }\n      else if (this.strict && node.operator === \"delete\" &&\n               node.argument.type === \"Identifier\")\n        { this.raiseRecoverable(node.start, \"Deleting local variable in strict mode\"); }\n      else { sawUnary = true; }\n      expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n    } else {\n      expr = this.parseExprSubscripts(refDestructuringErrors);\n      if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n      while (this.type.postfix && !this.canInsertSemicolon()) {\n        var node$1 = this.startNodeAt(startPos, startLoc);\n        node$1.operator = this.value;\n        node$1.prefix = false;\n        node$1.argument = expr;\n        this.checkLVal(expr);\n        this.next();\n        expr = this.finishNode(node$1, \"UpdateExpression\");\n      }\n    }\n\n    if (!sawUnary && this.eat(types.starstar))\n      { return this.buildBinary(startPos, startLoc, expr, this.parseMaybeUnary(null, false), \"**\", false) }\n    else\n      { return expr }\n  };\n\n\n  pp$3.parseExprSubscripts = function(refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseExprAtom(refDestructuringErrors);\n    if (expr.type === \"ArrowFunctionExpression\" && this.input.slice(this.lastTokStart, this.lastTokEnd) !== \")\")\n      { return expr }\n    var result = this.parseSubscripts(expr, startPos, startLoc);\n    if (refDestructuringErrors && result.type === \"MemberExpression\") {\n      if (refDestructuringErrors.parenthesizedAssign >= result.start) { refDestructuringErrors.parenthesizedAssign = -1; }\n      if (refDestructuringErrors.parenthesizedBind >= result.start) { refDestructuringErrors.parenthesizedBind = -1; }\n    }\n    return result\n  };\n\n  pp$3.parseSubscripts = function(base, startPos, startLoc, noCalls) {\n    var maybeAsyncArrow = this.options.ecmaVersion >= 8 && base.type === \"Identifier\" && base.name === \"async\" &&\n        this.lastTokEnd === base.end && !this.canInsertSemicolon() && this.input.slice(base.start, base.end) === \"async\";\n    while (true) {\n      var element = this.parseSubscript(base, startPos, startLoc, noCalls, maybeAsyncArrow);\n      if (element === base || element.type === \"ArrowFunctionExpression\") { return element }\n      base = element;\n    }\n  };\n\n  pp$3.parseSubscript = function(base, startPos, startLoc, noCalls, maybeAsyncArrow) {\n    var computed = this.eat(types.bracketL);\n    if (computed || this.eat(types.dot)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.object = base;\n      node.property = computed ? this.parseExpression() : this.parseIdent(this.options.allowReserved !== \"never\");\n      node.computed = !!computed;\n      if (computed) { this.expect(types.bracketR); }\n      base = this.finishNode(node, \"MemberExpression\");\n    } else if (!noCalls && this.eat(types.parenL)) {\n      var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      this.awaitIdentPos = 0;\n      var exprList = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8, false, refDestructuringErrors);\n      if (maybeAsyncArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        if (this.awaitIdentPos > 0)\n          { this.raise(this.awaitIdentPos, \"Cannot use 'await' as identifier inside an async function\"); }\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        this.awaitIdentPos = oldAwaitIdentPos;\n        return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, true)\n      }\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n      this.awaitIdentPos = oldAwaitIdentPos || this.awaitIdentPos;\n      var node$1 = this.startNodeAt(startPos, startLoc);\n      node$1.callee = base;\n      node$1.arguments = exprList;\n      base = this.finishNode(node$1, \"CallExpression\");\n    } else if (this.type === types.backQuote) {\n      var node$2 = this.startNodeAt(startPos, startLoc);\n      node$2.tag = base;\n      node$2.quasi = this.parseTemplate({isTagged: true});\n      base = this.finishNode(node$2, \"TaggedTemplateExpression\");\n    }\n    return base\n  };\n\n\n  pp$3.parseExprAtom = function(refDestructuringErrors) {\n    if (this.type === types.slash) { this.readRegexp(); }\n\n    var node, canBeArrow = this.potentialArrowAt === this.start;\n    switch (this.type) {\n    case types._super:\n      if (!this.allowSuper)\n        { this.raise(this.start, \"'super' keyword outside a method\"); }\n      node = this.startNode();\n      this.next();\n      if (this.type === types.parenL && !this.allowDirectSuper)\n        { this.raise(node.start, \"super() call outside constructor of a subclass\"); }\n      if (this.type !== types.dot && this.type !== types.bracketL && this.type !== types.parenL)\n        { this.unexpected(); }\n      return this.finishNode(node, \"Super\")\n\n    case types._this:\n      node = this.startNode();\n      this.next();\n      return this.finishNode(node, \"ThisExpression\")\n\n    case types.name:\n      var startPos = this.start, startLoc = this.startLoc, containsEsc = this.containsEsc;\n      var id = this.parseIdent(false);\n      if (this.options.ecmaVersion >= 8 && !containsEsc && id.name === \"async\" && !this.canInsertSemicolon() && this.eat(types._function))\n        { return this.parseFunction(this.startNodeAt(startPos, startLoc), 0, false, true) }\n      if (canBeArrow && !this.canInsertSemicolon()) {\n        if (this.eat(types.arrow))\n          { return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], false) }\n        if (this.options.ecmaVersion >= 8 && id.name === \"async\" && this.type === types.name && !containsEsc) {\n          id = this.parseIdent(false);\n          if (this.canInsertSemicolon() || !this.eat(types.arrow))\n            { this.unexpected(); }\n          return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], true)\n        }\n      }\n      return id\n\n    case types.regexp:\n      var value = this.value;\n      node = this.parseLiteral(value.value);\n      node.regex = {pattern: value.pattern, flags: value.flags};\n      return node\n\n    case types.num: case types.string:\n      return this.parseLiteral(this.value)\n\n    case types._null: case types._true: case types._false:\n      node = this.startNode();\n      node.value = this.type === types._null ? null : this.type === types._true;\n      node.raw = this.type.keyword;\n      this.next();\n      return this.finishNode(node, \"Literal\")\n\n    case types.parenL:\n      var start = this.start, expr = this.parseParenAndDistinguishExpression(canBeArrow);\n      if (refDestructuringErrors) {\n        if (refDestructuringErrors.parenthesizedAssign < 0 && !this.isSimpleAssignTarget(expr))\n          { refDestructuringErrors.parenthesizedAssign = start; }\n        if (refDestructuringErrors.parenthesizedBind < 0)\n          { refDestructuringErrors.parenthesizedBind = start; }\n      }\n      return expr\n\n    case types.bracketL:\n      node = this.startNode();\n      this.next();\n      node.elements = this.parseExprList(types.bracketR, true, true, refDestructuringErrors);\n      return this.finishNode(node, \"ArrayExpression\")\n\n    case types.braceL:\n      return this.parseObj(false, refDestructuringErrors)\n\n    case types._function:\n      node = this.startNode();\n      this.next();\n      return this.parseFunction(node, 0)\n\n    case types._class:\n      return this.parseClass(this.startNode(), false)\n\n    case types._new:\n      return this.parseNew()\n\n    case types.backQuote:\n      return this.parseTemplate()\n\n    case types._import:\n      if (this.options.ecmaVersion >= 11) {\n        return this.parseExprImport()\n      } else {\n        return this.unexpected()\n      }\n\n    default:\n      this.unexpected();\n    }\n  };\n\n  pp$3.parseExprImport = function() {\n    var node = this.startNode();\n    this.next(); \n    switch (this.type) {\n    case types.parenL:\n      return this.parseDynamicImport(node)\n    default:\n      this.unexpected();\n    }\n  };\n\n  pp$3.parseDynamicImport = function(node) {\n    this.next(); \n\n    node.source = this.parseMaybeAssign();\n\n    if (!this.eat(types.parenR)) {\n      var errorPos = this.start;\n      if (this.eat(types.comma) && this.eat(types.parenR)) {\n        this.raiseRecoverable(errorPos, \"Trailing comma is not allowed in import()\");\n      } else {\n        this.unexpected(errorPos);\n      }\n    }\n\n    return this.finishNode(node, \"ImportExpression\")\n  };\n\n  pp$3.parseLiteral = function(value) {\n    var node = this.startNode();\n    node.value = value;\n    node.raw = this.input.slice(this.start, this.end);\n    if (node.raw.charCodeAt(node.raw.length - 1) === 110) { node.bigint = node.raw.slice(0, -1); }\n    this.next();\n    return this.finishNode(node, \"Literal\")\n  };\n\n  pp$3.parseParenExpression = function() {\n    this.expect(types.parenL);\n    var val = this.parseExpression();\n    this.expect(types.parenR);\n    return val\n  };\n\n  pp$3.parseParenAndDistinguishExpression = function(canBeArrow) {\n    var startPos = this.start, startLoc = this.startLoc, val, allowTrailingComma = this.options.ecmaVersion >= 8;\n    if (this.options.ecmaVersion >= 6) {\n      this.next();\n\n      var innerStartPos = this.start, innerStartLoc = this.startLoc;\n      var exprList = [], first = true, lastIsComma = false;\n      var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, spreadStart;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      while (this.type !== types.parenR) {\n        first ? first = false : this.expect(types.comma);\n        if (allowTrailingComma && this.afterTrailingComma(types.parenR, true)) {\n          lastIsComma = true;\n          break\n        } else if (this.type === types.ellipsis) {\n          spreadStart = this.start;\n          exprList.push(this.parseParenItem(this.parseRestBinding()));\n          if (this.type === types.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n          break\n        } else {\n          exprList.push(this.parseMaybeAssign(false, refDestructuringErrors, this.parseParenItem));\n        }\n      }\n      var innerEndPos = this.start, innerEndLoc = this.startLoc;\n      this.expect(types.parenR);\n\n      if (canBeArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        return this.parseParenArrowList(startPos, startLoc, exprList)\n      }\n\n      if (!exprList.length || lastIsComma) { this.unexpected(this.lastTokStart); }\n      if (spreadStart) { this.unexpected(spreadStart); }\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n\n      if (exprList.length > 1) {\n        val = this.startNodeAt(innerStartPos, innerStartLoc);\n        val.expressions = exprList;\n        this.finishNodeAt(val, \"SequenceExpression\", innerEndPos, innerEndLoc);\n      } else {\n        val = exprList[0];\n      }\n    } else {\n      val = this.parseParenExpression();\n    }\n\n    if (this.options.preserveParens) {\n      var par = this.startNodeAt(startPos, startLoc);\n      par.expression = val;\n      return this.finishNode(par, \"ParenthesizedExpression\")\n    } else {\n      return val\n    }\n  };\n\n  pp$3.parseParenItem = function(item) {\n    return item\n  };\n\n  pp$3.parseParenArrowList = function(startPos, startLoc, exprList) {\n    return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList)\n  };\n\n\n  var empty$1 = [];\n\n  pp$3.parseNew = function() {\n    if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword new\"); }\n    var node = this.startNode();\n    var meta = this.parseIdent(true);\n    if (this.options.ecmaVersion >= 6 && this.eat(types.dot)) {\n      node.meta = meta;\n      var containsEsc = this.containsEsc;\n      node.property = this.parseIdent(true);\n      if (node.property.name !== \"target\" || containsEsc)\n        { this.raiseRecoverable(node.property.start, \"The only valid meta property for new is new.target\"); }\n      if (!this.inNonArrowFunction())\n        { this.raiseRecoverable(node.start, \"new.target can only be used in functions\"); }\n      return this.finishNode(node, \"MetaProperty\")\n    }\n    var startPos = this.start, startLoc = this.startLoc, isImport = this.type === types._import;\n    node.callee = this.parseSubscripts(this.parseExprAtom(), startPos, startLoc, true);\n    if (isImport && node.callee.type === \"ImportExpression\") {\n      this.raise(startPos, \"Cannot use new with import()\");\n    }\n    if (this.eat(types.parenL)) { node.arguments = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8, false); }\n    else { node.arguments = empty$1; }\n    return this.finishNode(node, \"NewExpression\")\n  };\n\n\n  pp$3.parseTemplateElement = function(ref) {\n    var isTagged = ref.isTagged;\n\n    var elem = this.startNode();\n    if (this.type === types.invalidTemplate) {\n      if (!isTagged) {\n        this.raiseRecoverable(this.start, \"Bad escape sequence in untagged template literal\");\n      }\n      elem.value = {\n        raw: this.value,\n        cooked: null\n      };\n    } else {\n      elem.value = {\n        raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),\n        cooked: this.value\n      };\n    }\n    this.next();\n    elem.tail = this.type === types.backQuote;\n    return this.finishNode(elem, \"TemplateElement\")\n  };\n\n  pp$3.parseTemplate = function(ref) {\n    if ( ref === void 0 ) ref = {};\n    var isTagged = ref.isTagged; if ( isTagged === void 0 ) isTagged = false;\n\n    var node = this.startNode();\n    this.next();\n    node.expressions = [];\n    var curElt = this.parseTemplateElement({isTagged: isTagged});\n    node.quasis = [curElt];\n    while (!curElt.tail) {\n      if (this.type === types.eof) { this.raise(this.pos, \"Unterminated template literal\"); }\n      this.expect(types.dollarBraceL);\n      node.expressions.push(this.parseExpression());\n      this.expect(types.braceR);\n      node.quasis.push(curElt = this.parseTemplateElement({isTagged: isTagged}));\n    }\n    this.next();\n    return this.finishNode(node, \"TemplateLiteral\")\n  };\n\n  pp$3.isAsyncProp = function(prop) {\n    return !prop.computed && prop.key.type === \"Identifier\" && prop.key.name === \"async\" &&\n      (this.type === types.name || this.type === types.num || this.type === types.string || this.type === types.bracketL || this.type.keyword || (this.options.ecmaVersion >= 9 && this.type === types.star)) &&\n      !lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n  };\n\n\n  pp$3.parseObj = function(isPattern, refDestructuringErrors) {\n    var node = this.startNode(), first = true, propHash = {};\n    node.properties = [];\n    this.next();\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.options.ecmaVersion >= 5 && this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var prop = this.parseProperty(isPattern, refDestructuringErrors);\n      if (!isPattern) { this.checkPropClash(prop, propHash, refDestructuringErrors); }\n      node.properties.push(prop);\n    }\n    return this.finishNode(node, isPattern ? \"ObjectPattern\" : \"ObjectExpression\")\n  };\n\n  pp$3.parseProperty = function(isPattern, refDestructuringErrors) {\n    var prop = this.startNode(), isGenerator, isAsync, startPos, startLoc;\n    if (this.options.ecmaVersion >= 9 && this.eat(types.ellipsis)) {\n      if (isPattern) {\n        prop.argument = this.parseIdent(false);\n        if (this.type === types.comma) {\n          this.raise(this.start, \"Comma is not permitted after the rest element\");\n        }\n        return this.finishNode(prop, \"RestElement\")\n      }\n      if (this.type === types.parenL && refDestructuringErrors) {\n        if (refDestructuringErrors.parenthesizedAssign < 0) {\n          refDestructuringErrors.parenthesizedAssign = this.start;\n        }\n        if (refDestructuringErrors.parenthesizedBind < 0) {\n          refDestructuringErrors.parenthesizedBind = this.start;\n        }\n      }\n      prop.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n      if (this.type === types.comma && refDestructuringErrors && refDestructuringErrors.trailingComma < 0) {\n        refDestructuringErrors.trailingComma = this.start;\n      }\n      return this.finishNode(prop, \"SpreadElement\")\n    }\n    if (this.options.ecmaVersion >= 6) {\n      prop.method = false;\n      prop.shorthand = false;\n      if (isPattern || refDestructuringErrors) {\n        startPos = this.start;\n        startLoc = this.startLoc;\n      }\n      if (!isPattern)\n        { isGenerator = this.eat(types.star); }\n    }\n    var containsEsc = this.containsEsc;\n    this.parsePropertyName(prop);\n    if (!isPattern && !containsEsc && this.options.ecmaVersion >= 8 && !isGenerator && this.isAsyncProp(prop)) {\n      isAsync = true;\n      isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n      this.parsePropertyName(prop, refDestructuringErrors);\n    } else {\n      isAsync = false;\n    }\n    this.parsePropertyValue(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc);\n    return this.finishNode(prop, \"Property\")\n  };\n\n  pp$3.parsePropertyValue = function(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc) {\n    if ((isGenerator || isAsync) && this.type === types.colon)\n      { this.unexpected(); }\n\n    if (this.eat(types.colon)) {\n      prop.value = isPattern ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(false, refDestructuringErrors);\n      prop.kind = \"init\";\n    } else if (this.options.ecmaVersion >= 6 && this.type === types.parenL) {\n      if (isPattern) { this.unexpected(); }\n      prop.kind = \"init\";\n      prop.method = true;\n      prop.value = this.parseMethod(isGenerator, isAsync);\n    } else if (!isPattern && !containsEsc &&\n               this.options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" &&\n               (prop.key.name === \"get\" || prop.key.name === \"set\") &&\n               (this.type !== types.comma && this.type !== types.braceR)) {\n      if (isGenerator || isAsync) { this.unexpected(); }\n      prop.kind = prop.key.name;\n      this.parsePropertyName(prop);\n      prop.value = this.parseMethod(false);\n      var paramCount = prop.kind === \"get\" ? 0 : 1;\n      if (prop.value.params.length !== paramCount) {\n        var start = prop.value.start;\n        if (prop.kind === \"get\")\n          { this.raiseRecoverable(start, \"getter should have no params\"); }\n        else\n          { this.raiseRecoverable(start, \"setter should have exactly one param\"); }\n      } else {\n        if (prop.kind === \"set\" && prop.value.params[0].type === \"RestElement\")\n          { this.raiseRecoverable(prop.value.params[0].start, \"Setter cannot use rest params\"); }\n      }\n    } else if (this.options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\n      if (isGenerator || isAsync) { this.unexpected(); }\n      this.checkUnreserved(prop.key);\n      if (prop.key.name === \"await\" && !this.awaitIdentPos)\n        { this.awaitIdentPos = startPos; }\n      prop.kind = \"init\";\n      if (isPattern) {\n        prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n      } else if (this.type === types.eq && refDestructuringErrors) {\n        if (refDestructuringErrors.shorthandAssign < 0)\n          { refDestructuringErrors.shorthandAssign = this.start; }\n        prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n      } else {\n        prop.value = prop.key;\n      }\n      prop.shorthand = true;\n    } else { this.unexpected(); }\n  };\n\n  pp$3.parsePropertyName = function(prop) {\n    if (this.options.ecmaVersion >= 6) {\n      if (this.eat(types.bracketL)) {\n        prop.computed = true;\n        prop.key = this.parseMaybeAssign();\n        this.expect(types.bracketR);\n        return prop.key\n      } else {\n        prop.computed = false;\n      }\n    }\n    return prop.key = this.type === types.num || this.type === types.string ? this.parseExprAtom() : this.parseIdent(this.options.allowReserved !== \"never\")\n  };\n\n\n  pp$3.initFunction = function(node) {\n    node.id = null;\n    if (this.options.ecmaVersion >= 6) { node.generator = node.expression = false; }\n    if (this.options.ecmaVersion >= 8) { node.async = false; }\n  };\n\n\n  pp$3.parseMethod = function(isGenerator, isAsync, allowDirectSuper) {\n    var node = this.startNode(), oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 6)\n      { node.generator = isGenerator; }\n    if (this.options.ecmaVersion >= 8)\n      { node.async = !!isAsync; }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(isAsync, node.generator) | SCOPE_SUPER | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));\n\n    this.expect(types.parenL);\n    node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n    this.parseFunctionBody(node, false, true);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"FunctionExpression\")\n  };\n\n\n  pp$3.parseArrowExpression = function(node, params, isAsync) {\n    var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n    this.enterScope(functionFlags(isAsync, false) | SCOPE_ARROW);\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 8) { node.async = !!isAsync; }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n\n    node.params = this.toAssignableList(params, true);\n    this.parseFunctionBody(node, true, false);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"ArrowFunctionExpression\")\n  };\n\n\n  pp$3.parseFunctionBody = function(node, isArrowFunction, isMethod) {\n    var isExpression = isArrowFunction && this.type !== types.braceL;\n    var oldStrict = this.strict, useStrict = false;\n\n    if (isExpression) {\n      node.body = this.parseMaybeAssign();\n      node.expression = true;\n      this.checkParams(node, false);\n    } else {\n      var nonSimple = this.options.ecmaVersion >= 7 && !this.isSimpleParamList(node.params);\n      if (!oldStrict || nonSimple) {\n        useStrict = this.strictDirective(this.end);\n        if (useStrict && nonSimple)\n          { this.raiseRecoverable(node.start, \"Illegal 'use strict' directive in function with non-simple parameter list\"); }\n      }\n      var oldLabels = this.labels;\n      this.labels = [];\n      if (useStrict) { this.strict = true; }\n\n      this.checkParams(node, !oldStrict && !useStrict && !isArrowFunction && !isMethod && this.isSimpleParamList(node.params));\n      node.body = this.parseBlock(false);\n      node.expression = false;\n      this.adaptDirectivePrologue(node.body.body);\n      this.labels = oldLabels;\n    }\n    this.exitScope();\n\n    if (this.strict && node.id) { this.checkLVal(node.id, BIND_OUTSIDE); }\n    this.strict = oldStrict;\n  };\n\n  pp$3.isSimpleParamList = function(params) {\n    for (var i = 0, list = params; i < list.length; i += 1)\n      {\n      var param = list[i];\n\n      if (param.type !== \"Identifier\") { return false\n    } }\n    return true\n  };\n\n\n  pp$3.checkParams = function(node, allowDuplicates) {\n    var nameHash = {};\n    for (var i = 0, list = node.params; i < list.length; i += 1)\n      {\n      var param = list[i];\n\n      this.checkLVal(param, BIND_VAR, allowDuplicates ? null : nameHash);\n    }\n  };\n\n\n  pp$3.parseExprList = function(close, allowTrailingComma, allowEmpty, refDestructuringErrors) {\n    var elts = [], first = true;\n    while (!this.eat(close)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (allowTrailingComma && this.afterTrailingComma(close)) { break }\n      } else { first = false; }\n\n      var elt = (void 0);\n      if (allowEmpty && this.type === types.comma)\n        { elt = null; }\n      else if (this.type === types.ellipsis) {\n        elt = this.parseSpread(refDestructuringErrors);\n        if (refDestructuringErrors && this.type === types.comma && refDestructuringErrors.trailingComma < 0)\n          { refDestructuringErrors.trailingComma = this.start; }\n      } else {\n        elt = this.parseMaybeAssign(false, refDestructuringErrors);\n      }\n      elts.push(elt);\n    }\n    return elts\n  };\n\n  pp$3.checkUnreserved = function(ref) {\n    var start = ref.start;\n    var end = ref.end;\n    var name = ref.name;\n\n    if (this.inGenerator && name === \"yield\")\n      { this.raiseRecoverable(start, \"Cannot use 'yield' as identifier inside a generator\"); }\n    if (this.inAsync && name === \"await\")\n      { this.raiseRecoverable(start, \"Cannot use 'await' as identifier inside an async function\"); }\n    if (this.keywords.test(name))\n      { this.raise(start, (\"Unexpected keyword '\" + name + \"'\")); }\n    if (this.options.ecmaVersion < 6 &&\n      this.input.slice(start, end).indexOf(\"\\\\\") !== -1) { return }\n    var re = this.strict ? this.reservedWordsStrict : this.reservedWords;\n    if (re.test(name)) {\n      if (!this.inAsync && name === \"await\")\n        { this.raiseRecoverable(start, \"Cannot use keyword 'await' outside an async function\"); }\n      this.raiseRecoverable(start, (\"The keyword '\" + name + \"' is reserved\"));\n    }\n  };\n\n\n  pp$3.parseIdent = function(liberal, isBinding) {\n    var node = this.startNode();\n    if (this.type === types.name) {\n      node.name = this.value;\n    } else if (this.type.keyword) {\n      node.name = this.type.keyword;\n\n      if ((node.name === \"class\" || node.name === \"function\") &&\n          (this.lastTokEnd !== this.lastTokStart + 1 || this.input.charCodeAt(this.lastTokStart) !== 46)) {\n        this.context.pop();\n      }\n    } else {\n      this.unexpected();\n    }\n    this.next(!!liberal);\n    this.finishNode(node, \"Identifier\");\n    if (!liberal) {\n      this.checkUnreserved(node);\n      if (node.name === \"await\" && !this.awaitIdentPos)\n        { this.awaitIdentPos = node.start; }\n    }\n    return node\n  };\n\n\n  pp$3.parseYield = function(noIn) {\n    if (!this.yieldPos) { this.yieldPos = this.start; }\n\n    var node = this.startNode();\n    this.next();\n    if (this.type === types.semi || this.canInsertSemicolon() || (this.type !== types.star && !this.type.startsExpr)) {\n      node.delegate = false;\n      node.argument = null;\n    } else {\n      node.delegate = this.eat(types.star);\n      node.argument = this.parseMaybeAssign(noIn);\n    }\n    return this.finishNode(node, \"YieldExpression\")\n  };\n\n  pp$3.parseAwait = function() {\n    if (!this.awaitPos) { this.awaitPos = this.start; }\n\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeUnary(null, false);\n    return this.finishNode(node, \"AwaitExpression\")\n  };\n\n  var pp$4 = Parser.prototype;\n\n\n  pp$4.raise = function(pos, message) {\n    var loc = getLineInfo(this.input, pos);\n    message += \" (\" + loc.line + \":\" + loc.column + \")\";\n    var err = new SyntaxError(message);\n    err.pos = pos; err.loc = loc; err.raisedAt = this.pos;\n    throw err\n  };\n\n  pp$4.raiseRecoverable = pp$4.raise;\n\n  pp$4.curPosition = function() {\n    if (this.options.locations) {\n      return new Position(this.curLine, this.pos - this.lineStart)\n    }\n  };\n\n  var pp$5 = Parser.prototype;\n\n  var Scope = function Scope(flags) {\n    this.flags = flags;\n    this.var = [];\n    this.lexical = [];\n    this.functions = [];\n  };\n\n\n  pp$5.enterScope = function(flags) {\n    this.scopeStack.push(new Scope(flags));\n  };\n\n  pp$5.exitScope = function() {\n    this.scopeStack.pop();\n  };\n\n  pp$5.treatFunctionsAsVarInScope = function(scope) {\n    return (scope.flags & SCOPE_FUNCTION) || !this.inModule && (scope.flags & SCOPE_TOP)\n  };\n\n  pp$5.declareName = function(name, bindingType, pos) {\n    var redeclared = false;\n    if (bindingType === BIND_LEXICAL) {\n      var scope = this.currentScope();\n      redeclared = scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;\n      scope.lexical.push(name);\n      if (this.inModule && (scope.flags & SCOPE_TOP))\n        { delete this.undefinedExports[name]; }\n    } else if (bindingType === BIND_SIMPLE_CATCH) {\n      var scope$1 = this.currentScope();\n      scope$1.lexical.push(name);\n    } else if (bindingType === BIND_FUNCTION) {\n      var scope$2 = this.currentScope();\n      if (this.treatFunctionsAsVar)\n        { redeclared = scope$2.lexical.indexOf(name) > -1; }\n      else\n        { redeclared = scope$2.lexical.indexOf(name) > -1 || scope$2.var.indexOf(name) > -1; }\n      scope$2.functions.push(name);\n    } else {\n      for (var i = this.scopeStack.length - 1; i >= 0; --i) {\n        var scope$3 = this.scopeStack[i];\n        if (scope$3.lexical.indexOf(name) > -1 && !((scope$3.flags & SCOPE_SIMPLE_CATCH) && scope$3.lexical[0] === name) ||\n            !this.treatFunctionsAsVarInScope(scope$3) && scope$3.functions.indexOf(name) > -1) {\n          redeclared = true;\n          break\n        }\n        scope$3.var.push(name);\n        if (this.inModule && (scope$3.flags & SCOPE_TOP))\n          { delete this.undefinedExports[name]; }\n        if (scope$3.flags & SCOPE_VAR) { break }\n      }\n    }\n    if (redeclared) { this.raiseRecoverable(pos, (\"Identifier '\" + name + \"' has already been declared\")); }\n  };\n\n  pp$5.checkLocalExport = function(id) {\n    if (this.scopeStack[0].lexical.indexOf(id.name) === -1 &&\n        this.scopeStack[0].var.indexOf(id.name) === -1) {\n      this.undefinedExports[id.name] = id;\n    }\n  };\n\n  pp$5.currentScope = function() {\n    return this.scopeStack[this.scopeStack.length - 1]\n  };\n\n  pp$5.currentVarScope = function() {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.flags & SCOPE_VAR) { return scope }\n    }\n  };\n\n  pp$5.currentThisScope = function() {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.flags & SCOPE_VAR && !(scope.flags & SCOPE_ARROW)) { return scope }\n    }\n  };\n\n  var Node = function Node(parser, pos, loc) {\n    this.type = \"\";\n    this.start = pos;\n    this.end = 0;\n    if (parser.options.locations)\n      { this.loc = new SourceLocation(parser, loc); }\n    if (parser.options.directSourceFile)\n      { this.sourceFile = parser.options.directSourceFile; }\n    if (parser.options.ranges)\n      { this.range = [pos, 0]; }\n  };\n\n\n  var pp$6 = Parser.prototype;\n\n  pp$6.startNode = function() {\n    return new Node(this, this.start, this.startLoc)\n  };\n\n  pp$6.startNodeAt = function(pos, loc) {\n    return new Node(this, pos, loc)\n  };\n\n\n  function finishNodeAt(node, type, pos, loc) {\n    node.type = type;\n    node.end = pos;\n    if (this.options.locations)\n      { node.loc.end = loc; }\n    if (this.options.ranges)\n      { node.range[1] = pos; }\n    return node\n  }\n\n  pp$6.finishNode = function(node, type) {\n    return finishNodeAt.call(this, node, type, this.lastTokEnd, this.lastTokEndLoc)\n  };\n\n\n  pp$6.finishNodeAt = function(node, type, pos, loc) {\n    return finishNodeAt.call(this, node, type, pos, loc)\n  };\n\n\n  var TokContext = function TokContext(token, isExpr, preserveSpace, override, generator) {\n    this.token = token;\n    this.isExpr = !!isExpr;\n    this.preserveSpace = !!preserveSpace;\n    this.override = override;\n    this.generator = !!generator;\n  };\n\n  var types$1 = {\n    b_stat: new TokContext(\"{\", false),\n    b_expr: new TokContext(\"{\", true),\n    b_tmpl: new TokContext(\"${\", false),\n    p_stat: new TokContext(\"(\", false),\n    p_expr: new TokContext(\"(\", true),\n    q_tmpl: new TokContext(\"`\", true, true, function (p) { return p.tryReadTemplateToken(); }),\n    f_stat: new TokContext(\"function\", false),\n    f_expr: new TokContext(\"function\", true),\n    f_expr_gen: new TokContext(\"function\", true, false, null, true),\n    f_gen: new TokContext(\"function\", false, false, null, true)\n  };\n\n  var pp$7 = Parser.prototype;\n\n  pp$7.initialContext = function() {\n    return [types$1.b_stat]\n  };\n\n  pp$7.braceIsBlock = function(prevType) {\n    var parent = this.curContext();\n    if (parent === types$1.f_expr || parent === types$1.f_stat)\n      { return true }\n    if (prevType === types.colon && (parent === types$1.b_stat || parent === types$1.b_expr))\n      { return !parent.isExpr }\n\n    if (prevType === types._return || prevType === types.name && this.exprAllowed)\n      { return lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) }\n    if (prevType === types._else || prevType === types.semi || prevType === types.eof || prevType === types.parenR || prevType === types.arrow)\n      { return true }\n    if (prevType === types.braceL)\n      { return parent === types$1.b_stat }\n    if (prevType === types._var || prevType === types._const || prevType === types.name)\n      { return false }\n    return !this.exprAllowed\n  };\n\n  pp$7.inGeneratorContext = function() {\n    for (var i = this.context.length - 1; i >= 1; i--) {\n      var context = this.context[i];\n      if (context.token === \"function\")\n        { return context.generator }\n    }\n    return false\n  };\n\n  pp$7.updateContext = function(prevType) {\n    var update, type = this.type;\n    if (type.keyword && prevType === types.dot)\n      { this.exprAllowed = false; }\n    else if (update = type.updateContext)\n      { update.call(this, prevType); }\n    else\n      { this.exprAllowed = type.beforeExpr; }\n  };\n\n\n  types.parenR.updateContext = types.braceR.updateContext = function() {\n    if (this.context.length === 1) {\n      this.exprAllowed = true;\n      return\n    }\n    var out = this.context.pop();\n    if (out === types$1.b_stat && this.curContext().token === \"function\") {\n      out = this.context.pop();\n    }\n    this.exprAllowed = !out.isExpr;\n  };\n\n  types.braceL.updateContext = function(prevType) {\n    this.context.push(this.braceIsBlock(prevType) ? types$1.b_stat : types$1.b_expr);\n    this.exprAllowed = true;\n  };\n\n  types.dollarBraceL.updateContext = function() {\n    this.context.push(types$1.b_tmpl);\n    this.exprAllowed = true;\n  };\n\n  types.parenL.updateContext = function(prevType) {\n    var statementParens = prevType === types._if || prevType === types._for || prevType === types._with || prevType === types._while;\n    this.context.push(statementParens ? types$1.p_stat : types$1.p_expr);\n    this.exprAllowed = true;\n  };\n\n  types.incDec.updateContext = function() {\n  };\n\n  types._function.updateContext = types._class.updateContext = function(prevType) {\n    if (prevType.beforeExpr && prevType !== types.semi && prevType !== types._else &&\n        !(prevType === types._return && lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) &&\n        !((prevType === types.colon || prevType === types.braceL) && this.curContext() === types$1.b_stat))\n      { this.context.push(types$1.f_expr); }\n    else\n      { this.context.push(types$1.f_stat); }\n    this.exprAllowed = false;\n  };\n\n  types.backQuote.updateContext = function() {\n    if (this.curContext() === types$1.q_tmpl)\n      { this.context.pop(); }\n    else\n      { this.context.push(types$1.q_tmpl); }\n    this.exprAllowed = false;\n  };\n\n  types.star.updateContext = function(prevType) {\n    if (prevType === types._function) {\n      var index = this.context.length - 1;\n      if (this.context[index] === types$1.f_expr)\n        { this.context[index] = types$1.f_expr_gen; }\n      else\n        { this.context[index] = types$1.f_gen; }\n    }\n    this.exprAllowed = true;\n  };\n\n  types.name.updateContext = function(prevType) {\n    var allowed = false;\n    if (this.options.ecmaVersion >= 6 && prevType !== types.dot) {\n      if (this.value === \"of\" && !this.exprAllowed ||\n          this.value === \"yield\" && this.inGeneratorContext())\n        { allowed = true; }\n    }\n    this.exprAllowed = allowed;\n  };\n\n\n  var ecma9BinaryProperties = \"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS\";\n  var ecma10BinaryProperties = ecma9BinaryProperties + \" Extended_Pictographic\";\n  var ecma11BinaryProperties = ecma10BinaryProperties;\n  var unicodeBinaryProperties = {\n    9: ecma9BinaryProperties,\n    10: ecma10BinaryProperties,\n    11: ecma11BinaryProperties\n  };\n\n  var unicodeGeneralCategoryValues = \"Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu\";\n\n  var ecma9ScriptValues = \"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb\";\n  var ecma10ScriptValues = ecma9ScriptValues + \" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd\";\n  var ecma11ScriptValues = ecma10ScriptValues + \" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho\";\n  var unicodeScriptValues = {\n    9: ecma9ScriptValues,\n    10: ecma10ScriptValues,\n    11: ecma11ScriptValues\n  };\n\n  var data = {};\n  function buildUnicodeData(ecmaVersion) {\n    var d = data[ecmaVersion] = {\n      binary: wordsRegexp(unicodeBinaryProperties[ecmaVersion] + \" \" + unicodeGeneralCategoryValues),\n      nonBinary: {\n        General_Category: wordsRegexp(unicodeGeneralCategoryValues),\n        Script: wordsRegexp(unicodeScriptValues[ecmaVersion])\n      }\n    };\n    d.nonBinary.Script_Extensions = d.nonBinary.Script;\n\n    d.nonBinary.gc = d.nonBinary.General_Category;\n    d.nonBinary.sc = d.nonBinary.Script;\n    d.nonBinary.scx = d.nonBinary.Script_Extensions;\n  }\n  buildUnicodeData(9);\n  buildUnicodeData(10);\n  buildUnicodeData(11);\n\n  var pp$8 = Parser.prototype;\n\n  var RegExpValidationState = function RegExpValidationState(parser) {\n    this.parser = parser;\n    this.validFlags = \"gim\" + (parser.options.ecmaVersion >= 6 ? \"uy\" : \"\") + (parser.options.ecmaVersion >= 9 ? \"s\" : \"\");\n    this.unicodeProperties = data[parser.options.ecmaVersion >= 11 ? 11 : parser.options.ecmaVersion];\n    this.source = \"\";\n    this.flags = \"\";\n    this.start = 0;\n    this.switchU = false;\n    this.switchN = false;\n    this.pos = 0;\n    this.lastIntValue = 0;\n    this.lastStringValue = \"\";\n    this.lastAssertionIsQuantifiable = false;\n    this.numCapturingParens = 0;\n    this.maxBackReference = 0;\n    this.groupNames = [];\n    this.backReferenceNames = [];\n  };\n\n  RegExpValidationState.prototype.reset = function reset (start, pattern, flags) {\n    var unicode = flags.indexOf(\"u\") !== -1;\n    this.start = start | 0;\n    this.source = pattern + \"\";\n    this.flags = flags;\n    this.switchU = unicode && this.parser.options.ecmaVersion >= 6;\n    this.switchN = unicode && this.parser.options.ecmaVersion >= 9;\n  };\n\n  RegExpValidationState.prototype.raise = function raise (message) {\n    this.parser.raiseRecoverable(this.start, (\"Invalid regular expression: /\" + (this.source) + \"/: \" + message));\n  };\n\n  RegExpValidationState.prototype.at = function at (i) {\n    var s = this.source;\n    var l = s.length;\n    if (i >= l) {\n      return -1\n    }\n    var c = s.charCodeAt(i);\n    if (!this.switchU || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\n      return c\n    }\n    var next = s.charCodeAt(i + 1);\n    return next >= 0xDC00 && next <= 0xDFFF ? (c << 10) + next - 0x35FDC00 : c\n  };\n\n  RegExpValidationState.prototype.nextIndex = function nextIndex (i) {\n    var s = this.source;\n    var l = s.length;\n    if (i >= l) {\n      return l\n    }\n    var c = s.charCodeAt(i), next;\n    if (!this.switchU || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l ||\n        (next = s.charCodeAt(i + 1)) < 0xDC00 || next > 0xDFFF) {\n      return i + 1\n    }\n    return i + 2\n  };\n\n  RegExpValidationState.prototype.current = function current () {\n    return this.at(this.pos)\n  };\n\n  RegExpValidationState.prototype.lookahead = function lookahead () {\n    return this.at(this.nextIndex(this.pos))\n  };\n\n  RegExpValidationState.prototype.advance = function advance () {\n    this.pos = this.nextIndex(this.pos);\n  };\n\n  RegExpValidationState.prototype.eat = function eat (ch) {\n    if (this.current() === ch) {\n      this.advance();\n      return true\n    }\n    return false\n  };\n\n  function codePointToString(ch) {\n    if (ch <= 0xFFFF) { return String.fromCharCode(ch) }\n    ch -= 0x10000;\n    return String.fromCharCode((ch >> 10) + 0xD800, (ch & 0x03FF) + 0xDC00)\n  }\n\n  pp$8.validateRegExpFlags = function(state) {\n    var validFlags = state.validFlags;\n    var flags = state.flags;\n\n    for (var i = 0; i < flags.length; i++) {\n      var flag = flags.charAt(i);\n      if (validFlags.indexOf(flag) === -1) {\n        this.raise(state.start, \"Invalid regular expression flag\");\n      }\n      if (flags.indexOf(flag, i + 1) > -1) {\n        this.raise(state.start, \"Duplicate regular expression flag\");\n      }\n    }\n  };\n\n  pp$8.validateRegExpPattern = function(state) {\n    this.regexp_pattern(state);\n\n    if (!state.switchN && this.options.ecmaVersion >= 9 && state.groupNames.length > 0) {\n      state.switchN = true;\n      this.regexp_pattern(state);\n    }\n  };\n\n  pp$8.regexp_pattern = function(state) {\n    state.pos = 0;\n    state.lastIntValue = 0;\n    state.lastStringValue = \"\";\n    state.lastAssertionIsQuantifiable = false;\n    state.numCapturingParens = 0;\n    state.maxBackReference = 0;\n    state.groupNames.length = 0;\n    state.backReferenceNames.length = 0;\n\n    this.regexp_disjunction(state);\n\n    if (state.pos !== state.source.length) {\n      if (state.eat(0x29 )) {\n        state.raise(\"Unmatched ')'\");\n      }\n      if (state.eat(0x5D ) || state.eat(0x7D )) {\n        state.raise(\"Lone quantifier brackets\");\n      }\n    }\n    if (state.maxBackReference > state.numCapturingParens) {\n      state.raise(\"Invalid escape\");\n    }\n    for (var i = 0, list = state.backReferenceNames; i < list.length; i += 1) {\n      var name = list[i];\n\n      if (state.groupNames.indexOf(name) === -1) {\n        state.raise(\"Invalid named capture referenced\");\n      }\n    }\n  };\n\n  pp$8.regexp_disjunction = function(state) {\n    this.regexp_alternative(state);\n    while (state.eat(0x7C )) {\n      this.regexp_alternative(state);\n    }\n\n    if (this.regexp_eatQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n    if (state.eat(0x7B )) {\n      state.raise(\"Lone quantifier brackets\");\n    }\n  };\n\n  pp$8.regexp_alternative = function(state) {\n    while (state.pos < state.source.length && this.regexp_eatTerm(state))\n      { }\n  };\n\n  pp$8.regexp_eatTerm = function(state) {\n    if (this.regexp_eatAssertion(state)) {\n      if (state.lastAssertionIsQuantifiable && this.regexp_eatQuantifier(state)) {\n        if (state.switchU) {\n          state.raise(\"Invalid quantifier\");\n        }\n      }\n      return true\n    }\n\n    if (state.switchU ? this.regexp_eatAtom(state) : this.regexp_eatExtendedAtom(state)) {\n      this.regexp_eatQuantifier(state);\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatAssertion = function(state) {\n    var start = state.pos;\n    state.lastAssertionIsQuantifiable = false;\n\n    if (state.eat(0x5E ) || state.eat(0x24 )) {\n      return true\n    }\n\n    if (state.eat(0x5C )) {\n      if (state.eat(0x42 ) || state.eat(0x62 )) {\n        return true\n      }\n      state.pos = start;\n    }\n\n    if (state.eat(0x28 ) && state.eat(0x3F )) {\n      var lookbehind = false;\n      if (this.options.ecmaVersion >= 9) {\n        lookbehind = state.eat(0x3C );\n      }\n      if (state.eat(0x3D ) || state.eat(0x21 )) {\n        this.regexp_disjunction(state);\n        if (!state.eat(0x29 )) {\n          state.raise(\"Unterminated group\");\n        }\n        state.lastAssertionIsQuantifiable = !lookbehind;\n        return true\n      }\n    }\n\n    state.pos = start;\n    return false\n  };\n\n  pp$8.regexp_eatQuantifier = function(state, noError) {\n    if ( noError === void 0 ) noError = false;\n\n    if (this.regexp_eatQuantifierPrefix(state, noError)) {\n      state.eat(0x3F );\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatQuantifierPrefix = function(state, noError) {\n    return (\n      state.eat(0x2A ) ||\n      state.eat(0x2B ) ||\n      state.eat(0x3F ) ||\n      this.regexp_eatBracedQuantifier(state, noError)\n    )\n  };\n  pp$8.regexp_eatBracedQuantifier = function(state, noError) {\n    var start = state.pos;\n    if (state.eat(0x7B )) {\n      var min = 0, max = -1;\n      if (this.regexp_eatDecimalDigits(state)) {\n        min = state.lastIntValue;\n        if (state.eat(0x2C ) && this.regexp_eatDecimalDigits(state)) {\n          max = state.lastIntValue;\n        }\n        if (state.eat(0x7D )) {\n          if (max !== -1 && max < min && !noError) {\n            state.raise(\"numbers out of order in {} quantifier\");\n          }\n          return true\n        }\n      }\n      if (state.switchU && !noError) {\n        state.raise(\"Incomplete quantifier\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  pp$8.regexp_eatAtom = function(state) {\n    return (\n      this.regexp_eatPatternCharacters(state) ||\n      state.eat(0x2E ) ||\n      this.regexp_eatReverseSolidusAtomEscape(state) ||\n      this.regexp_eatCharacterClass(state) ||\n      this.regexp_eatUncapturingGroup(state) ||\n      this.regexp_eatCapturingGroup(state)\n    )\n  };\n  pp$8.regexp_eatReverseSolidusAtomEscape = function(state) {\n    var start = state.pos;\n    if (state.eat(0x5C )) {\n      if (this.regexp_eatAtomEscape(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatUncapturingGroup = function(state) {\n    var start = state.pos;\n    if (state.eat(0x28 )) {\n      if (state.eat(0x3F ) && state.eat(0x3A )) {\n        this.regexp_disjunction(state);\n        if (state.eat(0x29 )) {\n          return true\n        }\n        state.raise(\"Unterminated group\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatCapturingGroup = function(state) {\n    if (state.eat(0x28 )) {\n      if (this.options.ecmaVersion >= 9) {\n        this.regexp_groupSpecifier(state);\n      } else if (state.current() === 0x3F ) {\n        state.raise(\"Invalid group\");\n      }\n      this.regexp_disjunction(state);\n      if (state.eat(0x29 )) {\n        state.numCapturingParens += 1;\n        return true\n      }\n      state.raise(\"Unterminated group\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatExtendedAtom = function(state) {\n    return (\n      state.eat(0x2E ) ||\n      this.regexp_eatReverseSolidusAtomEscape(state) ||\n      this.regexp_eatCharacterClass(state) ||\n      this.regexp_eatUncapturingGroup(state) ||\n      this.regexp_eatCapturingGroup(state) ||\n      this.regexp_eatInvalidBracedQuantifier(state) ||\n      this.regexp_eatExtendedPatternCharacter(state)\n    )\n  };\n\n  pp$8.regexp_eatInvalidBracedQuantifier = function(state) {\n    if (this.regexp_eatBracedQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatSyntaxCharacter = function(state) {\n    var ch = state.current();\n    if (isSyntaxCharacter(ch)) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n    return false\n  };\n  function isSyntaxCharacter(ch) {\n    return (\n      ch === 0x24  ||\n      ch >= 0x28  && ch <= 0x2B  ||\n      ch === 0x2E  ||\n      ch === 0x3F  ||\n      ch >= 0x5B  && ch <= 0x5E  ||\n      ch >= 0x7B  && ch <= 0x7D \n    )\n  }\n\n  pp$8.regexp_eatPatternCharacters = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    while ((ch = state.current()) !== -1 && !isSyntaxCharacter(ch)) {\n      state.advance();\n    }\n    return state.pos !== start\n  };\n\n  pp$8.regexp_eatExtendedPatternCharacter = function(state) {\n    var ch = state.current();\n    if (\n      ch !== -1 &&\n      ch !== 0x24  &&\n      !(ch >= 0x28  && ch <= 0x2B ) &&\n      ch !== 0x2E  &&\n      ch !== 0x3F  &&\n      ch !== 0x5B  &&\n      ch !== 0x5E  &&\n      ch !== 0x7C \n    ) {\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_groupSpecifier = function(state) {\n    if (state.eat(0x3F )) {\n      if (this.regexp_eatGroupName(state)) {\n        if (state.groupNames.indexOf(state.lastStringValue) !== -1) {\n          state.raise(\"Duplicate capture group name\");\n        }\n        state.groupNames.push(state.lastStringValue);\n        return\n      }\n      state.raise(\"Invalid group\");\n    }\n  };\n\n  pp$8.regexp_eatGroupName = function(state) {\n    state.lastStringValue = \"\";\n    if (state.eat(0x3C )) {\n      if (this.regexp_eatRegExpIdentifierName(state) && state.eat(0x3E )) {\n        return true\n      }\n      state.raise(\"Invalid capture group name\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatRegExpIdentifierName = function(state) {\n    state.lastStringValue = \"\";\n    if (this.regexp_eatRegExpIdentifierStart(state)) {\n      state.lastStringValue += codePointToString(state.lastIntValue);\n      while (this.regexp_eatRegExpIdentifierPart(state)) {\n        state.lastStringValue += codePointToString(state.lastIntValue);\n      }\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatRegExpIdentifierStart = function(state) {\n    var start = state.pos;\n    var ch = state.current();\n    state.advance();\n\n    if (ch === 0x5C  && this.regexp_eatRegExpUnicodeEscapeSequence(state)) {\n      ch = state.lastIntValue;\n    }\n    if (isRegExpIdentifierStart(ch)) {\n      state.lastIntValue = ch;\n      return true\n    }\n\n    state.pos = start;\n    return false\n  };\n  function isRegExpIdentifierStart(ch) {\n    return isIdentifierStart(ch, true) || ch === 0x24  || ch === 0x5F \n  }\n\n  pp$8.regexp_eatRegExpIdentifierPart = function(state) {\n    var start = state.pos;\n    var ch = state.current();\n    state.advance();\n\n    if (ch === 0x5C  && this.regexp_eatRegExpUnicodeEscapeSequence(state)) {\n      ch = state.lastIntValue;\n    }\n    if (isRegExpIdentifierPart(ch)) {\n      state.lastIntValue = ch;\n      return true\n    }\n\n    state.pos = start;\n    return false\n  };\n  function isRegExpIdentifierPart(ch) {\n    return isIdentifierChar(ch, true) || ch === 0x24  || ch === 0x5F  || ch === 0x200C  || ch === 0x200D \n  }\n\n  pp$8.regexp_eatAtomEscape = function(state) {\n    if (\n      this.regexp_eatBackReference(state) ||\n      this.regexp_eatCharacterClassEscape(state) ||\n      this.regexp_eatCharacterEscape(state) ||\n      (state.switchN && this.regexp_eatKGroupName(state))\n    ) {\n      return true\n    }\n    if (state.switchU) {\n      if (state.current() === 0x63 ) {\n        state.raise(\"Invalid unicode escape\");\n      }\n      state.raise(\"Invalid escape\");\n    }\n    return false\n  };\n  pp$8.regexp_eatBackReference = function(state) {\n    var start = state.pos;\n    if (this.regexp_eatDecimalEscape(state)) {\n      var n = state.lastIntValue;\n      if (state.switchU) {\n        if (n > state.maxBackReference) {\n          state.maxBackReference = n;\n        }\n        return true\n      }\n      if (n <= state.numCapturingParens) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatKGroupName = function(state) {\n    if (state.eat(0x6B )) {\n      if (this.regexp_eatGroupName(state)) {\n        state.backReferenceNames.push(state.lastStringValue);\n        return true\n      }\n      state.raise(\"Invalid named reference\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatCharacterEscape = function(state) {\n    return (\n      this.regexp_eatControlEscape(state) ||\n      this.regexp_eatCControlLetter(state) ||\n      this.regexp_eatZero(state) ||\n      this.regexp_eatHexEscapeSequence(state) ||\n      this.regexp_eatRegExpUnicodeEscapeSequence(state) ||\n      (!state.switchU && this.regexp_eatLegacyOctalEscapeSequence(state)) ||\n      this.regexp_eatIdentityEscape(state)\n    )\n  };\n  pp$8.regexp_eatCControlLetter = function(state) {\n    var start = state.pos;\n    if (state.eat(0x63 )) {\n      if (this.regexp_eatControlLetter(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatZero = function(state) {\n    if (state.current() === 0x30  && !isDecimalDigit(state.lookahead())) {\n      state.lastIntValue = 0;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatControlEscape = function(state) {\n    var ch = state.current();\n    if (ch === 0x74 ) {\n      state.lastIntValue = 0x09; \n      state.advance();\n      return true\n    }\n    if (ch === 0x6E ) {\n      state.lastIntValue = 0x0A; \n      state.advance();\n      return true\n    }\n    if (ch === 0x76 ) {\n      state.lastIntValue = 0x0B; \n      state.advance();\n      return true\n    }\n    if (ch === 0x66 ) {\n      state.lastIntValue = 0x0C; \n      state.advance();\n      return true\n    }\n    if (ch === 0x72 ) {\n      state.lastIntValue = 0x0D; \n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatControlLetter = function(state) {\n    var ch = state.current();\n    if (isControlLetter(ch)) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true\n    }\n    return false\n  };\n  function isControlLetter(ch) {\n    return (\n      (ch >= 0x41  && ch <= 0x5A ) ||\n      (ch >= 0x61  && ch <= 0x7A )\n    )\n  }\n\n  pp$8.regexp_eatRegExpUnicodeEscapeSequence = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x75 )) {\n      if (this.regexp_eatFixedHexDigits(state, 4)) {\n        var lead = state.lastIntValue;\n        if (state.switchU && lead >= 0xD800 && lead <= 0xDBFF) {\n          var leadSurrogateEnd = state.pos;\n          if (state.eat(0x5C ) && state.eat(0x75 ) && this.regexp_eatFixedHexDigits(state, 4)) {\n            var trail = state.lastIntValue;\n            if (trail >= 0xDC00 && trail <= 0xDFFF) {\n              state.lastIntValue = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n              return true\n            }\n          }\n          state.pos = leadSurrogateEnd;\n          state.lastIntValue = lead;\n        }\n        return true\n      }\n      if (\n        state.switchU &&\n        state.eat(0x7B ) &&\n        this.regexp_eatHexDigits(state) &&\n        state.eat(0x7D ) &&\n        isValidUnicode(state.lastIntValue)\n      ) {\n        return true\n      }\n      if (state.switchU) {\n        state.raise(\"Invalid unicode escape\");\n      }\n      state.pos = start;\n    }\n\n    return false\n  };\n  function isValidUnicode(ch) {\n    return ch >= 0 && ch <= 0x10FFFF\n  }\n\n  pp$8.regexp_eatIdentityEscape = function(state) {\n    if (state.switchU) {\n      if (this.regexp_eatSyntaxCharacter(state)) {\n        return true\n      }\n      if (state.eat(0x2F )) {\n        state.lastIntValue = 0x2F; \n        return true\n      }\n      return false\n    }\n\n    var ch = state.current();\n    if (ch !== 0x63  && (!state.switchN || ch !== 0x6B )) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatDecimalEscape = function(state) {\n    state.lastIntValue = 0;\n    var ch = state.current();\n    if (ch >= 0x31  && ch <= 0x39 ) {\n      do {\n        state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 );\n        state.advance();\n      } while ((ch = state.current()) >= 0x30  && ch <= 0x39 )\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatCharacterClassEscape = function(state) {\n    var ch = state.current();\n\n    if (isCharacterClassEscape(ch)) {\n      state.lastIntValue = -1;\n      state.advance();\n      return true\n    }\n\n    if (\n      state.switchU &&\n      this.options.ecmaVersion >= 9 &&\n      (ch === 0x50  || ch === 0x70 )\n    ) {\n      state.lastIntValue = -1;\n      state.advance();\n      if (\n        state.eat(0x7B ) &&\n        this.regexp_eatUnicodePropertyValueExpression(state) &&\n        state.eat(0x7D )\n      ) {\n        return true\n      }\n      state.raise(\"Invalid property name\");\n    }\n\n    return false\n  };\n  function isCharacterClassEscape(ch) {\n    return (\n      ch === 0x64  ||\n      ch === 0x44  ||\n      ch === 0x73  ||\n      ch === 0x53  ||\n      ch === 0x77  ||\n      ch === 0x57 \n    )\n  }\n\n  pp$8.regexp_eatUnicodePropertyValueExpression = function(state) {\n    var start = state.pos;\n\n    if (this.regexp_eatUnicodePropertyName(state) && state.eat(0x3D )) {\n      var name = state.lastStringValue;\n      if (this.regexp_eatUnicodePropertyValue(state)) {\n        var value = state.lastStringValue;\n        this.regexp_validateUnicodePropertyNameAndValue(state, name, value);\n        return true\n      }\n    }\n    state.pos = start;\n\n    if (this.regexp_eatLoneUnicodePropertyNameOrValue(state)) {\n      var nameOrValue = state.lastStringValue;\n      this.regexp_validateUnicodePropertyNameOrValue(state, nameOrValue);\n      return true\n    }\n    return false\n  };\n  pp$8.regexp_validateUnicodePropertyNameAndValue = function(state, name, value) {\n    if (!has(state.unicodeProperties.nonBinary, name))\n      { state.raise(\"Invalid property name\"); }\n    if (!state.unicodeProperties.nonBinary[name].test(value))\n      { state.raise(\"Invalid property value\"); }\n  };\n  pp$8.regexp_validateUnicodePropertyNameOrValue = function(state, nameOrValue) {\n    if (!state.unicodeProperties.binary.test(nameOrValue))\n      { state.raise(\"Invalid property name\"); }\n  };\n\n  pp$8.regexp_eatUnicodePropertyName = function(state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n    while (isUnicodePropertyNameCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString(ch);\n      state.advance();\n    }\n    return state.lastStringValue !== \"\"\n  };\n  function isUnicodePropertyNameCharacter(ch) {\n    return isControlLetter(ch) || ch === 0x5F \n  }\n\n  pp$8.regexp_eatUnicodePropertyValue = function(state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n    while (isUnicodePropertyValueCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString(ch);\n      state.advance();\n    }\n    return state.lastStringValue !== \"\"\n  };\n  function isUnicodePropertyValueCharacter(ch) {\n    return isUnicodePropertyNameCharacter(ch) || isDecimalDigit(ch)\n  }\n\n  pp$8.regexp_eatLoneUnicodePropertyNameOrValue = function(state) {\n    return this.regexp_eatUnicodePropertyValue(state)\n  };\n\n  pp$8.regexp_eatCharacterClass = function(state) {\n    if (state.eat(0x5B )) {\n      state.eat(0x5E );\n      this.regexp_classRanges(state);\n      if (state.eat(0x5D )) {\n        return true\n      }\n      state.raise(\"Unterminated character class\");\n    }\n    return false\n  };\n\n  pp$8.regexp_classRanges = function(state) {\n    while (this.regexp_eatClassAtom(state)) {\n      var left = state.lastIntValue;\n      if (state.eat(0x2D ) && this.regexp_eatClassAtom(state)) {\n        var right = state.lastIntValue;\n        if (state.switchU && (left === -1 || right === -1)) {\n          state.raise(\"Invalid character class\");\n        }\n        if (left !== -1 && right !== -1 && left > right) {\n          state.raise(\"Range out of order in character class\");\n        }\n      }\n    }\n  };\n\n  pp$8.regexp_eatClassAtom = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x5C )) {\n      if (this.regexp_eatClassEscape(state)) {\n        return true\n      }\n      if (state.switchU) {\n        var ch$1 = state.current();\n        if (ch$1 === 0x63  || isOctalDigit(ch$1)) {\n          state.raise(\"Invalid class escape\");\n        }\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n\n    var ch = state.current();\n    if (ch !== 0x5D ) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatClassEscape = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x62 )) {\n      state.lastIntValue = 0x08; \n      return true\n    }\n\n    if (state.switchU && state.eat(0x2D )) {\n      state.lastIntValue = 0x2D; \n      return true\n    }\n\n    if (!state.switchU && state.eat(0x63 )) {\n      if (this.regexp_eatClassControlLetter(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n\n    return (\n      this.regexp_eatCharacterClassEscape(state) ||\n      this.regexp_eatCharacterEscape(state)\n    )\n  };\n\n  pp$8.regexp_eatClassControlLetter = function(state) {\n    var ch = state.current();\n    if (isDecimalDigit(ch) || ch === 0x5F ) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatHexEscapeSequence = function(state) {\n    var start = state.pos;\n    if (state.eat(0x78 )) {\n      if (this.regexp_eatFixedHexDigits(state, 2)) {\n        return true\n      }\n      if (state.switchU) {\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  pp$8.regexp_eatDecimalDigits = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n    while (isDecimalDigit(ch = state.current())) {\n      state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 );\n      state.advance();\n    }\n    return state.pos !== start\n  };\n  function isDecimalDigit(ch) {\n    return ch >= 0x30  && ch <= 0x39 \n  }\n\n  pp$8.regexp_eatHexDigits = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n    while (isHexDigit(ch = state.current())) {\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n    return state.pos !== start\n  };\n  function isHexDigit(ch) {\n    return (\n      (ch >= 0x30  && ch <= 0x39 ) ||\n      (ch >= 0x41  && ch <= 0x46 ) ||\n      (ch >= 0x61  && ch <= 0x66 )\n    )\n  }\n  function hexToInt(ch) {\n    if (ch >= 0x41  && ch <= 0x46 ) {\n      return 10 + (ch - 0x41 )\n    }\n    if (ch >= 0x61  && ch <= 0x66 ) {\n      return 10 + (ch - 0x61 )\n    }\n    return ch - 0x30 \n  }\n\n  pp$8.regexp_eatLegacyOctalEscapeSequence = function(state) {\n    if (this.regexp_eatOctalDigit(state)) {\n      var n1 = state.lastIntValue;\n      if (this.regexp_eatOctalDigit(state)) {\n        var n2 = state.lastIntValue;\n        if (n1 <= 3 && this.regexp_eatOctalDigit(state)) {\n          state.lastIntValue = n1 * 64 + n2 * 8 + state.lastIntValue;\n        } else {\n          state.lastIntValue = n1 * 8 + n2;\n        }\n      } else {\n        state.lastIntValue = n1;\n      }\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatOctalDigit = function(state) {\n    var ch = state.current();\n    if (isOctalDigit(ch)) {\n      state.lastIntValue = ch - 0x30; \n      state.advance();\n      return true\n    }\n    state.lastIntValue = 0;\n    return false\n  };\n  function isOctalDigit(ch) {\n    return ch >= 0x30  && ch <= 0x37 \n  }\n\n  pp$8.regexp_eatFixedHexDigits = function(state, length) {\n    var start = state.pos;\n    state.lastIntValue = 0;\n    for (var i = 0; i < length; ++i) {\n      var ch = state.current();\n      if (!isHexDigit(ch)) {\n        state.pos = start;\n        return false\n      }\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n    return true\n  };\n\n\n  var Token = function Token(p) {\n    this.type = p.type;\n    this.value = p.value;\n    this.start = p.start;\n    this.end = p.end;\n    if (p.options.locations)\n      { this.loc = new SourceLocation(p, p.startLoc, p.endLoc); }\n    if (p.options.ranges)\n      { this.range = [p.start, p.end]; }\n  };\n\n\n  var pp$9 = Parser.prototype;\n\n\n  pp$9.next = function(ignoreEscapeSequenceInKeyword) {\n    if (!ignoreEscapeSequenceInKeyword && this.type.keyword && this.containsEsc)\n      { this.raiseRecoverable(this.start, \"Escape sequence in keyword \" + this.type.keyword); }\n    if (this.options.onToken)\n      { this.options.onToken(new Token(this)); }\n\n    this.lastTokEnd = this.end;\n    this.lastTokStart = this.start;\n    this.lastTokEndLoc = this.endLoc;\n    this.lastTokStartLoc = this.startLoc;\n    this.nextToken();\n  };\n\n  pp$9.getToken = function() {\n    this.next();\n    return new Token(this)\n  };\n\n  if (typeof Symbol !== \"undefined\")\n    { pp$9[Symbol.iterator] = function() {\n      var this$1 = this;\n\n      return {\n        next: function () {\n          var token = this$1.getToken();\n          return {\n            done: token.type === types.eof,\n            value: token\n          }\n        }\n      }\n    }; }\n\n\n  pp$9.curContext = function() {\n    return this.context[this.context.length - 1]\n  };\n\n\n  pp$9.nextToken = function() {\n    var curContext = this.curContext();\n    if (!curContext || !curContext.preserveSpace) { this.skipSpace(); }\n\n    this.start = this.pos;\n    if (this.options.locations) { this.startLoc = this.curPosition(); }\n    if (this.pos >= this.input.length) { return this.finishToken(types.eof) }\n\n    if (curContext.override) { return curContext.override(this) }\n    else { this.readToken(this.fullCharCodeAtPos()); }\n  };\n\n  pp$9.readToken = function(code) {\n    if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92 )\n      { return this.readWord() }\n\n    return this.getTokenFromCode(code)\n  };\n\n  pp$9.fullCharCodeAtPos = function() {\n    var code = this.input.charCodeAt(this.pos);\n    if (code <= 0xd7ff || code >= 0xe000) { return code }\n    var next = this.input.charCodeAt(this.pos + 1);\n    return (code << 10) + next - 0x35fdc00\n  };\n\n  pp$9.skipBlockComment = function() {\n    var startLoc = this.options.onComment && this.curPosition();\n    var start = this.pos, end = this.input.indexOf(\"*/\", this.pos += 2);\n    if (end === -1) { this.raise(this.pos - 2, \"Unterminated comment\"); }\n    this.pos = end + 2;\n    if (this.options.locations) {\n      lineBreakG.lastIndex = start;\n      var match;\n      while ((match = lineBreakG.exec(this.input)) && match.index < this.pos) {\n        ++this.curLine;\n        this.lineStart = match.index + match[0].length;\n      }\n    }\n    if (this.options.onComment)\n      { this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos,\n                             startLoc, this.curPosition()); }\n  };\n\n  pp$9.skipLineComment = function(startSkip) {\n    var start = this.pos;\n    var startLoc = this.options.onComment && this.curPosition();\n    var ch = this.input.charCodeAt(this.pos += startSkip);\n    while (this.pos < this.input.length && !isNewLine(ch)) {\n      ch = this.input.charCodeAt(++this.pos);\n    }\n    if (this.options.onComment)\n      { this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos,\n                             startLoc, this.curPosition()); }\n  };\n\n\n  pp$9.skipSpace = function() {\n    loop: while (this.pos < this.input.length) {\n      var ch = this.input.charCodeAt(this.pos);\n      switch (ch) {\n      case 32: case 160: \n        ++this.pos;\n        break\n      case 13:\n        if (this.input.charCodeAt(this.pos + 1) === 10) {\n          ++this.pos;\n        }\n      case 10: case 8232: case 8233:\n        ++this.pos;\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n        break\n      case 47: \n        switch (this.input.charCodeAt(this.pos + 1)) {\n        case 42: \n          this.skipBlockComment();\n          break\n        case 47:\n          this.skipLineComment(2);\n          break\n        default:\n          break loop\n        }\n        break\n      default:\n        if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n          ++this.pos;\n        } else {\n          break loop\n        }\n      }\n    }\n  };\n\n\n  pp$9.finishToken = function(type, val) {\n    this.end = this.pos;\n    if (this.options.locations) { this.endLoc = this.curPosition(); }\n    var prevType = this.type;\n    this.type = type;\n    this.value = val;\n\n    this.updateContext(prevType);\n  };\n\n\n  pp$9.readToken_dot = function() {\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next >= 48 && next <= 57) { return this.readNumber(true) }\n    var next2 = this.input.charCodeAt(this.pos + 2);\n    if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) { \n      this.pos += 3;\n      return this.finishToken(types.ellipsis)\n    } else {\n      ++this.pos;\n      return this.finishToken(types.dot)\n    }\n  };\n\n  pp$9.readToken_slash = function() { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (this.exprAllowed) { ++this.pos; return this.readRegexp() }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.slash, 1)\n  };\n\n  pp$9.readToken_mult_modulo_exp = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    var tokentype = code === 42 ? types.star : types.modulo;\n\n    if (this.options.ecmaVersion >= 7 && code === 42 && next === 42) {\n      ++size;\n      tokentype = types.starstar;\n      next = this.input.charCodeAt(this.pos + 2);\n    }\n\n    if (next === 61) { return this.finishOp(types.assign, size + 1) }\n    return this.finishOp(tokentype, size)\n  };\n\n  pp$9.readToken_pipe_amp = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === code) { return this.finishOp(code === 124 ? types.logicalOR : types.logicalAND, 2) }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(code === 124 ? types.bitwiseOR : types.bitwiseAND, 1)\n  };\n\n  pp$9.readToken_caret = function() { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.bitwiseXOR, 1)\n  };\n\n  pp$9.readToken_plus_min = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === code) {\n      if (next === 45 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 62 &&\n          (this.lastTokEnd === 0 || lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)))) {\n        this.skipLineComment(3);\n        this.skipSpace();\n        return this.nextToken()\n      }\n      return this.finishOp(types.incDec, 2)\n    }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.plusMin, 1)\n  };\n\n  pp$9.readToken_lt_gt = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    if (next === code) {\n      size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2;\n      if (this.input.charCodeAt(this.pos + size) === 61) { return this.finishOp(types.assign, size + 1) }\n      return this.finishOp(types.bitShift, size)\n    }\n    if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 45 &&\n        this.input.charCodeAt(this.pos + 3) === 45) {\n      this.skipLineComment(4);\n      this.skipSpace();\n      return this.nextToken()\n    }\n    if (next === 61) { size = 2; }\n    return this.finishOp(types.relational, size)\n  };\n\n  pp$9.readToken_eq_excl = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 61) { return this.finishOp(types.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2) }\n    if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) { \n      this.pos += 2;\n      return this.finishToken(types.arrow)\n    }\n    return this.finishOp(code === 61 ? types.eq : types.prefix, 1)\n  };\n\n  pp$9.getTokenFromCode = function(code) {\n    switch (code) {\n    case 46: \n      return this.readToken_dot()\n\n    case 40: ++this.pos; return this.finishToken(types.parenL)\n    case 41: ++this.pos; return this.finishToken(types.parenR)\n    case 59: ++this.pos; return this.finishToken(types.semi)\n    case 44: ++this.pos; return this.finishToken(types.comma)\n    case 91: ++this.pos; return this.finishToken(types.bracketL)\n    case 93: ++this.pos; return this.finishToken(types.bracketR)\n    case 123: ++this.pos; return this.finishToken(types.braceL)\n    case 125: ++this.pos; return this.finishToken(types.braceR)\n    case 58: ++this.pos; return this.finishToken(types.colon)\n    case 63: ++this.pos; return this.finishToken(types.question)\n\n    case 96: \n      if (this.options.ecmaVersion < 6) { break }\n      ++this.pos;\n      return this.finishToken(types.backQuote)\n\n    case 48: \n      var next = this.input.charCodeAt(this.pos + 1);\n      if (next === 120 || next === 88) { return this.readRadixNumber(16) } \n      if (this.options.ecmaVersion >= 6) {\n        if (next === 111 || next === 79) { return this.readRadixNumber(8) } \n        if (next === 98 || next === 66) { return this.readRadixNumber(2) } \n      }\n\n    case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: \n      return this.readNumber(false)\n\n    case 34: case 39: \n      return this.readString(code)\n\n\n    case 47: \n      return this.readToken_slash()\n\n    case 37: case 42: \n      return this.readToken_mult_modulo_exp(code)\n\n    case 124: case 38: \n      return this.readToken_pipe_amp(code)\n\n    case 94: \n      return this.readToken_caret()\n\n    case 43: case 45: \n      return this.readToken_plus_min(code)\n\n    case 60: case 62: \n      return this.readToken_lt_gt(code)\n\n    case 61: case 33: \n      return this.readToken_eq_excl(code)\n\n    case 126: \n      return this.finishOp(types.prefix, 1)\n    }\n\n    this.raise(this.pos, \"Unexpected character '\" + codePointToString$1(code) + \"'\");\n  };\n\n  pp$9.finishOp = function(type, size) {\n    var str = this.input.slice(this.pos, this.pos + size);\n    this.pos += size;\n    return this.finishToken(type, str)\n  };\n\n  pp$9.readRegexp = function() {\n    var escaped, inClass, start = this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(start, \"Unterminated regular expression\"); }\n      var ch = this.input.charAt(this.pos);\n      if (lineBreak.test(ch)) { this.raise(start, \"Unterminated regular expression\"); }\n      if (!escaped) {\n        if (ch === \"[\") { inClass = true; }\n        else if (ch === \"]\" && inClass) { inClass = false; }\n        else if (ch === \"/\" && !inClass) { break }\n        escaped = ch === \"\\\\\";\n      } else { escaped = false; }\n      ++this.pos;\n    }\n    var pattern = this.input.slice(start, this.pos);\n    ++this.pos;\n    var flagsStart = this.pos;\n    var flags = this.readWord1();\n    if (this.containsEsc) { this.unexpected(flagsStart); }\n\n    var state = this.regexpState || (this.regexpState = new RegExpValidationState(this));\n    state.reset(start, pattern, flags);\n    this.validateRegExpFlags(state);\n    this.validateRegExpPattern(state);\n\n    var value = null;\n    try {\n      value = new RegExp(pattern, flags);\n    } catch (e) {\n    }\n\n    return this.finishToken(types.regexp, {pattern: pattern, flags: flags, value: value})\n  };\n\n\n  pp$9.readInt = function(radix, len) {\n    var start = this.pos, total = 0;\n    for (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n      var code = this.input.charCodeAt(this.pos), val = (void 0);\n      if (code >= 97) { val = code - 97 + 10; } \n      else if (code >= 65) { val = code - 65 + 10; } \n      else if (code >= 48 && code <= 57) { val = code - 48; } \n      else { val = Infinity; }\n      if (val >= radix) { break }\n      ++this.pos;\n      total = total * radix + val;\n    }\n    if (this.pos === start || len != null && this.pos - start !== len) { return null }\n\n    return total\n  };\n\n  pp$9.readRadixNumber = function(radix) {\n    var start = this.pos;\n    this.pos += 2; \n    var val = this.readInt(radix);\n    if (val == null) { this.raise(this.start + 2, \"Expected number in radix \" + radix); }\n    if (this.options.ecmaVersion >= 11 && this.input.charCodeAt(this.pos) === 110) {\n      val = typeof BigInt !== \"undefined\" ? BigInt(this.input.slice(start, this.pos)) : null;\n      ++this.pos;\n    } else if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n    return this.finishToken(types.num, val)\n  };\n\n\n  pp$9.readNumber = function(startsWithDot) {\n    var start = this.pos;\n    if (!startsWithDot && this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n    var octal = this.pos - start >= 2 && this.input.charCodeAt(start) === 48;\n    if (octal && this.strict) { this.raise(start, \"Invalid number\"); }\n    var next = this.input.charCodeAt(this.pos);\n    if (!octal && !startsWithDot && this.options.ecmaVersion >= 11 && next === 110) {\n      var str$1 = this.input.slice(start, this.pos);\n      var val$1 = typeof BigInt !== \"undefined\" ? BigInt(str$1) : null;\n      ++this.pos;\n      if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n      return this.finishToken(types.num, val$1)\n    }\n    if (octal && /[89]/.test(this.input.slice(start, this.pos))) { octal = false; }\n    if (next === 46 && !octal) { \n      ++this.pos;\n      this.readInt(10);\n      next = this.input.charCodeAt(this.pos);\n    }\n    if ((next === 69 || next === 101) && !octal) { \n      next = this.input.charCodeAt(++this.pos);\n      if (next === 43 || next === 45) { ++this.pos; } \n      if (this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n    }\n    if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n\n    var str = this.input.slice(start, this.pos);\n    var val = octal ? parseInt(str, 8) : parseFloat(str);\n    return this.finishToken(types.num, val)\n  };\n\n\n  pp$9.readCodePoint = function() {\n    var ch = this.input.charCodeAt(this.pos), code;\n\n    if (ch === 123) { \n      if (this.options.ecmaVersion < 6) { this.unexpected(); }\n      var codePos = ++this.pos;\n      code = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos);\n      ++this.pos;\n      if (code > 0x10FFFF) { this.invalidStringToken(codePos, \"Code point out of bounds\"); }\n    } else {\n      code = this.readHexChar(4);\n    }\n    return code\n  };\n\n  function codePointToString$1(code) {\n    if (code <= 0xFFFF) { return String.fromCharCode(code) }\n    code -= 0x10000;\n    return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00)\n  }\n\n  pp$9.readString = function(quote) {\n    var out = \"\", chunkStart = ++this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated string constant\"); }\n      var ch = this.input.charCodeAt(this.pos);\n      if (ch === quote) { break }\n      if (ch === 92) { \n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(false);\n        chunkStart = this.pos;\n      } else {\n        if (isNewLine(ch, this.options.ecmaVersion >= 10)) { this.raise(this.start, \"Unterminated string constant\"); }\n        ++this.pos;\n      }\n    }\n    out += this.input.slice(chunkStart, this.pos++);\n    return this.finishToken(types.string, out)\n  };\n\n\n  var INVALID_TEMPLATE_ESCAPE_ERROR = {};\n\n  pp$9.tryReadTemplateToken = function() {\n    this.inTemplateElement = true;\n    try {\n      this.readTmplToken();\n    } catch (err) {\n      if (err === INVALID_TEMPLATE_ESCAPE_ERROR) {\n        this.readInvalidTemplateToken();\n      } else {\n        throw err\n      }\n    }\n\n    this.inTemplateElement = false;\n  };\n\n  pp$9.invalidStringToken = function(position, message) {\n    if (this.inTemplateElement && this.options.ecmaVersion >= 9) {\n      throw INVALID_TEMPLATE_ESCAPE_ERROR\n    } else {\n      this.raise(position, message);\n    }\n  };\n\n  pp$9.readTmplToken = function() {\n    var out = \"\", chunkStart = this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated template\"); }\n      var ch = this.input.charCodeAt(this.pos);\n      if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) { \n        if (this.pos === this.start && (this.type === types.template || this.type === types.invalidTemplate)) {\n          if (ch === 36) {\n            this.pos += 2;\n            return this.finishToken(types.dollarBraceL)\n          } else {\n            ++this.pos;\n            return this.finishToken(types.backQuote)\n          }\n        }\n        out += this.input.slice(chunkStart, this.pos);\n        return this.finishToken(types.template, out)\n      }\n      if (ch === 92) { \n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(true);\n        chunkStart = this.pos;\n      } else if (isNewLine(ch)) {\n        out += this.input.slice(chunkStart, this.pos);\n        ++this.pos;\n        switch (ch) {\n        case 13:\n          if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; }\n        case 10:\n          out += \"\\n\";\n          break\n        default:\n          out += String.fromCharCode(ch);\n          break\n        }\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n        chunkStart = this.pos;\n      } else {\n        ++this.pos;\n      }\n    }\n  };\n\n  pp$9.readInvalidTemplateToken = function() {\n    for (; this.pos < this.input.length; this.pos++) {\n      switch (this.input[this.pos]) {\n      case \"\\\\\":\n        ++this.pos;\n        break\n\n      case \"$\":\n        if (this.input[this.pos + 1] !== \"{\") {\n          break\n        }\n\n      case \"`\":\n        return this.finishToken(types.invalidTemplate, this.input.slice(this.start, this.pos))\n\n      }\n    }\n    this.raise(this.start, \"Unterminated template\");\n  };\n\n\n  pp$9.readEscapedChar = function(inTemplate) {\n    var ch = this.input.charCodeAt(++this.pos);\n    ++this.pos;\n    switch (ch) {\n    case 110: return \"\\n\" \n    case 114: return \"\\r\" \n    case 120: return String.fromCharCode(this.readHexChar(2)) \n    case 117: return codePointToString$1(this.readCodePoint()) \n    case 116: return \"\\t\" \n    case 98: return \"\\b\" \n    case 118: return \"\\u000b\" \n    case 102: return \"\\f\" \n    case 13: if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; } \n    case 10: \n      if (this.options.locations) { this.lineStart = this.pos; ++this.curLine; }\n      return \"\"\n    case 56:\n    case 57:\n      if (inTemplate) {\n        var codePos = this.pos - 1;\n\n        this.invalidStringToken(\n          codePos,\n          \"Invalid escape sequence in template string\"\n        );\n\n        return null\n      }\n    default:\n      if (ch >= 48 && ch <= 55) {\n        var octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0];\n        var octal = parseInt(octalStr, 8);\n        if (octal > 255) {\n          octalStr = octalStr.slice(0, -1);\n          octal = parseInt(octalStr, 8);\n        }\n        this.pos += octalStr.length - 1;\n        ch = this.input.charCodeAt(this.pos);\n        if ((octalStr !== \"0\" || ch === 56 || ch === 57) && (this.strict || inTemplate)) {\n          this.invalidStringToken(\n            this.pos - 1 - octalStr.length,\n            inTemplate\n              ? \"Octal literal in template string\"\n              : \"Octal literal in strict mode\"\n          );\n        }\n        return String.fromCharCode(octal)\n      }\n      if (isNewLine(ch)) {\n        return \"\"\n      }\n      return String.fromCharCode(ch)\n    }\n  };\n\n\n  pp$9.readHexChar = function(len) {\n    var codePos = this.pos;\n    var n = this.readInt(16, len);\n    if (n === null) { this.invalidStringToken(codePos, \"Bad character escape sequence\"); }\n    return n\n  };\n\n\n  pp$9.readWord1 = function() {\n    this.containsEsc = false;\n    var word = \"\", first = true, chunkStart = this.pos;\n    var astral = this.options.ecmaVersion >= 6;\n    while (this.pos < this.input.length) {\n      var ch = this.fullCharCodeAtPos();\n      if (isIdentifierChar(ch, astral)) {\n        this.pos += ch <= 0xffff ? 1 : 2;\n      } else if (ch === 92) { \n        this.containsEsc = true;\n        word += this.input.slice(chunkStart, this.pos);\n        var escStart = this.pos;\n        if (this.input.charCodeAt(++this.pos) !== 117) \n          { this.invalidStringToken(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"); }\n        ++this.pos;\n        var esc = this.readCodePoint();\n        if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral))\n          { this.invalidStringToken(escStart, \"Invalid Unicode escape\"); }\n        word += codePointToString$1(esc);\n        chunkStart = this.pos;\n      } else {\n        break\n      }\n      first = false;\n    }\n    return word + this.input.slice(chunkStart, this.pos)\n  };\n\n\n  pp$9.readWord = function() {\n    var word = this.readWord1();\n    var type = types.name;\n    if (this.keywords.test(word)) {\n      type = keywords$1[word];\n    }\n    return this.finishToken(type, word)\n  };\n\n\n  var version = \"7.1.0\";\n\n  Parser.acorn = {\n    Parser: Parser,\n    version: version,\n    defaultOptions: defaultOptions,\n    Position: Position,\n    SourceLocation: SourceLocation,\n    getLineInfo: getLineInfo,\n    Node: Node,\n    TokenType: TokenType,\n    tokTypes: types,\n    keywordTypes: keywords$1,\n    TokContext: TokContext,\n    tokContexts: types$1,\n    isIdentifierChar: isIdentifierChar,\n    isIdentifierStart: isIdentifierStart,\n    Token: Token,\n    isNewLine: isNewLine,\n    lineBreak: lineBreak,\n    lineBreakG: lineBreakG,\n    nonASCIIwhitespace: nonASCIIwhitespace\n  };\n\n\n  function parse(input, options) {\n    return Parser.parse(input, options)\n  }\n\n\n  function parseExpressionAt(input, pos, options) {\n    return Parser.parseExpressionAt(input, pos, options)\n  }\n\n\n  function tokenizer(input, options) {\n    return Parser.tokenizer(input, options)\n  }\n\n  exports.Node = Node;\n  exports.Parser = Parser;\n  exports.Position = Position;\n  exports.SourceLocation = SourceLocation;\n  exports.TokContext = TokContext;\n  exports.Token = Token;\n  exports.TokenType = TokenType;\n  exports.defaultOptions = defaultOptions;\n  exports.getLineInfo = getLineInfo;\n  exports.isIdentifierChar = isIdentifierChar;\n  exports.isIdentifierStart = isIdentifierStart;\n  exports.isNewLine = isNewLine;\n  exports.keywordTypes = keywords$1;\n  exports.lineBreak = lineBreak;\n  exports.lineBreakG = lineBreakG;\n  exports.nonASCIIwhitespace = nonASCIIwhitespace;\n  exports.parse = parse;\n  exports.parseExpressionAt = parseExpressionAt;\n  exports.tokContexts = types$1;\n  exports.tokTypes = types;\n  exports.tokenizer = tokenizer;\n  exports.version = version;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n\n},{}],2:[function(require,module,exports){\n\n},{}],3:[function(require,module,exports){\nfunction glWiretap(gl, options = {}) {\n  const {\n    contextName = 'gl',\n    throwGetError,\n    useTrackablePrimitives,\n    readPixelsFile,\n    recording = [],\n    variables = {},\n    onReadPixels,\n    onUnrecognizedArgumentLookup,\n  } = options;\n  const proxy = new Proxy(gl, { get: listen });\n  const contextVariables = [];\n  const entityNames = {};\n  let imageCount = 0;\n  let indent = '';\n  let readPixelsVariableName;\n  return proxy;\n  function listen(obj, property) {\n    switch (property) {\n      case 'addComment': return addComment;\n      case 'checkThrowError': return checkThrowError;\n      case 'getReadPixelsVariableName': return readPixelsVariableName;\n      case 'insertVariable': return insertVariable;\n      case 'reset': return reset;\n      case 'setIndent': return setIndent;\n      case 'toString': return toString;\n      case 'getContextVariableName': return getContextVariableName;\n    }\n    if (typeof gl[property] === 'function') {\n      return function() { \n        switch (property) {\n          case 'getError':\n            if (throwGetError) {\n              recording.push(`${indent}if (${contextName}.getError() !== ${contextName}.NONE) throw new Error('error');`);\n            } else {\n              recording.push(`${indent}${contextName}.getError();`); \n            }\n            return gl.getError();\n          case 'getExtension': {\n            const variableName = `${contextName}Variables${contextVariables.length}`;\n            recording.push(`${indent}const ${variableName} = ${contextName}.getExtension('${arguments[0]}');`);\n            const extension = gl.getExtension(arguments[0]);\n            if (extension && typeof extension === 'object') {\n              const tappedExtension = glExtensionWiretap(extension, {\n                getEntity,\n                useTrackablePrimitives,\n                recording,\n                contextName: variableName,\n                contextVariables,\n                variables,\n                indent,\n                onUnrecognizedArgumentLookup,\n              });\n              contextVariables.push(tappedExtension);\n              return tappedExtension;\n            } else {\n              contextVariables.push(null);\n            }\n            return extension;\n          }\n          case 'readPixels':\n            const i = contextVariables.indexOf(arguments[6]);\n            let targetVariableName;\n            if (i === -1) {\n              const variableName = getVariableName(arguments[6]);\n              if (variableName) {\n                targetVariableName = variableName;\n                recording.push(`${indent}${variableName}`);\n              } else {\n                targetVariableName = `${contextName}Variable${contextVariables.length}`;\n                contextVariables.push(arguments[6]);\n                recording.push(`${indent}const ${targetVariableName} = new ${arguments[6].constructor.name}(${arguments[6].length});`);\n              }\n            } else {\n              targetVariableName = `${contextName}Variable${i}`;\n            }\n            readPixelsVariableName = targetVariableName;\n            const argumentAsStrings = [\n              arguments[0],\n              arguments[1],\n              arguments[2],\n              arguments[3],\n              getEntity(arguments[4]),\n              getEntity(arguments[5]),\n              targetVariableName\n            ];\n            recording.push(`${indent}${contextName}.readPixels(${argumentAsStrings.join(', ')});`);\n            if (readPixelsFile) {\n              writePPM(arguments[2], arguments[3]);\n            }\n            if (onReadPixels) {\n              onReadPixels(targetVariableName, argumentAsStrings);\n            }\n            return gl.readPixels.apply(gl, arguments);\n          case 'drawBuffers':\n            recording.push(`${indent}${contextName}.drawBuffers([${argumentsToString(arguments[0], { contextName, contextVariables, getEntity, addVariable, variables, onUnrecognizedArgumentLookup } )}]);`);\n            return gl.drawBuffers(arguments[0]);\n        }\n        let result = gl[property].apply(gl, arguments);\n        switch (typeof result) {\n          case 'undefined':\n            recording.push(`${indent}${methodCallToString(property, arguments)};`);\n            return;\n          case 'number':\n          case 'boolean':\n            if (useTrackablePrimitives && contextVariables.indexOf(trackablePrimitive(result)) === -1) {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result = trackablePrimitive(result));\n              break;\n            }\n          default:\n            if (result === null) {\n              recording.push(`${methodCallToString(property, arguments)};`);\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n            }\n\n            contextVariables.push(result);\n        }\n        return result;\n      }\n    }\n    entityNames[gl[property]] = property;\n    return gl[property];\n  }\n  function toString() {\n    return recording.join('\\n');\n  }\n  function reset() {\n    while (recording.length > 0) {\n      recording.pop();\n    }\n  }\n  function insertVariable(name, value) {\n    variables[name] = value;\n  }\n  function getEntity(value) {\n    const name = entityNames[value];\n    if (name) {\n      return contextName + '.' + name;\n    }\n    return value;\n  }\n  function setIndent(spaces) {\n    indent = ' '.repeat(spaces);\n  }\n  function addVariable(value, source) {\n    const variableName = `${contextName}Variable${contextVariables.length}`;\n    recording.push(`${indent}const ${variableName} = ${source};`);\n    contextVariables.push(value);\n    return variableName;\n  }\n  function writePPM(width, height) {\n    const sourceVariable = `${contextName}Variable${contextVariables.length}`;\n    const imageVariable = `imageDatum${imageCount}`;\n    recording.push(`${indent}let ${imageVariable} = [\"P3\\\\n# ${readPixelsFile}.ppm\\\\n\", ${width}, ' ', ${height}, \"\\\\n255\\\\n\"].join(\"\");`);\n    recording.push(`${indent}for (let i = 0; i < ${imageVariable}.length; i += 4) {`);\n    recording.push(`${indent}  ${imageVariable} += ${sourceVariable}[i] + ' ' + ${sourceVariable}[i + 1] + ' ' + ${sourceVariable}[i + 2] + ' ';`);\n    recording.push(`${indent}}`);\n    recording.push(`${indent}if (typeof require !== \"undefined\") {`);\n    recording.push(`${indent}  require('fs').writeFileSync('./${readPixelsFile}.ppm', ${imageVariable});`);\n    recording.push(`${indent}}`);\n    imageCount++;\n  }\n  function addComment(value) {\n    recording.push(`${indent}// ${value}`);\n  }\n  function checkThrowError() {\n    recording.push(`${indent}(() => {\n${indent}const error = ${contextName}.getError();\n${indent}if (error !== ${contextName}.NONE) {\n${indent}  const names = Object.getOwnPropertyNames(gl);\n${indent}  for (let i = 0; i < names.length; i++) {\n${indent}    const name = names[i];\n${indent}    if (${contextName}[name] === error) {\n${indent}      throw new Error('${contextName} threw ' + name);\n${indent}    }\n${indent}  }\n${indent}}\n${indent}})();`);\n  }\n  function methodCallToString(method, args) {\n    return `${contextName}.${method}(${argumentsToString(args, { contextName, contextVariables, getEntity, addVariable, variables, onUnrecognizedArgumentLookup })})`;\n  }\n\n  function getVariableName(value) {\n    if (variables) {\n      for (const name in variables) {\n        if (variables[name] === value) {\n          return name;\n        }\n      }\n    }\n    return null;\n  }\n\n  function getContextVariableName(value) {\n    const i = contextVariables.indexOf(value);\n    if (i !== -1) {\n      return `${contextName}Variable${i}`;\n    }\n    return null;\n  }\n}\n\nfunction glExtensionWiretap(extension, options) {\n  const proxy = new Proxy(extension, { get: listen });\n  const extensionEntityNames = {};\n  const {\n    contextName,\n    contextVariables,\n    getEntity,\n    useTrackablePrimitives,\n    recording,\n    variables,\n    indent,\n    onUnrecognizedArgumentLookup,\n  } = options;\n  return proxy;\n  function listen(obj, property) {\n    if (typeof obj[property] === 'function') {\n      return function() {\n        switch (property) {\n          case 'drawBuffersWEBGL':\n            recording.push(`${indent}${contextName}.drawBuffersWEBGL([${argumentsToString(arguments[0], { contextName, contextVariables, getEntity: getExtensionEntity, addVariable, variables, onUnrecognizedArgumentLookup })}]);`);\n            return extension.drawBuffersWEBGL(arguments[0]);\n        }\n        let result = extension[property].apply(extension, arguments);\n        switch (typeof result) {\n          case 'undefined':\n            recording.push(`${indent}${methodCallToString(property, arguments)};`);\n            return;\n          case 'number':\n          case 'boolean':\n            if (useTrackablePrimitives && contextVariables.indexOf(trackablePrimitive(result)) === -1) {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result = trackablePrimitive(result));\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result);\n            }\n            break;\n          default:\n            if (result === null) {\n              recording.push(`${methodCallToString(property, arguments)};`);\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n            }\n            contextVariables.push(result);\n        }\n        return result;\n      };\n    }\n    extensionEntityNames[extension[property]] = property;\n    return extension[property];\n  }\n\n  function getExtensionEntity(value) {\n    if (extensionEntityNames.hasOwnProperty(value)) {\n      return `${contextName}.${extensionEntityNames[value]}`;\n    }\n    return getEntity(value);\n  }\n\n  function methodCallToString(method, args) {\n    return `${contextName}.${method}(${argumentsToString(args, { contextName, contextVariables, getEntity: getExtensionEntity, addVariable, variables, onUnrecognizedArgumentLookup })})`;\n  }\n\n  function addVariable(value, source) {\n    const variableName = `${contextName}Variable${contextVariables.length}`;\n    contextVariables.push(value);\n    recording.push(`${indent}const ${variableName} = ${source};`);\n    return variableName;\n  }\n}\n\nfunction argumentsToString(args, options) {\n  const { variables, onUnrecognizedArgumentLookup } = options;\n  return (Array.from(args).map((arg) => {\n    const variableName = getVariableName(arg);\n    if (variableName) {\n      return variableName;\n    }\n    return argumentToString(arg, options);\n  }).join(', '));\n\n  function getVariableName(value) {\n    if (variables) {\n      for (const name in variables) {\n        if (!variables.hasOwnProperty(name)) continue;\n        if (variables[name] === value) {\n          return name;\n        }\n      }\n    }\n    if (onUnrecognizedArgumentLookup) {\n      return onUnrecognizedArgumentLookup(value);\n    }\n    return null;\n  }\n}\n\nfunction argumentToString(arg, options) {\n  const { contextName, contextVariables, getEntity, addVariable, onUnrecognizedArgumentLookup } = options;\n  if (typeof arg === 'undefined') {\n    return 'undefined';\n  }\n  if (arg === null) {\n    return 'null';\n  }\n  const i = contextVariables.indexOf(arg);\n  if (i > -1) {\n    return `${contextName}Variable${i}`;\n  }\n  switch (arg.constructor.name) {\n    case 'String':\n      const hasLines = /\\n/.test(arg);\n      const hasSingleQuotes = /'/.test(arg);\n      const hasDoubleQuotes = /\"/.test(arg);\n      if (hasLines) {\n        return '`' + arg + '`';\n      } else if (hasSingleQuotes && !hasDoubleQuotes) {\n        return '\"' + arg + '\"';\n      } else if (!hasSingleQuotes && hasDoubleQuotes) {\n        return \"'\" + arg + \"'\";\n      } else {\n        return '\\'' + arg + '\\'';\n      }\n    case 'Number': return getEntity(arg);\n    case 'Boolean': return getEntity(arg);\n    case 'Array':\n      return addVariable(arg, `new ${arg.constructor.name}([${Array.from(arg).join(',')}])`);\n    case 'Float32Array':\n    case 'Uint8Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n      return addVariable(arg, `new ${arg.constructor.name}(${JSON.stringify(Array.from(arg))})`);\n    default:\n      if (onUnrecognizedArgumentLookup) {\n        const instantiationString = onUnrecognizedArgumentLookup(arg);\n        if (instantiationString) {\n          return instantiationString;\n        }\n      }\n      throw new Error(`unrecognized argument type ${arg.constructor.name}`);\n  }\n}\n\nfunction trackablePrimitive(value) {\n  return new value.constructor(value);\n}\n\nif (typeof module !== 'undefined') {\n  module.exports = { glWiretap, glExtensionWiretap };\n}\n\nif (typeof window !== 'undefined') {\n  glWiretap.glExtensionWiretap = glExtensionWiretap;\n  window.glWiretap = glWiretap;\n}\n\n},{}],4:[function(require,module,exports){\nfunction setupArguments(args) {\n  const newArguments = new Array(args.length);\n  for (let i = 0; i < args.length; i++) {\n    const arg = args[i];\n    if (arg.toArray) {\n      newArguments[i] = arg.toArray();\n    } else {\n      newArguments[i] = arg;\n    }\n  }\n  return newArguments;\n}\n\nfunction mock1D() {\n  const args = setupArguments(arguments);\n  const row = new Float32Array(this.output.x);\n  for (let x = 0; x < this.output.x; x++) {\n    this.thread.x = x;\n    this.thread.y = 0;\n    this.thread.z = 0;\n    row[x] = this._fn.apply(this, args);\n  }\n  return row;\n}\n\nfunction mock2D() {\n  const args = setupArguments(arguments);\n  const matrix = new Array(this.output.y);\n  for (let y = 0; y < this.output.y; y++) {\n    const row = new Float32Array(this.output.x);\n    for (let x = 0; x < this.output.x; x++) {\n      this.thread.x = x;\n      this.thread.y = y;\n      this.thread.z = 0;\n      row[x] = this._fn.apply(this, args);\n    }\n    matrix[y] = row;\n  }\n  return matrix;\n}\n\nfunction mock2DGraphical() {\n  const args = setupArguments(arguments);\n  for (let y = 0; y < this.output.y; y++) {\n    for (let x = 0; x < this.output.x; x++) {\n      this.thread.x = x;\n      this.thread.y = y;\n      this.thread.z = 0;\n      this._fn.apply(this, args);\n    }\n  }\n}\n\nfunction mock3D() {\n  const args = setupArguments(arguments);\n  const cube = new Array(this.output.z);\n  for (let z = 0; z < this.output.z; z++) {\n    const matrix = new Array(this.output.y);\n    for (let y = 0; y < this.output.y; y++) {\n      const row = new Float32Array(this.output.x);\n      for (let x = 0; x < this.output.x; x++) {\n        this.thread.x = x;\n        this.thread.y = y;\n        this.thread.z = z;\n        row[x] = this._fn.apply(this, args);\n      }\n      matrix[y] = row;\n    }\n    cube[z] = matrix;\n  }\n  return cube;\n}\n\nfunction apiDecorate(kernel) {\n  kernel.setOutput = (output) => {\n    kernel.output = setupOutput(output);\n    if (kernel.graphical) {\n      setupGraphical(kernel);\n    }\n  };\n  kernel.toJSON = () => {\n    throw new Error('Not usable with gpuMock');\n  };\n  kernel.setConstants = (flag) => {\n    kernel.constants = flag;\n    return kernel;\n  };\n  kernel.setGraphical = (flag) => {\n    kernel.graphical = flag;\n    return kernel;\n  };\n  kernel.setCanvas = (flag) => {\n    kernel.canvas = flag;\n    return kernel;\n  };\n  kernel.setContext = (flag) => {\n    kernel.context = flag;\n    return kernel;\n  };\n  kernel.destroy = () => {};\n  kernel.validateSettings = () => {};\n  if (kernel.graphical && kernel.output) {\n    setupGraphical(kernel);\n  }\n  kernel.exec = function() {\n    return new Promise((resolve, reject) => {\n      try {\n        resolve(kernel.apply(kernel, arguments));\n      } catch(e) {\n        reject(e);\n      }\n    });\n  };\n  kernel.getPixels = (flip) => {\n    const {x, y} = kernel.output;\n    return flip ? flipPixels(kernel._imageData.data, x, y) : kernel._imageData.data.slice(0);\n  };\n  kernel.color = function(r, g, b, a) {\n    if (typeof a === 'undefined') {\n      a = 1;\n    }\n\n    r = Math.floor(r * 255);\n    g = Math.floor(g * 255);\n    b = Math.floor(b * 255);\n    a = Math.floor(a * 255);\n\n    const width = kernel.output.x;\n    const height = kernel.output.y;\n\n    const x = kernel.thread.x;\n    const y = height - kernel.thread.y - 1;\n\n    const index = x + y * width;\n\n    kernel._colorData[index * 4 + 0] = r;\n    kernel._colorData[index * 4 + 1] = g;\n    kernel._colorData[index * 4 + 2] = b;\n    kernel._colorData[index * 4 + 3] = a;\n  };\n\n  const mockMethod = () => kernel;\n  const methods = [\n    'setWarnVarUsage',\n    'setArgumentTypes',\n    'setTactic',\n    'setOptimizeFloatMemory',\n    'setDebug',\n    'setLoopMaxIterations',\n    'setConstantTypes',\n    'setFunctions',\n    'setNativeFunctions',\n    'setInjectedNative',\n    'setPipeline',\n    'setPrecision',\n    'setOutputToTexture',\n    'setImmutable',\n    'setStrictIntegers',\n    'setDynamicOutput',\n    'setHardcodeConstants',\n    'setDynamicArguments',\n    'setUseLegacyEncoder',\n    'setWarnVarUsage',\n    'addSubKernel',\n  ];\n  for (let i = 0; i < methods.length; i++) {\n    kernel[methods[i]] = mockMethod;\n  }\n  return kernel;\n}\n\nfunction setupGraphical(kernel) {\n  const {x, y} = kernel.output;\n  if (kernel.context && kernel.context.createImageData) {\n    const data = new Uint8ClampedArray(x * y * 4);\n    kernel._imageData = kernel.context.createImageData(x, y);\n    kernel._colorData = data;\n  } else {\n    const data = new Uint8ClampedArray(x * y * 4);\n    kernel._imageData = { data };\n    kernel._colorData = data;\n  }\n}\n\nfunction setupOutput(output) {\n  let result = null;\n  if (output.length) {\n    if (output.length === 3) {\n      const [x,y,z] = output;\n      result = { x, y, z };\n    } else if (output.length === 2) {\n      const [x,y] = output;\n      result = { x, y };\n    } else {\n      const [x] = output;\n      result = { x };\n    }\n  } else {\n    result = output;\n  }\n  return result;\n}\n\nfunction gpuMock(fn, settings = {}) {\n  const output = settings.output ? setupOutput(settings.output) : null;\n  function kernel() {\n    if (kernel.output.z) {\n      return mock3D.apply(kernel, arguments);\n    } else if (kernel.output.y) {\n      if (kernel.graphical) {\n        return mock2DGraphical.apply(kernel, arguments);\n      }\n      return mock2D.apply(kernel, arguments);\n    } else {\n      return mock1D.apply(kernel, arguments);\n    }\n  }\n  kernel._fn = fn;\n  kernel.constants = settings.constants || null;\n  kernel.context = settings.context || null;\n  kernel.canvas = settings.canvas || null;\n  kernel.graphical = settings.graphical || false;\n  kernel._imageData = null;\n  kernel._colorData = null;\n  kernel.output = output;\n  kernel.thread = {\n    x: 0,\n    y: 0,\n    z: 0\n  };\n  return apiDecorate(kernel);\n}\n\nfunction flipPixels(pixels, width, height) {\n  const halfHeight = height / 2 | 0; \n  const bytesPerRow = width * 4;\n  const temp = new Uint8ClampedArray(width * 4);\n  const result = pixels.slice(0);\n  for (let y = 0; y < halfHeight; ++y) {\n    const topOffset = y * bytesPerRow;\n    const bottomOffset = (height - y - 1) * bytesPerRow;\n\n    temp.set(result.subarray(topOffset, topOffset + bytesPerRow));\n\n    result.copyWithin(topOffset, bottomOffset, bottomOffset + bytesPerRow);\n\n    result.set(temp, bottomOffset);\n  }\n  return result;\n}\n\nmodule.exports = {\n  gpuMock\n};\n\n},{}],5:[function(require,module,exports){\nconst { utils } = require('./utils');\n\nfunction alias(name, source) {\n  const fnString = source.toString();\n  return new Function(`return function ${ name } (${ utils.getArgumentNamesFromString(fnString).join(', ') }) {\n  ${ utils.getFunctionBodyFromString(fnString) }\n}`)();\n}\n\nmodule.exports = {\n  alias\n};\n},{\"./utils\":114}],6:[function(require,module,exports){\nconst { FunctionNode } = require('../function-node');\n\nclass CPUFunctionNode extends FunctionNode {\n  astFunction(ast, retArr) {\n\n    if (!this.isRootKernel) {\n      retArr.push('function');\n      retArr.push(' ');\n      retArr.push(this.name);\n      retArr.push('(');\n\n      for (let i = 0; i < this.argumentNames.length; ++i) {\n        const argumentName = this.argumentNames[i];\n\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        retArr.push('user_');\n        retArr.push(argumentName);\n      }\n\n      retArr.push(') {\\n');\n    }\n\n    for (let i = 0; i < ast.body.body.length; ++i) {\n      this.astGeneric(ast.body.body[i], retArr);\n      retArr.push('\\n');\n    }\n\n    if (!this.isRootKernel) {\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astReturnStatement(ast, retArr) {\n    const type = this.returnType || this.getType(ast.argument);\n\n    if (!this.returnType) {\n      this.returnType = type;\n    }\n\n    if (this.isRootKernel) {\n      retArr.push(this.leadingReturnStatement);\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';\\n');\n      retArr.push(this.followingReturnStatement);\n      retArr.push('continue;\\n');\n    } else if (this.isSubKernel) {\n      retArr.push(`subKernelResult_${ this.name } = `);\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';');\n      retArr.push(`return subKernelResult_${ this.name };`);\n    } else {\n      retArr.push('return ');\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';');\n    }\n    return retArr;\n  }\n\n  astLiteral(ast, retArr) {\n\n    if (isNaN(ast.value)) {\n      throw this.astErrorOutput(\n        'Non-numeric literal not supported : ' + ast.value,\n        ast\n      );\n    }\n\n    retArr.push(ast.value);\n\n    return retArr;\n  }\n\n  astBinaryExpression(ast, retArr) {\n    retArr.push('(');\n    this.astGeneric(ast.left, retArr);\n    retArr.push(ast.operator);\n    this.astGeneric(ast.right, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput(\n        'IdentifierExpression - not an Identifier',\n        idtNode\n      );\n    }\n\n    switch (idtNode.name) {\n      case 'Infinity':\n        retArr.push('Infinity');\n        break;\n      default:\n        if (this.constants && this.constants.hasOwnProperty(idtNode.name)) {\n          retArr.push('constants_' + idtNode.name);\n        } else {\n          retArr.push('user_' + idtNode.name);\n        }\n    }\n\n    return retArr;\n  }\n\n  astForStatement(forNode, retArr) {\n    if (forNode.type !== 'ForStatement') {\n      throw this.astErrorOutput('Invalid for statement', forNode);\n    }\n\n    const initArr = [];\n    const testArr = [];\n    const updateArr = [];\n    const bodyArr = [];\n    let isSafe = null;\n\n    if (forNode.init) {\n      this.pushState('in-for-loop-init');\n      this.astGeneric(forNode.init, initArr);\n      for (let i = 0; i < initArr.length; i++) {\n        if (initArr[i].includes && initArr[i].includes(',')) {\n          isSafe = false;\n        }\n      }\n      this.popState('in-for-loop-init');\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.test) {\n      this.astGeneric(forNode.test, testArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.update) {\n      this.astGeneric(forNode.update, updateArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.body) {\n      this.pushState('loop-body');\n      this.astGeneric(forNode.body, bodyArr);\n      this.popState('loop-body');\n    }\n\n    if (isSafe === null) {\n      isSafe = this.isSafe(forNode.init) && this.isSafe(forNode.test);\n    }\n\n    if (isSafe) {\n      retArr.push(`for (${initArr.join('')};${testArr.join('')};${updateArr.join('')}){\\n`);\n      retArr.push(bodyArr.join(''));\n      retArr.push('}\\n');\n    } else {\n      const iVariableName = this.getInternalVariableName('safeI');\n      if (initArr.length > 0) {\n        retArr.push(initArr.join(''), ';\\n');\n      }\n      retArr.push(`for (let ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n      if (testArr.length > 0) {\n        retArr.push(`if (!${testArr.join('')}) break;\\n`);\n      }\n      retArr.push(bodyArr.join(''));\n      retArr.push(`\\n${updateArr.join('')};`);\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astWhileStatement(whileNode, retArr) {\n    if (whileNode.type !== 'WhileStatement') {\n      throw this.astErrorOutput(\n        'Invalid while statement',\n        whileNode\n      );\n    }\n\n    retArr.push('for (let i = 0; i < LOOP_MAX; i++) {');\n    retArr.push('if (');\n    this.astGeneric(whileNode.test, retArr);\n    retArr.push(') {\\n');\n    this.astGeneric(whileNode.body, retArr);\n    retArr.push('} else {\\n');\n    retArr.push('break;\\n');\n    retArr.push('}\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n  astDoWhileStatement(doWhileNode, retArr) {\n    if (doWhileNode.type !== 'DoWhileStatement') {\n      throw this.astErrorOutput(\n        'Invalid while statement',\n        doWhileNode\n      );\n    }\n\n    retArr.push('for (let i = 0; i < LOOP_MAX; i++) {');\n    this.astGeneric(doWhileNode.body, retArr);\n    retArr.push('if (!');\n    this.astGeneric(doWhileNode.test, retArr);\n    retArr.push(') {\\n');\n    retArr.push('break;\\n');\n    retArr.push('}\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n\n  }\n\n  astAssignmentExpression(assNode, retArr) {\n    const declaration = this.getDeclaration(assNode.left);\n    if (declaration && !declaration.assignable) {\n      throw this.astErrorOutput(`Variable ${assNode.left.name} is not assignable here`, assNode);\n    }\n    this.astGeneric(assNode.left, retArr);\n    retArr.push(assNode.operator);\n    this.astGeneric(assNode.right, retArr);\n    return retArr;\n  }\n\n  astBlockStatement(bNode, retArr) {\n    if (this.isState('loop-body')) {\n      this.pushState('block-body'); \n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      this.popState('block-body');\n    } else {\n      retArr.push('{\\n');\n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astVariableDeclaration(varDecNode, retArr) {\n    retArr.push(`${varDecNode.kind} `);\n    const { declarations } = varDecNode;\n    for (let i = 0; i < declarations.length; i++) {\n      if (i > 0) {\n        retArr.push(',');\n      }\n      const declaration = declarations[i];\n      const info = this.getDeclaration(declaration.id);\n      if (!info.valueType) {\n        info.valueType = this.getType(declaration.init);\n      }\n      this.astGeneric(declaration, retArr);\n    }\n    if (!this.isState('in-for-loop-init')) {\n      retArr.push(';');\n    }\n    return retArr;\n  }\n\n  astIfStatement(ifNode, retArr) {\n    retArr.push('if (');\n    this.astGeneric(ifNode.test, retArr);\n    retArr.push(')');\n    if (ifNode.consequent.type === 'BlockStatement') {\n      this.astGeneric(ifNode.consequent, retArr);\n    } else {\n      retArr.push(' {\\n');\n      this.astGeneric(ifNode.consequent, retArr);\n      retArr.push('\\n}\\n');\n    }\n\n    if (ifNode.alternate) {\n      retArr.push('else ');\n      if (ifNode.alternate.type === 'BlockStatement' || ifNode.alternate.type === 'IfStatement') {\n        this.astGeneric(ifNode.alternate, retArr);\n      } else {\n        retArr.push(' {\\n');\n        this.astGeneric(ifNode.alternate, retArr);\n        retArr.push('\\n}\\n');\n      }\n    }\n    return retArr;\n\n  }\n\n  astSwitchStatement(ast, retArr) {\n    const { discriminant, cases } = ast;\n    retArr.push('switch (');\n    this.astGeneric(discriminant, retArr);\n    retArr.push(') {\\n');\n    for (let i = 0; i < cases.length; i++) {\n      if (cases[i].test === null) {\n        retArr.push('default:\\n');\n        this.astGeneric(cases[i].consequent, retArr);\n        if (cases[i].consequent && cases[i].consequent.length > 0) {\n          retArr.push('break;\\n');\n        }\n        continue;\n      }\n      retArr.push('case ');\n      this.astGeneric(cases[i].test, retArr);\n      retArr.push(':\\n');\n      if (cases[i].consequent && cases[i].consequent.length > 0) {\n        this.astGeneric(cases[i].consequent, retArr);\n        retArr.push('break;\\n');\n      }\n    }\n    retArr.push('\\n}');\n  }\n\n  astThisExpression(tNode, retArr) {\n    retArr.push('_this');\n    return retArr;\n  }\n\n  astMemberExpression(mNode, retArr) {\n    const {\n      signature,\n      type,\n      property,\n      xProperty,\n      yProperty,\n      zProperty,\n      name,\n      origin\n    } = this.getMemberExpressionDetails(mNode);\n    switch (signature) {\n      case 'this.thread.value':\n        retArr.push(`_this.thread.${ name }`);\n        return retArr;\n      case 'this.output.value':\n        switch (name) {\n          case 'x':\n            retArr.push('outputX');\n            break;\n          case 'y':\n            retArr.push('outputY');\n            break;\n          case 'z':\n            retArr.push('outputZ');\n            break;\n          default:\n            throw this.astErrorOutput('Unexpected expression', mNode);\n        }\n        return retArr;\n      case 'value':\n        throw this.astErrorOutput('Unexpected expression', mNode);\n      case 'value[]':\n      case 'value[][]':\n      case 'value[][][]':\n      case 'value.value':\n        if (origin === 'Math') {\n          retArr.push(Math[name]);\n          return retArr;\n        }\n        switch (property) {\n          case 'r':\n            retArr.push(`user_${ name }[0]`);\n            return retArr;\n          case 'g':\n            retArr.push(`user_${ name }[1]`);\n            return retArr;\n          case 'b':\n            retArr.push(`user_${ name }[2]`);\n            return retArr;\n          case 'a':\n            retArr.push(`user_${ name }[3]`);\n            return retArr;\n        }\n        break;\n      case 'this.constants.value':\n      case 'this.constants.value[]':\n      case 'this.constants.value[][]':\n      case 'this.constants.value[][][]':\n        break;\n      case 'fn()[]':\n        this.astGeneric(mNode.object, retArr);\n        retArr.push('[');\n        this.astGeneric(mNode.property, retArr);\n        retArr.push(']');\n        return retArr;\n      case 'fn()[][]':\n        this.astGeneric(mNode.object.object, retArr);\n        retArr.push('[');\n        this.astGeneric(mNode.object.property, retArr);\n        retArr.push(']');\n        retArr.push('[');\n        this.astGeneric(mNode.property, retArr);\n        retArr.push(']');\n        return retArr;\n      default:\n        throw this.astErrorOutput('Unexpected expression', mNode);\n    }\n\n    if (!mNode.computed) {\n      switch (type) {\n        case 'Number':\n        case 'Integer':\n        case 'Float':\n        case 'Boolean':\n          retArr.push(`${origin}_${name}`);\n          return retArr;\n      }\n    }\n\n    const markupName = `${origin}_${name}`;\n\n    switch (type) {\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n      case 'HTMLImageArray':\n      case 'ArrayTexture(1)':\n      case 'ArrayTexture(2)':\n      case 'ArrayTexture(3)':\n      case 'ArrayTexture(4)':\n      case 'HTMLImage':\n      default:\n        let size;\n        let isInput;\n        if (origin === 'constants') {\n          const constant = this.constants[name];\n          isInput = this.constantTypes[name] === 'Input';\n          size = isInput ? constant.size : null;\n        } else {\n          isInput = this.isInput(name);\n          size = isInput ? this.argumentSizes[this.argumentNames.indexOf(name)] : null;\n        }\n        retArr.push(`${ markupName }`);\n        if (zProperty && yProperty) {\n          if (isInput) {\n            retArr.push('[(');\n            this.astGeneric(zProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? '(outputY * outputX)' : size[1] * size[0] })+(`);\n            this.astGeneric(yProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? 'outputX' : size[0] })+`);\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          } else {\n            retArr.push('[');\n            this.astGeneric(zProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          }\n        } else if (yProperty) {\n          if (isInput) {\n            retArr.push('[(');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? 'outputX' : size[0] })+`);\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          } else {\n            retArr.push('[');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          }\n        } else if (typeof xProperty !== 'undefined') {\n          retArr.push('[');\n          this.astGeneric(xProperty, retArr);\n          retArr.push(']');\n        }\n    }\n    return retArr;\n  }\n\n  astCallExpression(ast, retArr) {\n    if (ast.type !== 'CallExpression') {\n      throw this.astErrorOutput('Unknown CallExpression', ast);\n    }\n    let functionName = this.astMemberExpressionUnroll(ast.callee);\n\n    if (this.calledFunctions.indexOf(functionName) < 0) {\n      this.calledFunctions.push(functionName);\n    }\n\n    const isMathFunction = this.isAstMathFunction(ast);\n\n    if (this.onFunctionCall) {\n      this.onFunctionCall(this.name, functionName, ast.arguments);\n    }\n\n    retArr.push(functionName);\n\n    retArr.push('(');\n    const targetTypes = this.lookupFunctionArgumentTypes(functionName) || [];\n    for (let i = 0; i < ast.arguments.length; ++i) {\n      const argument = ast.arguments[i];\n\n      let argumentType = this.getType(argument);\n      if (!targetTypes[i]) {\n        this.triggerImplyArgumentType(functionName, i, argumentType, this);\n      }\n\n      if (i > 0) {\n        retArr.push(', ');\n      }\n      this.astGeneric(argument, retArr);\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  astArrayExpression(arrNode, retArr) {\n    const returnType = this.getType(arrNode);\n    const arrLen = arrNode.elements.length;\n    const elements = [];\n    for (let i = 0; i < arrLen; ++i) {\n      const element = [];\n      this.astGeneric(arrNode.elements[i], element);\n      elements.push(element.join(''));\n    }\n    switch (returnType) {\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        retArr.push(`[${elements.join(', ')}]`);\n        break;\n      default:\n        retArr.push(`new Float32Array([${elements.join(', ')}])`);\n    }\n    return retArr;\n  }\n\n  astDebuggerStatement(arrNode, retArr) {\n    retArr.push('debugger;');\n    return retArr;\n  }\n}\n\nmodule.exports = {\n  CPUFunctionNode\n};\n},{\"../function-node\":10}],7:[function(require,module,exports){\nconst { utils } = require('../../utils');\n\nfunction constantsToString(constants, types) {\n  const results = [];\n  for (const name in types) {\n    if (!types.hasOwnProperty(name)) continue;\n    const type = types[name];\n    const constant = constants[name];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n        results.push(`${name}:${constant}`);\n        break;\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        results.push(`${name}:new ${constant.constructor.name}(${JSON.stringify(Array.from(constant))})`);\n        break;\n    }\n  }\n  return `{ ${ results.join() } }`;\n}\n\nfunction cpuKernelString(cpuKernel, name) {\n  const header = [];\n  const thisProperties = [];\n  const beforeReturn = [];\n\n  const useFunctionKeyword = !/^function/.test(cpuKernel.color.toString());\n\n  header.push(\n    '  const { context, canvas, constants: incomingConstants } = settings;',\n    `  const output = new Int32Array(${JSON.stringify(Array.from(cpuKernel.output))});`,\n    `  const _constantTypes = ${JSON.stringify(cpuKernel.constantTypes)};`,\n    `  const _constants = ${constantsToString(cpuKernel.constants, cpuKernel.constantTypes)};`\n  );\n\n  thisProperties.push(\n    '    constants: _constants,',\n    '    context,',\n    '    output,',\n    '    thread: {x: 0, y: 0, z: 0},'\n  );\n\n  if (cpuKernel.graphical) {\n    header.push(`  const _imageData = context.createImageData(${cpuKernel.output[0]}, ${cpuKernel.output[1]});`);\n    header.push(`  const _colorData = new Uint8ClampedArray(${cpuKernel.output[0]} * ${cpuKernel.output[1]} * 4);`);\n\n    const colorFn = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel.color.toString(), {\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case '_colorData':\n            return '_colorData';\n          case '_imageData':\n            return '_imageData';\n          case 'output':\n            return 'output';\n          case 'thread':\n            return 'this.thread';\n        }\n        return JSON.stringify(cpuKernel[propertyName]);\n      },\n      findDependency: (object, name) => {\n        return null;\n      }\n    });\n\n    const getPixelsFn = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel.getPixels.toString(), {\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case '_colorData':\n            return '_colorData';\n          case '_imageData':\n            return '_imageData';\n          case 'output':\n            return 'output';\n          case 'thread':\n            return 'this.thread';\n        }\n        return JSON.stringify(cpuKernel[propertyName]);\n      },\n      findDependency: () => {\n        return null;\n      }\n    });\n\n    thisProperties.push(\n      '    _imageData,',\n      '    _colorData,',\n      `    color: ${colorFn},`\n    );\n\n    beforeReturn.push(\n      `  kernel.getPixels = ${getPixelsFn};`\n    );\n  }\n\n  const constantTypes = [];\n  const constantKeys = Object.keys(cpuKernel.constantTypes);\n  for (let i = 0; i < constantKeys.length; i++) {\n    constantTypes.push(cpuKernel.constantTypes[constantKeys]);\n  }\n  if (cpuKernel.argumentTypes.indexOf('HTMLImageArray') !== -1 || constantTypes.indexOf('HTMLImageArray') !== -1) {\n    const flattenedImageTo3DArray = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel._imageTo3DArray.toString(), {\n      doNotDefine: ['canvas'],\n      findDependency: (object, name) => {\n        if (object === 'this') {\n          return (useFunctionKeyword ? 'function ' : '') + cpuKernel[name].toString();\n        }\n        return null;\n      },\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case 'canvas':\n            return;\n          case 'context':\n            return 'context';\n        }\n      }\n    });\n    beforeReturn.push(flattenedImageTo3DArray);\n    thisProperties.push(`    _mediaTo2DArray,`);\n    thisProperties.push(`    _imageTo3DArray,`);\n  } else if (cpuKernel.argumentTypes.indexOf('HTMLImage') !== -1 || constantTypes.indexOf('HTMLImage') !== -1) {\n    const flattenedImageTo2DArray = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel._mediaTo2DArray.toString(), {\n      findDependency: (object, name) => {\n        return null;\n      },\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case 'canvas':\n            return 'settings.canvas';\n          case 'context':\n            return 'settings.context';\n        }\n        throw new Error('unhandled thisLookup');\n      }\n    });\n    beforeReturn.push(flattenedImageTo2DArray);\n    thisProperties.push(`    _mediaTo2DArray,`);\n  }\n\n  return `function(settings) {\n${ header.join('\\n') }\n  for (const p in _constantTypes) {\n    if (!_constantTypes.hasOwnProperty(p)) continue;\n    const type = _constantTypes[p];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        if (incomingConstants.hasOwnProperty(p)) {\n          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');\n        }\n        continue;\n    }\n    if (!incomingConstants.hasOwnProperty(p)) {\n      throw new Error('constant ' + p + ' not found');\n    }\n    _constants[p] = incomingConstants[p];\n  }\n  const kernel = (function() {\n${cpuKernel._kernelString}\n  })\n    .apply({ ${thisProperties.join('\\n')} });\n  ${ beforeReturn.join('\\n') }\n  return kernel;\n}`;\n}\n\nmodule.exports = {\n  cpuKernelString\n};\n},{\"../../utils\":114}],8:[function(require,module,exports){\nconst { Kernel } = require('../kernel');\nconst { FunctionBuilder } = require('../function-builder');\nconst { CPUFunctionNode } = require('./function-node');\nconst { utils } = require('../../utils');\nconst { cpuKernelString } = require('./kernel-string');\n\nclass CPUKernel extends Kernel {\n  static getFeatures() {\n    return this.features;\n  }\n  static get features() {\n    return Object.freeze({\n      kernelMap: true,\n      isIntegerDivisionAccurate: true\n    });\n  }\n  static get isSupported() {\n    return true;\n  }\n  static isContextMatch(context) {\n    return false;\n  }\n  static get mode() {\n    return 'cpu';\n  }\n\n  static nativeFunctionArguments() {\n    return null;\n  }\n\n  static nativeFunctionReturnType() {\n    throw new Error(`Looking up native function return type not supported on ${this.name}`);\n  }\n\n  static combineKernels(combinedKernel) {\n    return combinedKernel;\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    return 'cpu' + (argumentTypes.length > 0 ? ':' + argumentTypes.join(',') : '');\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.mergeSettings(source.settings || settings);\n\n    this._imageData = null;\n    this._colorData = null;\n    this._kernelString = null;\n    this._prependedString = [];\n    this.thread = {\n      x: 0,\n      y: 0,\n      z: 0\n    };\n    this.translatedSources = null;\n  }\n\n  initCanvas() {\n    if (typeof document !== 'undefined') {\n      return document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      return new OffscreenCanvas(0, 0);\n    }\n  }\n\n  initContext() {\n    if (!this.canvas) return null;\n    return this.canvas.getContext('2d');\n  }\n\n  initPlugins(settings) {\n    return [];\n  }\n\n  validateSettings(args) {\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      if (argType === 'Array') {\n        this.output = utils.getDimensions(argType);\n      } else if (argType === 'NumberTexture' || argType === 'ArrayTexture(4)') {\n        this.output = args[0].output;\n      } else {\n        throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n    }\n\n    this.checkOutput();\n  }\n\n  translateSource() {\n    this.leadingReturnStatement = this.output.length > 1 ? 'resultX[x] = ' : 'result[x] = ';\n    if (this.subKernels) {\n      const followingReturnStatement = [];\n      for (let i = 0; i < this.subKernels.length; i++) {\n        const {\n          name\n        } = this.subKernels[i];\n        followingReturnStatement.push(this.output.length > 1 ? `resultX_${ name }[x] = subKernelResult_${ name };\\n` : `result_${ name }[x] = subKernelResult_${ name };\\n`);\n      }\n      this.followingReturnStatement = followingReturnStatement.join('');\n    }\n    const functionBuilder = FunctionBuilder.fromKernel(this, CPUFunctionNode);\n    this.translatedSources = functionBuilder.getPrototypes('kernel');\n    if (!this.graphical && !this.returnType) {\n      this.returnType = functionBuilder.getKernelResultType();\n    }\n  }\n\n  build() {\n    if (this.built) return;\n    this.setupConstants();\n    this.setupArguments(arguments);\n    this.validateSettings(arguments);\n    this.translateSource();\n\n    if (this.graphical) {\n      const {\n        canvas,\n        output\n      } = this;\n      if (!canvas) {\n        throw new Error('no canvas available for using graphical output');\n      }\n      const width = output[0];\n      const height = output[1] || 1;\n      canvas.width = width;\n      canvas.height = height;\n      this._imageData = this.context.createImageData(width, height);\n      this._colorData = new Uint8ClampedArray(width * height * 4);\n    }\n\n    const kernelString = this.getKernelString();\n    this.kernelString = kernelString;\n\n    if (this.debug) {\n      console.log('Function output:');\n      console.log(kernelString);\n    }\n\n    try {\n      this.run = new Function([], kernelString).bind(this)();\n    } catch (e) {\n      console.error('An error occurred compiling the javascript: ', e);\n    }\n    this.buildSignature(arguments);\n    this.built = true;\n  }\n\n  color(r, g, b, a) {\n    if (typeof a === 'undefined') {\n      a = 1;\n    }\n\n    r = Math.floor(r * 255);\n    g = Math.floor(g * 255);\n    b = Math.floor(b * 255);\n    a = Math.floor(a * 255);\n\n    const width = this.output[0];\n    const height = this.output[1];\n\n    const x = this.thread.x;\n    const y = height - this.thread.y - 1;\n\n    const index = x + y * width;\n\n    this._colorData[index * 4 + 0] = r;\n    this._colorData[index * 4 + 1] = g;\n    this._colorData[index * 4 + 2] = b;\n    this._colorData[index * 4 + 3] = a;\n  }\n\n  getKernelString() {\n    if (this._kernelString !== null) return this._kernelString;\n\n    let kernelThreadString = null;\n    let {\n      translatedSources\n    } = this;\n    if (translatedSources.length > 1) {\n      translatedSources = translatedSources.filter(fn => {\n        if (/^function/.test(fn)) return fn;\n        kernelThreadString = fn;\n        return false;\n      });\n    } else {\n      kernelThreadString = translatedSources.shift();\n    }\n    return this._kernelString = `  const LOOP_MAX = ${ this._getLoopMaxString() };\n  ${ this.injectedNative || '' }\n  const _this = this;\n  ${ this._resultKernelHeader() }\n  ${ this._processConstants() }\n  return (${ this.argumentNames.map(argumentName => 'user_' + argumentName).join(', ') }) => {\n    ${ this._prependedString.join('') }\n    ${ this._earlyThrows() }\n    ${ this._processArguments() }\n    ${ this.graphical ? this._graphicalKernelBody(kernelThreadString) : this._resultKernelBody(kernelThreadString) }\n    ${ translatedSources.length > 0 ? translatedSources.join('\\n') : '' }\n  };`;\n  }\n\n  toString() {\n    return cpuKernelString(this);\n  }\n\n  _getLoopMaxString() {\n    return (\n      this.loopMaxIterations ?\n      ` ${ parseInt(this.loopMaxIterations) };` :\n      ' 1000;'\n    );\n  }\n\n  _processConstants() {\n    if (!this.constants) return '';\n\n    const result = [];\n    for (let p in this.constants) {\n      const type = this.constantTypes[p];\n      switch (type) {\n        case 'HTMLCanvas':\n        case 'HTMLImage':\n        case 'HTMLVideo':\n          result.push(`    const constants_${p} = this._mediaTo2DArray(this.constants.${p});\\n`);\n          break;\n        case 'HTMLImageArray':\n          result.push(`    const constants_${p} = this._imageTo3DArray(this.constants.${p});\\n`);\n          break;\n        case 'Input':\n          result.push(`    const constants_${p} = this.constants.${p}.value;\\n`);\n          break;\n        default:\n          result.push(`    const constants_${p} = this.constants.${p};\\n`);\n      }\n    }\n    return result.join('');\n  }\n\n  _earlyThrows() {\n    if (this.graphical) return '';\n    if (this.immutable) return '';\n    if (!this.pipeline) return '';\n    const arrayArguments = [];\n    for (let i = 0; i < this.argumentTypes.length; i++) {\n      if (this.argumentTypes[i] === 'Array') {\n        arrayArguments.push(this.argumentNames[i]);\n      }\n    }\n    if (arrayArguments.length === 0) return '';\n    const checks = [];\n    for (let i = 0; i < arrayArguments.length; i++) {\n      const argumentName = arrayArguments[i];\n      const checkSubKernels = this._mapSubKernels(subKernel => `user_${argumentName} === result_${subKernel.name}`).join(' || ');\n      checks.push(`user_${argumentName} === result${checkSubKernels ? ` || ${checkSubKernels}` : ''}`);\n    }\n    return `if (${checks.join(' || ')}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`;\n  }\n\n  _processArguments() {\n    const result = [];\n    for (let i = 0; i < this.argumentTypes.length; i++) {\n      const variableName = `user_${this.argumentNames[i]}`;\n      switch (this.argumentTypes[i]) {\n        case 'HTMLCanvas':\n        case 'HTMLImage':\n        case 'HTMLVideo':\n          result.push(`    ${variableName} = this._mediaTo2DArray(${variableName});\\n`);\n          break;\n        case 'HTMLImageArray':\n          result.push(`    ${variableName} = this._imageTo3DArray(${variableName});\\n`);\n          break;\n        case 'Input':\n          result.push(`    ${variableName} = ${variableName}.value;\\n`);\n          break;\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n          result.push(`\n    if (${variableName}.toArray) {\n      if (!_this.textureCache) {\n        _this.textureCache = [];\n        _this.arrayCache = [];\n      }\n      const textureIndex = _this.textureCache.indexOf(${variableName});\n      if (textureIndex !== -1) {\n        ${variableName} = _this.arrayCache[textureIndex];\n      } else {\n        _this.textureCache.push(${variableName});\n        ${variableName} = ${variableName}.toArray();\n        _this.arrayCache.push(${variableName});\n      }\n    }`);\n          break;\n      }\n    }\n    return result.join('');\n  }\n\n  _mediaTo2DArray(media) {\n    const canvas = this.canvas;\n    const width = media.width > 0 ? media.width : media.videoWidth;\n    const height = media.height > 0 ? media.height : media.videoHeight;\n    if (canvas.width < width) {\n      canvas.width = width;\n    }\n    if (canvas.height < height) {\n      canvas.height = height;\n    }\n    const ctx = this.context;\n    ctx.drawImage(media, 0, 0, width, height);\n    const pixelsData = ctx.getImageData(0, 0, width, height).data;\n    const imageArray = new Array(height);\n    let index = 0;\n    for (let y = height - 1; y >= 0; y--) {\n      const row = imageArray[y] = new Array(width);\n      for (let x = 0; x < width; x++) {\n        const pixel = new Float32Array(4);\n        pixel[0] = pixelsData[index++] / 255; \n        pixel[1] = pixelsData[index++] / 255; \n        pixel[2] = pixelsData[index++] / 255; \n        pixel[3] = pixelsData[index++] / 255; \n        row[x] = pixel;\n      }\n    }\n    return imageArray;\n  }\n\n  getPixels(flip) {\n    const [width, height] = this.output;\n    return flip ? utils.flipPixels(this._imageData.data, width, height) : this._imageData.data.slice(0);\n  }\n\n  _imageTo3DArray(images) {\n    const imagesArray = new Array(images.length);\n    for (let i = 0; i < images.length; i++) {\n      imagesArray[i] = this._mediaTo2DArray(images[i]);\n    }\n    return imagesArray;\n  }\n\n  _resultKernelHeader() {\n    if (this.graphical) return '';\n    if (this.immutable) return '';\n    if (!this.pipeline) return '';\n    switch (this.output.length) {\n      case 1:\n        return this._mutableKernel1DResults();\n      case 2:\n        return this._mutableKernel2DResults();\n      case 3:\n        return this._mutableKernel3DResults();\n    }\n  }\n\n  _resultKernelBody(kernelString) {\n    switch (this.output.length) {\n      case 1:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel1DLoop(kernelString) : this._resultImmutableKernel1DLoop(kernelString)) + this._kernelOutput();\n      case 2:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel2DLoop(kernelString) : this._resultImmutableKernel2DLoop(kernelString)) + this._kernelOutput();\n      case 3:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel3DLoop(kernelString) : this._resultImmutableKernel3DLoop(kernelString)) + this._kernelOutput();\n      default:\n        throw new Error('unsupported size kernel');\n    }\n  }\n\n  _graphicalKernelBody(kernelThreadString) {\n    switch (this.output.length) {\n      case 2:\n        return this._graphicalKernel2DLoop(kernelThreadString) + this._graphicalOutput();\n      default:\n        throw new Error('unsupported size kernel');\n    }\n  }\n\n  _graphicalOutput() {\n    return `\n    this._imageData.data.set(this._colorData);\n    this.context.putImageData(this._imageData, 0, 0);\n    return;`\n  }\n\n  _getKernelResultTypeConstructorString() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return 'Float32Array';\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        return 'Array';\n      default:\n        if (this.graphical) {\n          return 'Float32Array';\n        }\n        throw new Error(`unhandled returnType ${ this.returnType }`);\n    }\n  }\n\n  _resultImmutableKernel1DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const result = new ${constructorString}(outputX);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new ${constructorString}(outputX);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${ kernelString }\n    }`;\n  }\n\n  _mutableKernel1DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const result = new ${constructorString}(outputX);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new ${constructorString}(outputX);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }`;\n  }\n\n  _resultMutableKernel1DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${ kernelString }\n    }`;\n  }\n\n  _resultImmutableKernel2DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputY);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y] = new ${constructorString}(outputX);\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _mutableKernel2DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputY);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let y = 0; y < outputY; y++) {\n      const resultX = result[y] = new ${constructorString}(outputX);\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n    }`;\n  }\n\n  _resultMutableKernel2DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y];\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _graphicalKernel2DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _resultImmutableKernel3DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputZ);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z] = new Array(outputY);\n      ${ this._mapSubKernels(subKernel => `const resultY_${ subKernel.name } = result_${subKernel.name}[z] = new Array(outputY);\\n`).join('      ') }\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y] = new ${constructorString}(outputX);\n        ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = resultY_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('        ') }\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${ kernelString }\n        }\n      }\n    }`;\n  }\n\n  _mutableKernel3DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputZ);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let z = 0; z < outputZ; z++) {\n      const resultY = result[z] = new Array(outputY);\n      ${ this._mapSubKernels(subKernel => `const resultY_${ subKernel.name } = result_${subKernel.name}[z] = new Array(outputY);\\n`).join('      ') }\n      for (let y = 0; y < outputY; y++) {\n        const resultX = resultY[y] = new ${constructorString}(outputX);\n        ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = resultY_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('        ') }\n      }\n    }`;\n  }\n\n  _resultMutableKernel3DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z];\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y];\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${ kernelString }\n        }\n      }\n    }`;\n  }\n\n  _kernelOutput() {\n    if (!this.subKernels) {\n      return '\\n    return result;';\n    }\n    return `\\n    return {\n      result: result,\n      ${ this.subKernels.map(subKernel => `${ subKernel.property }: result_${ subKernel.name }`).join(',\\n      ') }\n    };`;\n  }\n\n  _mapSubKernels(fn) {\n    return this.subKernels === null ? [''] :\n      this.subKernels.map(fn);\n  }\n\n  destroy(removeCanvasReference) {\n    if (removeCanvasReference) {\n      delete this.canvas;\n    }\n  }\n\n  static destroyContext(context) {}\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, CPUFunctionNode).toJSON();\n    return json;\n  }\n\n  setOutput(output) {\n    super.setOutput(output);\n    const [width, height] = this.output;\n    if (this.graphical) {\n      this._imageData = this.context.createImageData(width, height);\n      this._colorData = new Uint8ClampedArray(width * height * 4);\n    }\n  }\n\n  prependString(value) {\n    if (this._kernelString) throw new Error('Kernel already built');\n    this._prependedString.push(value);\n  }\n\n  hasPrependString(value) {\n    return this._prependedString.indexOf(value) > -1;\n  }\n}\n\nmodule.exports = {\n  CPUKernel\n};\n},{\"../../utils\":114,\"../function-builder\":9,\"../kernel\":36,\"./function-node\":6,\"./kernel-string\":7}],9:[function(require,module,exports){\nclass FunctionBuilder {\n  static fromKernel(kernel, FunctionNode, extraNodeOptions) {\n    const {\n      kernelArguments,\n      kernelConstants,\n      argumentNames,\n      argumentSizes,\n      argumentBitRatios,\n      constants,\n      constantBitRatios,\n      debug,\n      loopMaxIterations,\n      nativeFunctions,\n      output,\n      optimizeFloatMemory,\n      precision,\n      plugins,\n      source,\n      subKernels,\n      functions,\n      leadingReturnStatement,\n      followingReturnStatement,\n      dynamicArguments,\n      dynamicOutput,\n    } = kernel;\n\n    const argumentTypes = new Array(kernelArguments.length);\n    const constantTypes = {};\n\n    for (let i = 0; i < kernelArguments.length; i++) {\n      argumentTypes[i] = kernelArguments[i].type;\n    }\n\n    for (let i = 0; i < kernelConstants.length; i++) {\n      const kernelConstant = kernelConstants[i];\n      constantTypes[kernelConstant.name] = kernelConstant.type;\n    }\n\n    const needsArgumentType = (functionName, index) => {\n      return functionBuilder.needsArgumentType(functionName, index);\n    };\n\n    const assignArgumentType = (functionName, index, type) => {\n      functionBuilder.assignArgumentType(functionName, index, type);\n    };\n\n    const lookupReturnType = (functionName, ast, requestingNode) => {\n      return functionBuilder.lookupReturnType(functionName, ast, requestingNode);\n    };\n\n    const lookupFunctionArgumentTypes = (functionName) => {\n      return functionBuilder.lookupFunctionArgumentTypes(functionName);\n    };\n\n    const lookupFunctionArgumentName = (functionName, argumentIndex) => {\n      return functionBuilder.lookupFunctionArgumentName(functionName, argumentIndex);\n    };\n\n    const lookupFunctionArgumentBitRatio = (functionName, argumentName) => {\n      return functionBuilder.lookupFunctionArgumentBitRatio(functionName, argumentName);\n    };\n\n    const triggerImplyArgumentType = (functionName, i, argumentType, requestingNode) => {\n      functionBuilder.assignArgumentType(functionName, i, argumentType, requestingNode);\n    };\n\n    const triggerImplyArgumentBitRatio = (functionName, argumentName, calleeFunctionName, argumentIndex) => {\n      functionBuilder.assignArgumentBitRatio(functionName, argumentName, calleeFunctionName, argumentIndex);\n    };\n\n    const onFunctionCall = (functionName, calleeFunctionName, args) => {\n      functionBuilder.trackFunctionCall(functionName, calleeFunctionName, args);\n    };\n\n    const onNestedFunction = (ast, source) => {\n      const argumentNames = [];\n      for (let i = 0; i < ast.params.length; i++) {\n        argumentNames.push(ast.params[i].name);\n      }\n      const nestedFunction = new FunctionNode(source, Object.assign({}, nodeOptions, {\n        returnType: null,\n        ast,\n        name: ast.id.name,\n        argumentNames,\n        lookupReturnType,\n        lookupFunctionArgumentTypes,\n        lookupFunctionArgumentName,\n        lookupFunctionArgumentBitRatio,\n        needsArgumentType,\n        assignArgumentType,\n        triggerImplyArgumentType,\n        triggerImplyArgumentBitRatio,\n        onFunctionCall,\n      }));\n      nestedFunction.traceFunctionAST(ast);\n      functionBuilder.addFunctionNode(nestedFunction);\n    };\n\n    const nodeOptions = Object.assign({\n      isRootKernel: false,\n      onNestedFunction,\n      lookupReturnType,\n      lookupFunctionArgumentTypes,\n      lookupFunctionArgumentName,\n      lookupFunctionArgumentBitRatio,\n      needsArgumentType,\n      assignArgumentType,\n      triggerImplyArgumentType,\n      triggerImplyArgumentBitRatio,\n      onFunctionCall,\n      optimizeFloatMemory,\n      precision,\n      constants,\n      constantTypes,\n      constantBitRatios,\n      debug,\n      loopMaxIterations,\n      output,\n      plugins,\n      dynamicArguments,\n      dynamicOutput,\n    }, extraNodeOptions || {});\n\n    const rootNodeOptions = Object.assign({}, nodeOptions, {\n      isRootKernel: true,\n      name: 'kernel',\n      argumentNames,\n      argumentTypes,\n      argumentSizes,\n      argumentBitRatios,\n      leadingReturnStatement,\n      followingReturnStatement,\n    });\n\n    if (typeof source === 'object' && source.functionNodes) {\n      return new FunctionBuilder().fromJSON(source.functionNodes, FunctionNode);\n    }\n\n    const rootNode = new FunctionNode(source, rootNodeOptions);\n\n    let functionNodes = null;\n    if (functions) {\n      functionNodes = functions.map((fn) => new FunctionNode(fn.source, {\n        returnType: fn.returnType,\n        argumentTypes: fn.argumentTypes,\n        output,\n        plugins,\n        constants,\n        constantTypes,\n        constantBitRatios,\n        optimizeFloatMemory,\n        precision,\n        lookupReturnType,\n        lookupFunctionArgumentTypes,\n        lookupFunctionArgumentName,\n        lookupFunctionArgumentBitRatio,\n        needsArgumentType,\n        assignArgumentType,\n        triggerImplyArgumentType,\n        triggerImplyArgumentBitRatio,\n        onFunctionCall,\n        onNestedFunction,\n      }));\n    }\n\n    let subKernelNodes = null;\n    if (subKernels) {\n      subKernelNodes = subKernels.map((subKernel) => {\n        const { name, source } = subKernel;\n        return new FunctionNode(source, Object.assign({}, nodeOptions, {\n          name,\n          isSubKernel: true,\n          isRootKernel: false,\n        }));\n      });\n    }\n\n    const functionBuilder = new FunctionBuilder({\n      kernel,\n      rootNode,\n      functionNodes,\n      nativeFunctions,\n      subKernelNodes\n    });\n\n    return functionBuilder;\n  }\n\n  constructor(settings) {\n    settings = settings || {};\n    this.kernel = settings.kernel;\n    this.rootNode = settings.rootNode;\n    this.functionNodes = settings.functionNodes || [];\n    this.subKernelNodes = settings.subKernelNodes || [];\n    this.nativeFunctions = settings.nativeFunctions || [];\n    this.functionMap = {};\n    this.nativeFunctionNames = [];\n    this.lookupChain = [];\n    this.functionNodeDependencies = {};\n    this.functionCalls = {};\n\n    if (this.rootNode) {\n      this.functionMap['kernel'] = this.rootNode;\n    }\n\n    if (this.functionNodes) {\n      for (let i = 0; i < this.functionNodes.length; i++) {\n        this.functionMap[this.functionNodes[i].name] = this.functionNodes[i];\n      }\n    }\n\n    if (this.subKernelNodes) {\n      for (let i = 0; i < this.subKernelNodes.length; i++) {\n        this.functionMap[this.subKernelNodes[i].name] = this.subKernelNodes[i];\n      }\n    }\n\n    if (this.nativeFunctions) {\n      for (let i = 0; i < this.nativeFunctions.length; i++) {\n        const nativeFunction = this.nativeFunctions[i];\n        this.nativeFunctionNames.push(nativeFunction.name);\n      }\n    }\n  }\n\n  addFunctionNode(functionNode) {\n    if (!functionNode.name) throw new Error('functionNode.name needs set');\n    this.functionMap[functionNode.name] = functionNode;\n    if (functionNode.isRootKernel) {\n      this.rootNode = functionNode;\n    }\n  }\n\n  traceFunctionCalls(functionName, retList) {\n    functionName = functionName || 'kernel';\n    retList = retList || [];\n\n    if (this.nativeFunctionNames.indexOf(functionName) > -1) {\n      const nativeFunctionIndex = retList.indexOf(functionName);\n      if (nativeFunctionIndex === -1) {\n        retList.push(functionName);\n      } else {\n        const dependantNativeFunctionName = retList.splice(nativeFunctionIndex, 1)[0];\n        retList.push(dependantNativeFunctionName);\n      }\n      return retList;\n    }\n\n    const functionNode = this.functionMap[functionName];\n    if (functionNode) {\n      const functionIndex = retList.indexOf(functionName);\n      if (functionIndex === -1) {\n        retList.push(functionName);\n        functionNode.toString(); \n        for (let i = 0; i < functionNode.calledFunctions.length; ++i) {\n          this.traceFunctionCalls(functionNode.calledFunctions[i], retList);\n        }\n      } else {\n        const dependantFunctionName = retList.splice(functionIndex, 1)[0];\n        retList.push(dependantFunctionName);\n      }\n    }\n\n    return retList;\n  }\n\n  getPrototypeString(functionName) {\n    return this.getPrototypes(functionName).join('\\n');\n  }\n\n  getPrototypes(functionName) {\n    if (this.rootNode) {\n      this.rootNode.toString();\n    }\n    if (functionName) {\n      return this.getPrototypesFromFunctionNames(this.traceFunctionCalls(functionName, []).reverse());\n    }\n    return this.getPrototypesFromFunctionNames(Object.keys(this.functionMap));\n  }\n\n  getStringFromFunctionNames(functionList) {\n    const ret = [];\n    for (let i = 0; i < functionList.length; ++i) {\n      const node = this.functionMap[functionList[i]];\n      if (node) {\n        ret.push(this.functionMap[functionList[i]].toString());\n      }\n    }\n    return ret.join('\\n');\n  }\n\n  getPrototypesFromFunctionNames(functionList) {\n    const ret = [];\n    for (let i = 0; i < functionList.length; ++i) {\n      const functionName = functionList[i];\n      const functionIndex = this.nativeFunctionNames.indexOf(functionName);\n      if (functionIndex > -1) {\n        ret.push(this.nativeFunctions[functionIndex].source);\n        continue;\n      }\n      const node = this.functionMap[functionName];\n      if (node) {\n        ret.push(node.toString());\n      }\n    }\n    return ret;\n  }\n\n  toJSON() {\n    return this.traceFunctionCalls(this.rootNode.name).reverse().map(name => {\n      const nativeIndex = this.nativeFunctions.indexOf(name);\n      if (nativeIndex > -1) {\n        return {\n          name,\n          source: this.nativeFunctions[nativeIndex].source\n        };\n      } else if (this.functionMap[name]) {\n        return this.functionMap[name].toJSON();\n      } else {\n        throw new Error(`function ${ name } not found`);\n      }\n    });\n  }\n\n  fromJSON(jsonFunctionNodes, FunctionNode) {\n    this.functionMap = {};\n    for (let i = 0; i < jsonFunctionNodes.length; i++) {\n      const jsonFunctionNode = jsonFunctionNodes[i];\n      this.functionMap[jsonFunctionNode.settings.name] = new FunctionNode(jsonFunctionNode.ast, jsonFunctionNode.settings);\n    }\n    return this;\n  }\n\n  getString(functionName) {\n    if (functionName) {\n      return this.getStringFromFunctionNames(this.traceFunctionCalls(functionName).reverse());\n    }\n    return this.getStringFromFunctionNames(Object.keys(this.functionMap));\n  }\n\n  lookupReturnType(functionName, ast, requestingNode) {\n    if (ast.type !== 'CallExpression') {\n      throw new Error(`expected ast type of \"CallExpression\", but is ${ ast.type }`);\n    }\n    if (this._isNativeFunction(functionName)) {\n      return this._lookupNativeFunctionReturnType(functionName);\n    } else if (this._isFunction(functionName)) {\n      const node = this._getFunction(functionName);\n      if (node.returnType) {\n        return node.returnType;\n      } else {\n        for (let i = 0; i < this.lookupChain.length; i++) {\n          if (this.lookupChain[i].ast === ast) {\n            if (node.argumentTypes.length === 0 && ast.arguments.length > 0) {\n              const args = ast.arguments;\n              for (let j = 0; j < args.length; j++) {\n                this.lookupChain.push({\n                  name: requestingNode.name,\n                  ast: args[i],\n                  requestingNode\n                });\n                node.argumentTypes[j] = requestingNode.getType(args[j]);\n                this.lookupChain.pop();\n              }\n              return node.returnType = node.getType(node.getJsAST());\n            }\n\n            throw new Error('circlical logic detected!');\n          }\n        }\n        this.lookupChain.push({\n          name: requestingNode.name,\n          ast,\n          requestingNode\n        });\n        const type = node.getType(node.getJsAST());\n        this.lookupChain.pop();\n        return node.returnType = type;\n      }\n    }\n\n    return null;\n  }\n\n  _getFunction(functionName) {\n    if (!this._isFunction(functionName)) {\n      new Error(`Function ${functionName} not found`);\n    }\n    return this.functionMap[functionName];\n  }\n\n  _isFunction(functionName) {\n    return Boolean(this.functionMap[functionName]);\n  }\n\n  _getNativeFunction(functionName) {\n    for (let i = 0; i < this.nativeFunctions.length; i++) {\n      if (this.nativeFunctions[i].name === functionName) return this.nativeFunctions[i];\n    }\n    return null;\n  }\n\n  _isNativeFunction(functionName) {\n    return Boolean(this._getNativeFunction(functionName));\n  }\n\n  _lookupNativeFunctionReturnType(functionName) {\n    let nativeFunction = this._getNativeFunction(functionName);\n    if (nativeFunction) {\n      return nativeFunction.returnType;\n    }\n    throw new Error(`Native function ${ functionName } not found`);\n  }\n\n  lookupFunctionArgumentTypes(functionName) {\n    if (this._isNativeFunction(functionName)) {\n      return this._getNativeFunction(functionName).argumentTypes;\n    } else if (this._isFunction(functionName)) {\n      return this._getFunction(functionName).argumentTypes;\n    }\n    return null;\n  }\n\n  lookupFunctionArgumentName(functionName, argumentIndex) {\n    return this._getFunction(functionName).argumentNames[argumentIndex];\n  }\n\n  lookupFunctionArgumentBitRatio(functionName, argumentName) {\n    if (!this._isFunction(functionName)) {\n      throw new Error('function not found');\n    }\n    if (this.rootNode.name === functionName) {\n      const i = this.rootNode.argumentNames.indexOf(argumentName);\n      if (i !== -1) {\n        return this.rootNode.argumentBitRatios[i];\n      }\n    }\n    const node = this._getFunction(functionName);\n    const i = node.argumentNames.indexOf(argumentName);\n    if (i === -1) {\n      throw new Error('argument not found');\n    }\n    const bitRatio = node.argumentBitRatios[i];\n    if (typeof bitRatio !== 'number') {\n      throw new Error('argument bit ratio not found');\n    }\n    return bitRatio;\n  }\n\n  needsArgumentType(functionName, i) {\n    if (!this._isFunction(functionName)) return false;\n    const fnNode = this._getFunction(functionName);\n    return !fnNode.argumentTypes[i];\n  }\n\n  assignArgumentType(functionName, i, argumentType, requestingNode) {\n    if (!this._isFunction(functionName)) return;\n    const fnNode = this._getFunction(functionName);\n    if (!fnNode.argumentTypes[i]) {\n      fnNode.argumentTypes[i] = argumentType;\n    }\n  }\n\n  assignArgumentBitRatio(functionName, argumentName, calleeFunctionName, argumentIndex) {\n    const node = this._getFunction(functionName);\n    if (this._isNativeFunction(calleeFunctionName)) return null;\n    const calleeNode = this._getFunction(calleeFunctionName);\n    const i = node.argumentNames.indexOf(argumentName);\n    if (i === -1) {\n      throw new Error(`Argument ${argumentName} not found in arguments from function ${functionName}`);\n    }\n    const bitRatio = node.argumentBitRatios[i];\n    if (typeof bitRatio !== 'number') {\n      throw new Error(`Bit ratio for argument ${argumentName} not found in function ${functionName}`);\n    }\n    if (!calleeNode.argumentBitRatios) {\n      calleeNode.argumentBitRatios = new Array(calleeNode.argumentNames.length);\n    }\n    const calleeBitRatio = calleeNode.argumentBitRatios[i];\n    if (typeof calleeBitRatio === 'number') {\n      if (calleeBitRatio !== bitRatio) {\n        throw new Error(`Incompatible bit ratio found at function ${functionName} at argument ${argumentName}`);\n      }\n      return calleeBitRatio;\n    }\n    calleeNode.argumentBitRatios[i] = bitRatio;\n    return bitRatio;\n  }\n\n  trackFunctionCall(functionName, calleeFunctionName, args) {\n    if (!this.functionNodeDependencies[functionName]) {\n      this.functionNodeDependencies[functionName] = new Set();\n      this.functionCalls[functionName] = [];\n    }\n    this.functionNodeDependencies[functionName].add(calleeFunctionName);\n    this.functionCalls[functionName].push(args);\n  }\n\n  getKernelResultType() {\n    return this.rootNode.returnType || this.rootNode.getType(this.rootNode.ast);\n  }\n\n  getSubKernelResultType(index) {\n    const subKernelNode = this.subKernelNodes[index];\n    let called = false;\n    for (let functionCallIndex = 0; functionCallIndex < this.rootNode.functionCalls.length; functionCallIndex++) {\n      const functionCall = this.rootNode.functionCalls[functionCallIndex];\n      if (functionCall.ast.callee.name === subKernelNode.name) {\n        called = true;\n      }\n    }\n    if (!called) {\n      throw new Error(`SubKernel ${ subKernelNode.name } never called by kernel`);\n    }\n    return subKernelNode.returnType || subKernelNode.getType(subKernelNode.getJsAST());\n  }\n\n  getReturnTypes() {\n    const result = {\n      [this.rootNode.name]: this.rootNode.getType(this.rootNode.ast),\n    };\n    const list = this.traceFunctionCalls(this.rootNode.name);\n    for (let i = 0; i < list.length; i++) {\n      const functionName = list[i];\n      const functionNode = this.functionMap[functionName];\n      result[functionName] = functionNode.getType(functionNode.ast);\n    }\n    return result;\n  }\n}\n\nmodule.exports = {\n  FunctionBuilder\n};\n},{}],10:[function(require,module,exports){\nconst acorn = require('acorn');\nconst { utils } = require('../utils');\nconst { FunctionTracer } = require('./function-tracer');\n\nclass FunctionNode {\n  constructor(source, settings) {\n    if (!source && !settings.ast) {\n      throw new Error('source parameter is missing');\n    }\n    settings = settings || {};\n    this.source = source;\n    this.ast = null;\n    this.name = typeof source === 'string' ? settings.isRootKernel ?\n      'kernel' :\n      (settings.name || utils.getFunctionNameFromString(source)) : null;\n    this.calledFunctions = [];\n    this.constants = {};\n    this.constantTypes = {};\n    this.constantBitRatios = {};\n    this.isRootKernel = false;\n    this.isSubKernel = false;\n    this.debug = null;\n    this.functions = null;\n    this.identifiers = null;\n    this.contexts = null;\n    this.functionCalls = null;\n    this.states = [];\n    this.needsArgumentType = null;\n    this.assignArgumentType = null;\n    this.lookupReturnType = null;\n    this.lookupFunctionArgumentTypes = null;\n    this.lookupFunctionArgumentBitRatio = null;\n    this.triggerImplyArgumentType = null;\n    this.triggerImplyArgumentBitRatio = null;\n    this.onNestedFunction = null;\n    this.onFunctionCall = null;\n    this.optimizeFloatMemory = null;\n    this.precision = null;\n    this.loopMaxIterations = null;\n    this.argumentNames = (typeof this.source === 'string' ? utils.getArgumentNamesFromString(this.source) : null);\n    this.argumentTypes = [];\n    this.argumentSizes = [];\n    this.argumentBitRatios = null;\n    this.returnType = null;\n    this.output = [];\n    this.plugins = null;\n    this.leadingReturnStatement = null;\n    this.followingReturnStatement = null;\n    this.dynamicOutput = null;\n    this.dynamicArguments = null;\n    this.strictTypingChecking = false;\n    this.fixIntegerDivisionAccuracy = null;\n\n    if (settings) {\n      for (const p in settings) {\n        if (!settings.hasOwnProperty(p)) continue;\n        if (!this.hasOwnProperty(p)) continue;\n        this[p] = settings[p];\n      }\n    }\n\n    this.literalTypes = {};\n\n    this.validate();\n    this._string = null;\n    this._internalVariableNames = {};\n  }\n\n  validate() {\n    if (typeof this.source !== 'string' && !this.ast) {\n      throw new Error('this.source not a string');\n    }\n\n    if (!this.ast && !utils.isFunctionString(this.source)) {\n      throw new Error('this.source not a function string');\n    }\n\n    if (!this.name) {\n      throw new Error('this.name could not be set');\n    }\n\n    if (this.argumentTypes.length > 0 && this.argumentTypes.length !== this.argumentNames.length) {\n      throw new Error(`argumentTypes count of ${ this.argumentTypes.length } exceeds ${ this.argumentNames.length }`);\n    }\n\n    if (this.output.length < 1) {\n      throw new Error('this.output is not big enough');\n    }\n  }\n\n  isIdentifierConstant(name) {\n    if (!this.constants) return false;\n    return this.constants.hasOwnProperty(name);\n  }\n\n  isInput(argumentName) {\n    return this.argumentTypes[this.argumentNames.indexOf(argumentName)] === 'Input';\n  }\n\n  pushState(state) {\n    this.states.push(state);\n  }\n\n  popState(state) {\n    if (this.state !== state) {\n      throw new Error(`Cannot popState ${ state } when in ${ this.state }`);\n    }\n    this.states.pop();\n  }\n\n  isState(state) {\n    return this.state === state;\n  }\n\n  get state() {\n    return this.states[this.states.length - 1];\n  }\n\n  astMemberExpressionUnroll(ast) {\n    if (ast.type === 'Identifier') {\n      return ast.name;\n    } else if (ast.type === 'ThisExpression') {\n      return 'this';\n    }\n\n    if (ast.type === 'MemberExpression') {\n      if (ast.object && ast.property) {\n        if (ast.object.hasOwnProperty('name') && ast.object.name !== 'Math') {\n          return this.astMemberExpressionUnroll(ast.property);\n        }\n\n        return (\n          this.astMemberExpressionUnroll(ast.object) +\n          '.' +\n          this.astMemberExpressionUnroll(ast.property)\n        );\n      }\n    }\n\n    if (ast.hasOwnProperty('expressions')) {\n      const firstExpression = ast.expressions[0];\n      if (firstExpression.type === 'Literal' && firstExpression.value === 0 && ast.expressions.length === 2) {\n        return this.astMemberExpressionUnroll(ast.expressions[1]);\n      }\n    }\n\n    throw this.astErrorOutput('Unknown astMemberExpressionUnroll', ast);\n  }\n\n  getJsAST(inParser) {\n    if (this.ast) {\n      return this.ast;\n    }\n    if (typeof this.source === 'object') {\n      this.traceFunctionAST(this.source);\n      return this.ast = this.source;\n    }\n\n    inParser = inParser || acorn;\n    if (inParser === null) {\n      throw new Error('Missing JS to AST parser');\n    }\n\n    const ast = Object.freeze(inParser.parse(`const parser_${ this.name } = ${ this.source };`, {\n      locations: true\n    }));\n    const functionAST = ast.body[0].declarations[0].init;\n    this.traceFunctionAST(functionAST);\n\n    if (!ast) {\n      throw new Error('Failed to parse JS code');\n    }\n\n    return this.ast = functionAST;\n  }\n\n  traceFunctionAST(ast) {\n    const { contexts, declarations, functions, identifiers, functionCalls } = new FunctionTracer(ast);\n    this.contexts = contexts;\n    this.identifiers = identifiers;\n    this.functionCalls = functionCalls;\n    this.functions = functions;\n    for (let i = 0; i < declarations.length; i++) {\n      const declaration = declarations[i];\n      const { ast, inForLoopInit, inForLoopTest } = declaration;\n      const { init } = ast;\n      const dependencies = this.getDependencies(init);\n      let valueType = null;\n\n      if (inForLoopInit && inForLoopTest) {\n        valueType = 'Integer';\n      } else {\n        if (init) {\n          const realType = this.getType(init);\n          switch (realType) {\n            case 'Integer':\n            case 'Float':\n            case 'Number':\n              if (init.type === 'MemberExpression') {\n                valueType = realType;\n              } else {\n                valueType = 'Number';\n              }\n              break;\n            case 'LiteralInteger':\n              valueType = 'Number';\n              break;\n            default:\n              valueType = realType;\n          }\n        }\n      }\n      declaration.valueType = valueType;\n      declaration.dependencies = dependencies;\n      declaration.isSafe = this.isSafeDependencies(dependencies);\n    }\n\n    for (let i = 0; i < functions.length; i++) {\n      this.onNestedFunction(functions[i], this.source);\n    }\n  }\n\n  getDeclaration(ast) {\n    for (let i = 0; i < this.identifiers.length; i++) {\n      const identifier = this.identifiers[i];\n      if (ast === identifier.ast) {\n        return identifier.declaration;\n      }\n    }\n    return null;\n  }\n\n  getVariableType(ast) {\n    if (ast.type !== 'Identifier') {\n      throw new Error(`ast of ${ast.type} not \"Identifier\"`);\n    }\n    let type = null;\n    const argumentIndex = this.argumentNames.indexOf(ast.name);\n    if (argumentIndex === -1) {\n      const declaration = this.getDeclaration(ast);\n      if (declaration) {\n        return declaration.valueType;\n      }\n    } else {\n      const argumentType = this.argumentTypes[argumentIndex];\n      if (argumentType) {\n        type = argumentType;\n      }\n    }\n    if (!type && this.strictTypingChecking) {\n      throw new Error(`Declaration of ${name} not found`);\n    }\n    return type;\n  }\n\n  getLookupType(type) {\n    if (!typeLookupMap.hasOwnProperty(type)) {\n      throw new Error(`unknown typeLookupMap ${ type }`);\n    }\n    return typeLookupMap[type];\n  }\n\n  getConstantType(constantName) {\n    if (this.constantTypes[constantName]) {\n      const type = this.constantTypes[constantName];\n      if (type === 'Float') {\n        return 'Number';\n      } else {\n        return type;\n      }\n    }\n    throw new Error(`Type for constant \"${ constantName }\" not declared`);\n  }\n\n  toString() {\n    if (this._string) return this._string;\n    return this._string = this.astGeneric(this.getJsAST(), []).join('').trim();\n  }\n\n  toJSON() {\n    const settings = {\n      source: this.source,\n      name: this.name,\n      constants: this.constants,\n      constantTypes: this.constantTypes,\n      isRootKernel: this.isRootKernel,\n      isSubKernel: this.isSubKernel,\n      debug: this.debug,\n      output: this.output,\n      loopMaxIterations: this.loopMaxIterations,\n      argumentNames: this.argumentNames,\n      argumentTypes: this.argumentTypes,\n      argumentSizes: this.argumentSizes,\n      returnType: this.returnType,\n      leadingReturnStatement: this.leadingReturnStatement,\n      followingReturnStatement: this.followingReturnStatement,\n    };\n\n    return {\n      ast: this.ast,\n      settings\n    };\n  }\n\n  getType(ast) {\n    if (Array.isArray(ast)) {\n      return this.getType(ast[ast.length - 1]);\n    }\n    switch (ast.type) {\n      case 'BlockStatement':\n        return this.getType(ast.body);\n      case 'ArrayExpression':\n        const childType = this.getType(ast.elements[0]);\n        switch (childType) {\n          case 'Array(2)':\n          case 'Array(3)':\n          case 'Array(4)':\n            return `Matrix(${ast.elements.length})`;\n        }\n        return `Array(${ ast.elements.length })`;\n      case 'Literal':\n        const literalKey = this.astKey(ast);\n        if (this.literalTypes[literalKey]) {\n          return this.literalTypes[literalKey];\n        }\n        if (Number.isInteger(ast.value)) {\n          return 'LiteralInteger';\n        } else if (ast.value === true || ast.value === false) {\n          return 'Boolean';\n        } else {\n          return 'Number';\n        }\n        case 'AssignmentExpression':\n          return this.getType(ast.left);\n        case 'CallExpression':\n          if (this.isAstMathFunction(ast)) {\n            return 'Number';\n          }\n          if (!ast.callee || !ast.callee.name) {\n            if (ast.callee.type === 'SequenceExpression' && ast.callee.expressions[ast.callee.expressions.length - 1].property.name) {\n              const functionName = ast.callee.expressions[ast.callee.expressions.length - 1].property.name;\n              this.inferArgumentTypesIfNeeded(functionName, ast.arguments);\n              return this.lookupReturnType(functionName, ast, this);\n            }\n            if (this.getVariableSignature(ast.callee, true) === 'this.color') {\n              return null;\n            }\n            if (ast.callee.type === 'MemberExpression' && ast.callee.object && ast.callee.property && ast.callee.property.name && ast.arguments) {\n              const functionName = ast.callee.property.name;\n              this.inferArgumentTypesIfNeeded(functionName, ast.arguments);\n              return this.lookupReturnType(functionName, ast, this);\n            }\n            throw this.astErrorOutput('Unknown call expression', ast);\n          }\n          if (ast.callee && ast.callee.name) {\n            const functionName = ast.callee.name;\n            this.inferArgumentTypesIfNeeded(functionName, ast.arguments);\n            return this.lookupReturnType(functionName, ast, this);\n          }\n          throw this.astErrorOutput(`Unhandled getType Type \"${ ast.type }\"`, ast);\n        case 'LogicalExpression':\n          return 'Boolean';\n        case 'BinaryExpression':\n          switch (ast.operator) {\n            case '%':\n            case '/':\n              if (this.fixIntegerDivisionAccuracy) {\n                return 'Number';\n              } else {\n                break;\n              }\n              case '>':\n              case '<':\n                return 'Boolean';\n              case '&':\n              case '|':\n              case '^':\n              case '<<':\n              case '>>':\n              case '>>>':\n                return 'Integer';\n          }\n          const type = this.getType(ast.left);\n          if (this.isState('skip-literal-correction')) return type;\n          if (type === 'LiteralInteger') {\n            const rightType = this.getType(ast.right);\n            if (rightType === 'LiteralInteger') {\n              if (ast.left.value % 1 === 0) {\n                return 'Integer';\n              } else {\n                return 'Float';\n              }\n            }\n            return rightType;\n          }\n          return typeLookupMap[type] || type;\n        case 'UpdateExpression':\n          return this.getType(ast.argument);\n        case 'UnaryExpression':\n          if (ast.operator === '~') {\n            return 'Integer';\n          }\n          return this.getType(ast.argument);\n        case 'VariableDeclaration': {\n          const declarations = ast.declarations;\n          let lastType;\n          for (let i = 0; i < declarations.length; i++) {\n            const declaration = declarations[i];\n            lastType = this.getType(declaration);\n          }\n          if (!lastType) {\n            throw this.astErrorOutput(`Unable to find type for declaration`, ast);\n          }\n          return lastType;\n        }\n        case 'VariableDeclarator':\n          const declaration = this.getDeclaration(ast.id);\n          if (!declaration) {\n            throw this.astErrorOutput(`Unable to find declarator`, ast);\n          }\n\n          if (!declaration.valueType) {\n            throw this.astErrorOutput(`Unable to find declarator valueType`, ast);\n          }\n\n          return declaration.valueType;\n        case 'Identifier':\n          if (ast.name === 'Infinity') {\n            return 'Number';\n          }\n          if (this.isAstVariable(ast)) {\n            const signature = this.getVariableSignature(ast);\n            if (signature === 'value') {\n              return this.getCheckVariableType(ast);\n            }\n          }\n          const origin = this.findIdentifierOrigin(ast);\n          if (origin && origin.init) {\n            return this.getType(origin.init);\n          }\n          return null;\n        case 'ReturnStatement':\n          return this.getType(ast.argument);\n        case 'MemberExpression':\n          if (this.isAstMathFunction(ast)) {\n            switch (ast.property.name) {\n              case 'ceil':\n                return 'Integer';\n              case 'floor':\n                return 'Integer';\n              case 'round':\n                return 'Integer';\n            }\n            return 'Number';\n          }\n          if (this.isAstVariable(ast)) {\n            const variableSignature = this.getVariableSignature(ast);\n            switch (variableSignature) {\n              case 'value[]':\n                return this.getLookupType(this.getCheckVariableType(ast.object));\n              case 'value[][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object));\n              case 'value[][][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object.object));\n              case 'value[][][][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object.object.object));\n              case 'value.thread.value':\n              case 'this.thread.value':\n                return 'Integer';\n              case 'this.output.value':\n                return this.dynamicOutput ? 'Integer' : 'LiteralInteger';\n              case 'this.constants.value':\n                return this.getConstantType(ast.property.name);\n              case 'this.constants.value[]':\n                return this.getLookupType(this.getConstantType(ast.object.property.name));\n              case 'this.constants.value[][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.property.name));\n              case 'this.constants.value[][][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.object.property.name));\n              case 'this.constants.value[][][][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.object.object.property.name));\n              case 'fn()[]':\n              case 'fn()[][]':\n              case 'fn()[][][]':\n                return this.getLookupType(this.getType(ast.object));\n              case 'value.value':\n                if (this.isAstMathVariable(ast)) {\n                  return 'Number';\n                }\n                switch (ast.property.name) {\n                  case 'r':\n                  case 'g':\n                  case 'b':\n                  case 'a':\n                    return this.getLookupType(this.getCheckVariableType(ast.object));\n                }\n                case '[][]':\n                  return 'Number';\n            }\n            throw this.astErrorOutput('Unhandled getType MemberExpression', ast);\n          }\n          throw this.astErrorOutput('Unhandled getType MemberExpression', ast);\n        case 'ConditionalExpression':\n          return this.getType(ast.consequent);\n        case 'FunctionDeclaration':\n        case 'FunctionExpression':\n          const lastReturn = this.findLastReturn(ast.body);\n          if (lastReturn) {\n            return this.getType(lastReturn);\n          }\n          return null;\n        case 'IfStatement':\n          return this.getType(ast.consequent);\n        case 'SequenceExpression':\n          return this.getType(ast.expressions[ast.expressions.length - 1]);\n        default:\n          throw this.astErrorOutput(`Unhandled getType Type \"${ ast.type }\"`, ast);\n    }\n  }\n\n  getCheckVariableType(ast) {\n    const type = this.getVariableType(ast);\n    if (!type) {\n      throw this.astErrorOutput(`${ast.type} is not defined`, ast);\n    }\n    return type;\n  }\n\n  inferArgumentTypesIfNeeded(functionName, args) {\n    for (let i = 0; i < args.length; i++) {\n      if (!this.needsArgumentType(functionName, i)) continue;\n      const type = this.getType(args[i]);\n      if (!type) {\n        throw this.astErrorOutput(`Unable to infer argument ${i}`, args[i]);\n      }\n      this.assignArgumentType(functionName, i, type);\n    }\n  }\n\n  isAstMathVariable(ast) {\n    const mathProperties = [\n      'E',\n      'PI',\n      'SQRT2',\n      'SQRT1_2',\n      'LN2',\n      'LN10',\n      'LOG2E',\n      'LOG10E',\n    ];\n    return ast.type === 'MemberExpression' &&\n      ast.object && ast.object.type === 'Identifier' &&\n      ast.object.name === 'Math' &&\n      ast.property &&\n      ast.property.type === 'Identifier' &&\n      mathProperties.indexOf(ast.property.name) > -1;\n  }\n\n  isAstMathFunction(ast) {\n    const mathFunctions = [\n      'abs',\n      'acos',\n      'acosh',\n      'asin',\n      'asinh',\n      'atan',\n      'atan2',\n      'atanh',\n      'cbrt',\n      'ceil',\n      'clz32',\n      'cos',\n      'cosh',\n      'expm1',\n      'exp',\n      'floor',\n      'fround',\n      'imul',\n      'log',\n      'log2',\n      'log10',\n      'log1p',\n      'max',\n      'min',\n      'pow',\n      'random',\n      'round',\n      'sign',\n      'sin',\n      'sinh',\n      'sqrt',\n      'tan',\n      'tanh',\n      'trunc',\n    ];\n    return ast.type === 'CallExpression' &&\n      ast.callee &&\n      ast.callee.type === 'MemberExpression' &&\n      ast.callee.object &&\n      ast.callee.object.type === 'Identifier' &&\n      ast.callee.object.name === 'Math' &&\n      ast.callee.property &&\n      ast.callee.property.type === 'Identifier' &&\n      mathFunctions.indexOf(ast.callee.property.name) > -1;\n  }\n\n  isAstVariable(ast) {\n    return ast.type === 'Identifier' || ast.type === 'MemberExpression';\n  }\n\n  isSafe(ast) {\n    return this.isSafeDependencies(this.getDependencies(ast));\n  }\n\n  isSafeDependencies(dependencies) {\n    return dependencies && dependencies.every ? dependencies.every(dependency => dependency.isSafe) : true;\n  }\n\n  getDependencies(ast, dependencies, isNotSafe) {\n    if (!dependencies) {\n      dependencies = [];\n    }\n    if (!ast) return null;\n    if (Array.isArray(ast)) {\n      for (let i = 0; i < ast.length; i++) {\n        this.getDependencies(ast[i], dependencies, isNotSafe);\n      }\n      return dependencies;\n    }\n    switch (ast.type) {\n      case 'AssignmentExpression':\n        this.getDependencies(ast.left, dependencies, isNotSafe);\n        this.getDependencies(ast.right, dependencies, isNotSafe);\n        return dependencies;\n      case 'ConditionalExpression':\n        this.getDependencies(ast.test, dependencies, isNotSafe);\n        this.getDependencies(ast.alternate, dependencies, isNotSafe);\n        this.getDependencies(ast.consequent, dependencies, isNotSafe);\n        return dependencies;\n      case 'Literal':\n        dependencies.push({\n          origin: 'literal',\n          value: ast.value,\n          isSafe: isNotSafe === true ? false : ast.value > -Infinity && ast.value < Infinity && !isNaN(ast.value)\n        });\n        break;\n      case 'VariableDeclarator':\n        return this.getDependencies(ast.init, dependencies, isNotSafe);\n      case 'Identifier':\n        const declaration = this.getDeclaration(ast);\n        if (declaration) {\n          dependencies.push({\n            name: ast.name,\n            origin: 'declaration',\n            isSafe: isNotSafe ? false : this.isSafeDependencies(declaration.dependencies),\n          });\n        } else if (this.argumentNames.indexOf(ast.name) > -1) {\n          dependencies.push({\n            name: ast.name,\n            origin: 'argument',\n            isSafe: false,\n          });\n        } else if (this.strictTypingChecking) {\n          throw new Error(`Cannot find identifier origin \"${ast.name}\"`);\n        }\n        break;\n      case 'FunctionDeclaration':\n        return this.getDependencies(ast.body.body[ast.body.body.length - 1], dependencies, isNotSafe);\n      case 'ReturnStatement':\n        return this.getDependencies(ast.argument, dependencies);\n      case 'BinaryExpression':\n      case 'LogicalExpression':\n        isNotSafe = (ast.operator === '/' || ast.operator === '*');\n        this.getDependencies(ast.left, dependencies, isNotSafe);\n        this.getDependencies(ast.right, dependencies, isNotSafe);\n        return dependencies;\n      case 'UnaryExpression':\n      case 'UpdateExpression':\n        return this.getDependencies(ast.argument, dependencies, isNotSafe);\n      case 'VariableDeclaration':\n        return this.getDependencies(ast.declarations, dependencies, isNotSafe);\n      case 'ArrayExpression':\n        dependencies.push({\n          origin: 'declaration',\n          isSafe: true,\n        });\n        return dependencies;\n      case 'CallExpression':\n        dependencies.push({\n          origin: 'function',\n          isSafe: true,\n        });\n        return dependencies;\n      case 'MemberExpression':\n        const details = this.getMemberExpressionDetails(ast);\n        switch (details.signature) {\n          case 'value[]':\n            this.getDependencies(ast.object, dependencies, isNotSafe);\n            break;\n          case 'value[][]':\n            this.getDependencies(ast.object.object, dependencies, isNotSafe);\n            break;\n          case 'value[][][]':\n            this.getDependencies(ast.object.object.object, dependencies, isNotSafe);\n            break;\n          case 'this.output.value':\n            if (this.dynamicOutput) {\n              dependencies.push({\n                name: details.name,\n                origin: 'output',\n                isSafe: false,\n              });\n            }\n            break;\n        }\n        if (details) {\n          if (details.property) {\n            this.getDependencies(details.property, dependencies, isNotSafe);\n          }\n          if (details.xProperty) {\n            this.getDependencies(details.xProperty, dependencies, isNotSafe);\n          }\n          if (details.yProperty) {\n            this.getDependencies(details.yProperty, dependencies, isNotSafe);\n          }\n          if (details.zProperty) {\n            this.getDependencies(details.zProperty, dependencies, isNotSafe);\n          }\n          return dependencies;\n        }\n        case 'SequenceExpression':\n          return this.getDependencies(ast.expressions, dependencies, isNotSafe);\n        default:\n          throw this.astErrorOutput(`Unhandled type ${ ast.type } in getDependencies`, ast);\n    }\n    return dependencies;\n  }\n\n  getVariableSignature(ast, returnRawValue) {\n    if (!this.isAstVariable(ast)) {\n      throw new Error(`ast of type \"${ ast.type }\" is not a variable signature`);\n    }\n    if (ast.type === 'Identifier') {\n      return 'value';\n    }\n    const signature = [];\n    while (true) {\n      if (!ast) break;\n      if (ast.computed) {\n        signature.push('[]');\n      } else if (ast.type === 'ThisExpression') {\n        signature.unshift('this');\n      } else if (ast.property && ast.property.name) {\n        if (\n          ast.property.name === 'x' ||\n          ast.property.name === 'y' ||\n          ast.property.name === 'z'\n        ) {\n          signature.unshift(returnRawValue ? '.' + ast.property.name : '.value');\n        } else if (\n          ast.property.name === 'constants' ||\n          ast.property.name === 'thread' ||\n          ast.property.name === 'output'\n        ) {\n          signature.unshift('.' + ast.property.name);\n        } else {\n          signature.unshift(returnRawValue ? '.' + ast.property.name : '.value');\n        }\n      } else if (ast.name) {\n        signature.unshift(returnRawValue ? ast.name : 'value');\n      } else if (ast.callee && ast.callee.name) {\n        signature.unshift(returnRawValue ? ast.callee.name + '()' : 'fn()');\n      } else if (ast.elements) {\n        signature.unshift('[]');\n      } else {\n        signature.unshift('unknown');\n      }\n      ast = ast.object;\n    }\n\n    const signatureString = signature.join('');\n    if (returnRawValue) {\n      return signatureString;\n    }\n\n    const allowedExpressions = [\n      'value',\n      'value[]',\n      'value[][]',\n      'value[][][]',\n      'value[][][][]',\n      'value.value',\n      'value.thread.value',\n      'this.thread.value',\n      'this.output.value',\n      'this.constants.value',\n      'this.constants.value[]',\n      'this.constants.value[][]',\n      'this.constants.value[][][]',\n      'this.constants.value[][][][]',\n      'fn()[]',\n      'fn()[][]',\n      'fn()[][][]',\n      '[][]',\n    ];\n    if (allowedExpressions.indexOf(signatureString) > -1) {\n      return signatureString;\n    }\n    return null;\n  }\n\n  build() {\n    return this.toString().length > 0;\n  }\n\n  astGeneric(ast, retArr) {\n    if (ast === null) {\n      throw this.astErrorOutput('NULL ast', ast);\n    } else {\n      if (Array.isArray(ast)) {\n        for (let i = 0; i < ast.length; i++) {\n          this.astGeneric(ast[i], retArr);\n        }\n        return retArr;\n      }\n\n      switch (ast.type) {\n        case 'FunctionDeclaration':\n          return this.astFunctionDeclaration(ast, retArr);\n        case 'FunctionExpression':\n          return this.astFunctionExpression(ast, retArr);\n        case 'ReturnStatement':\n          return this.astReturnStatement(ast, retArr);\n        case 'Literal':\n          return this.astLiteral(ast, retArr);\n        case 'BinaryExpression':\n          return this.astBinaryExpression(ast, retArr);\n        case 'Identifier':\n          return this.astIdentifierExpression(ast, retArr);\n        case 'AssignmentExpression':\n          return this.astAssignmentExpression(ast, retArr);\n        case 'ExpressionStatement':\n          return this.astExpressionStatement(ast, retArr);\n        case 'EmptyStatement':\n          return this.astEmptyStatement(ast, retArr);\n        case 'BlockStatement':\n          return this.astBlockStatement(ast, retArr);\n        case 'IfStatement':\n          return this.astIfStatement(ast, retArr);\n        case 'SwitchStatement':\n          return this.astSwitchStatement(ast, retArr);\n        case 'BreakStatement':\n          return this.astBreakStatement(ast, retArr);\n        case 'ContinueStatement':\n          return this.astContinueStatement(ast, retArr);\n        case 'ForStatement':\n          return this.astForStatement(ast, retArr);\n        case 'WhileStatement':\n          return this.astWhileStatement(ast, retArr);\n        case 'DoWhileStatement':\n          return this.astDoWhileStatement(ast, retArr);\n        case 'VariableDeclaration':\n          return this.astVariableDeclaration(ast, retArr);\n        case 'VariableDeclarator':\n          return this.astVariableDeclarator(ast, retArr);\n        case 'ThisExpression':\n          return this.astThisExpression(ast, retArr);\n        case 'SequenceExpression':\n          return this.astSequenceExpression(ast, retArr);\n        case 'UnaryExpression':\n          return this.astUnaryExpression(ast, retArr);\n        case 'UpdateExpression':\n          return this.astUpdateExpression(ast, retArr);\n        case 'LogicalExpression':\n          return this.astLogicalExpression(ast, retArr);\n        case 'MemberExpression':\n          return this.astMemberExpression(ast, retArr);\n        case 'CallExpression':\n          return this.astCallExpression(ast, retArr);\n        case 'ArrayExpression':\n          return this.astArrayExpression(ast, retArr);\n        case 'DebuggerStatement':\n          return this.astDebuggerStatement(ast, retArr);\n        case 'ConditionalExpression':\n          return this.astConditionalExpression(ast, retArr);\n      }\n\n      throw this.astErrorOutput('Unknown ast type : ' + ast.type, ast);\n    }\n  }\n  astErrorOutput(error, ast) {\n    if (typeof this.source !== 'string') {\n      return new Error(error);\n    }\n\n    const debugString = utils.getAstString(this.source, ast);\n    const leadingSource = this.source.substr(ast.start);\n    const splitLines = leadingSource.split(/\\n/);\n    const lineBefore = splitLines.length > 0 ? splitLines[splitLines.length - 1] : 0;\n    return new Error(`${error} on line ${ splitLines.length }, position ${ lineBefore.length }:\\n ${ debugString }`);\n  }\n\n  astDebuggerStatement(arrNode, retArr) {\n    return retArr;\n  }\n\n  astConditionalExpression(ast, retArr) {\n    if (ast.type !== 'ConditionalExpression') {\n      throw this.astErrorOutput('Not a conditional expression', ast);\n    }\n    retArr.push('(');\n    this.astGeneric(ast.test, retArr);\n    retArr.push('?');\n    this.astGeneric(ast.consequent, retArr);\n    retArr.push(':');\n    this.astGeneric(ast.alternate, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astFunction(ast, retArr) {\n    throw new Error(`\"astFunction\" not defined on ${ this.constructor.name }`);\n  }\n\n  astFunctionDeclaration(ast, retArr) {\n    if (this.isChildFunction(ast)) {\n      return retArr;\n    }\n    return this.astFunction(ast, retArr);\n  }\n  astFunctionExpression(ast, retArr) {\n    if (this.isChildFunction(ast)) {\n      return retArr;\n    }\n    return this.astFunction(ast, retArr);\n  }\n  isChildFunction(ast) {\n    for (let i = 0; i < this.functions.length; i++) {\n      if (this.functions[i] === ast) {\n        return true;\n      }\n    }\n    return false;\n  }\n  astReturnStatement(ast, retArr) {\n    return retArr;\n  }\n  astLiteral(ast, retArr) {\n    this.literalTypes[this.astKey(ast)] = 'Number';\n    return retArr;\n  }\n  astBinaryExpression(ast, retArr) {\n    return retArr;\n  }\n  astIdentifierExpression(ast, retArr) {\n    return retArr;\n  }\n  astAssignmentExpression(ast, retArr) {\n    return retArr;\n  }\n  astExpressionStatement(esNode, retArr) {\n    this.astGeneric(esNode.expression, retArr);\n    retArr.push(';');\n    return retArr;\n  }\n  astEmptyStatement(eNode, retArr) {\n    return retArr;\n  }\n  astBlockStatement(ast, retArr) {\n    return retArr;\n  }\n  astIfStatement(ast, retArr) {\n    return retArr;\n  }\n  astSwitchStatement(ast, retArr) {\n    return retArr;\n  }\n  astBreakStatement(brNode, retArr) {\n    retArr.push('break;');\n    return retArr;\n  }\n  astContinueStatement(crNode, retArr) {\n    retArr.push('continue;\\n');\n    return retArr;\n  }\n  astForStatement(ast, retArr) {\n    return retArr;\n  }\n  astWhileStatement(ast, retArr) {\n    return retArr;\n  }\n  astDoWhileStatement(ast, retArr) {\n    return retArr;\n  }\n  astVariableDeclarator(iVarDecNode, retArr) {\n    this.astGeneric(iVarDecNode.id, retArr);\n    if (iVarDecNode.init !== null) {\n      retArr.push('=');\n      this.astGeneric(iVarDecNode.init, retArr);\n    }\n    return retArr;\n  }\n  astThisExpression(ast, retArr) {\n    return retArr;\n  }\n  astSequenceExpression(sNode, retArr) {\n    const { expressions } = sNode;\n    const sequenceResult = [];\n    for (let i = 0; i < expressions.length; i++) {\n      const expression = expressions[i];\n      const expressionResult = [];\n      this.astGeneric(expression, expressionResult);\n      sequenceResult.push(expressionResult.join(''));\n    }\n    if (sequenceResult.length > 1) {\n      retArr.push('(', sequenceResult.join(','), ')');\n    } else {\n      retArr.push(sequenceResult[0]);\n    }\n    return retArr;\n  }\n  astUnaryExpression(uNode, retArr) {\n    const unaryResult = this.checkAndUpconvertBitwiseUnary(uNode, retArr);\n    if (unaryResult) {\n      return retArr;\n    }\n\n    if (uNode.prefix) {\n      retArr.push(uNode.operator);\n      this.astGeneric(uNode.argument, retArr);\n    } else {\n      this.astGeneric(uNode.argument, retArr);\n      retArr.push(uNode.operator);\n    }\n\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseUnary(uNode, retArr) {}\n\n  astUpdateExpression(uNode, retArr) {\n    if (uNode.prefix) {\n      retArr.push(uNode.operator);\n      this.astGeneric(uNode.argument, retArr);\n    } else {\n      this.astGeneric(uNode.argument, retArr);\n      retArr.push(uNode.operator);\n    }\n\n    return retArr;\n  }\n  astLogicalExpression(logNode, retArr) {\n    retArr.push('(');\n    this.astGeneric(logNode.left, retArr);\n    retArr.push(logNode.operator);\n    this.astGeneric(logNode.right, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n  astMemberExpression(ast, retArr) {\n    return retArr;\n  }\n  astCallExpression(ast, retArr) {\n    return retArr;\n  }\n  astArrayExpression(ast, retArr) {\n    return retArr;\n  }\n\n  getMemberExpressionDetails(ast) {\n    if (ast.type !== 'MemberExpression') {\n      throw this.astErrorOutput(`Expression ${ ast.type } not a MemberExpression`, ast);\n    }\n    let name = null;\n    let type = null;\n    const variableSignature = this.getVariableSignature(ast);\n    switch (variableSignature) {\n      case 'value':\n        return null;\n      case 'value.thread.value':\n      case 'this.thread.value':\n      case 'this.output.value':\n        return {\n          signature: variableSignature,\n            type: 'Integer',\n            name: ast.property.name\n        };\n      case 'value[]':\n        if (typeof ast.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object),\n            xProperty: ast.property\n        };\n      case 'value[][]':\n        if (typeof ast.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object),\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value[][][]':\n        if (typeof ast.object.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object.object),\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value[][][][]':\n        if (typeof ast.object.object.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object.object.object),\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value.value':\n        if (typeof ast.property.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        if (this.isAstMathVariable(ast)) {\n          name = ast.property.name;\n          return {\n            name,\n            origin: 'Math',\n            type: 'Number',\n            signature: variableSignature,\n          };\n        }\n        switch (ast.property.name) {\n          case 'r':\n          case 'g':\n          case 'b':\n          case 'a':\n            name = ast.object.name;\n            return {\n              name,\n              property: ast.property.name,\n                origin: 'user',\n                signature: variableSignature,\n                type: 'Number'\n            };\n          default:\n            throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        case 'this.constants.value':\n          if (typeof ast.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n              signature: variableSignature,\n          };\n        case 'this.constants.value[]':\n          if (typeof ast.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n              signature: variableSignature,\n              xProperty: ast.property,\n          };\n        case 'this.constants.value[][]': {\n          if (typeof ast.object.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n            signature: variableSignature,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n          };\n        }\n        case 'this.constants.value[][][]': {\n          if (typeof ast.object.object.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.object.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n            signature: variableSignature,\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n          };\n        }\n        case 'fn()[]':\n        case 'fn()[][]':\n        case '[][]':\n          return {\n            signature: variableSignature,\n              property: ast.property,\n          };\n        default:\n          throw this.astErrorOutput('Unexpected expression', ast);\n    }\n  }\n\n  findIdentifierOrigin(astToFind) {\n    const stack = [this.ast];\n\n    while (stack.length > 0) {\n      const atNode = stack[0];\n      if (atNode.type === 'VariableDeclarator' && atNode.id && atNode.id.name && atNode.id.name === astToFind.name) {\n        return atNode;\n      }\n      stack.shift();\n      if (atNode.argument) {\n        stack.push(atNode.argument);\n      } else if (atNode.body) {\n        stack.push(atNode.body);\n      } else if (atNode.declarations) {\n        stack.push(atNode.declarations);\n      } else if (Array.isArray(atNode)) {\n        for (let i = 0; i < atNode.length; i++) {\n          stack.push(atNode[i]);\n        }\n      }\n    }\n    return null;\n  }\n\n  findLastReturn(ast) {\n    const stack = [ast || this.ast];\n\n    while (stack.length > 0) {\n      const atNode = stack.pop();\n      if (atNode.type === 'ReturnStatement') {\n        return atNode;\n      }\n      if (atNode.type === 'FunctionDeclaration') {\n        continue;\n      }\n      if (atNode.argument) {\n        stack.push(atNode.argument);\n      } else if (atNode.body) {\n        stack.push(atNode.body);\n      } else if (atNode.declarations) {\n        stack.push(atNode.declarations);\n      } else if (Array.isArray(atNode)) {\n        for (let i = 0; i < atNode.length; i++) {\n          stack.push(atNode[i]);\n        }\n      } else if (atNode.consequent) {\n        stack.push(atNode.consequent);\n      } else if (atNode.cases) {\n        stack.push(atNode.cases);\n      }\n    }\n    return null;\n  }\n\n  getInternalVariableName(name) {\n    if (!this._internalVariableNames.hasOwnProperty(name)) {\n      this._internalVariableNames[name] = 0;\n    }\n    this._internalVariableNames[name]++;\n    if (this._internalVariableNames[name] === 1) {\n      return name;\n    }\n    return name + this._internalVariableNames[name];\n  }\n\n  astKey(ast, separator = ',') {\n    if (!ast.start || !ast.end) throw new Error('AST start and end needed');\n    return `${ast.start}${separator}${ast.end}`;\n  }\n}\n\nconst typeLookupMap = {\n  'Number': 'Number',\n  'Float': 'Float',\n  'Integer': 'Integer',\n  'Array': 'Number',\n  'Array(2)': 'Number',\n  'Array(3)': 'Number',\n  'Array(4)': 'Number',\n  'Matrix(2)': 'Number',\n  'Matrix(3)': 'Number',\n  'Matrix(4)': 'Number',\n  'Array2D': 'Number',\n  'Array3D': 'Number',\n  'Input': 'Number',\n  'HTMLCanvas': 'Array(4)',\n  'HTMLImage': 'Array(4)',\n  'HTMLVideo': 'Array(4)',\n  'HTMLImageArray': 'Array(4)',\n  'NumberTexture': 'Number',\n  'MemoryOptimizedNumberTexture': 'Number',\n  'Array1D(2)': 'Array(2)',\n  'Array1D(3)': 'Array(3)',\n  'Array1D(4)': 'Array(4)',\n  'Array2D(2)': 'Array(2)',\n  'Array2D(3)': 'Array(3)',\n  'Array2D(4)': 'Array(4)',\n  'Array3D(2)': 'Array(2)',\n  'Array3D(3)': 'Array(3)',\n  'Array3D(4)': 'Array(4)',\n  'ArrayTexture(1)': 'Number',\n  'ArrayTexture(2)': 'Array(2)',\n  'ArrayTexture(3)': 'Array(3)',\n  'ArrayTexture(4)': 'Array(4)',\n};\n\nmodule.exports = {\n  FunctionNode\n};\n},{\"../utils\":114,\"./function-tracer\":11,\"acorn\":1}],11:[function(require,module,exports){\nconst { utils } = require('../utils');\n\nfunction last(array) {\n  return array.length > 0 ? array[array.length - 1] : null;\n}\n\nconst states = {\n  trackIdentifiers: 'trackIdentifiers',\n  memberExpression: 'memberExpression',\n  inForLoopInit: 'inForLoopInit'\n};\n\nclass FunctionTracer {\n  constructor(ast) {\n    this.runningContexts = [];\n    this.functionContexts = [];\n    this.contexts = [];\n    this.functionCalls = [];\n    this.declarations = [];\n    this.identifiers = [];\n    this.functions = [];\n    this.returnStatements = [];\n    this.trackedIdentifiers = null;\n    this.states = [];\n    this.newFunctionContext();\n    this.scan(ast);\n  }\n\n  isState(state) {\n    return this.states[this.states.length - 1] === state;\n  }\n\n  hasState(state) {\n    return this.states.indexOf(state) > -1;\n  }\n\n  pushState(state) {\n    this.states.push(state);\n  }\n\n  popState(state) {\n    if (this.isState(state)) {\n      this.states.pop();\n    } else {\n      throw new Error(`Cannot pop the non-active state \"${state}\"`);\n    }\n  }\n\n  get currentFunctionContext() {\n    return last(this.functionContexts);\n  }\n\n  get currentContext() {\n    return last(this.runningContexts);\n  }\n\n  newFunctionContext() {\n    const newContext = { '@contextType': 'function' };\n    this.contexts.push(newContext);\n    this.functionContexts.push(newContext);\n  }\n\n  newContext(run) {\n    const newContext = Object.assign({ '@contextType': 'const/let' }, this.currentContext);\n    this.contexts.push(newContext);\n    this.runningContexts.push(newContext);\n    run();\n    const { currentFunctionContext } = this;\n    for (const p in currentFunctionContext) {\n      if (!currentFunctionContext.hasOwnProperty(p) || newContext.hasOwnProperty(p)) continue;\n      newContext[p] = currentFunctionContext[p];\n    }\n    this.runningContexts.pop();\n    return newContext;\n  }\n\n  useFunctionContext(run) {\n    const functionContext = last(this.functionContexts);\n    this.runningContexts.push(functionContext);\n    run();\n    this.runningContexts.pop();\n  }\n\n  getIdentifiers(run) {\n    const trackedIdentifiers = this.trackedIdentifiers = [];\n    this.pushState(states.trackIdentifiers);\n    run();\n    this.trackedIdentifiers = null;\n    this.popState(states.trackIdentifiers);\n    return trackedIdentifiers;\n  }\n\n  getDeclaration(name) {\n    const { currentContext, currentFunctionContext, runningContexts } = this;\n    const declaration = currentContext[name] || currentFunctionContext[name] || null;\n\n    if (\n      !declaration &&\n      currentContext === currentFunctionContext &&\n      runningContexts.length > 0\n    ) {\n      const previousRunningContext = runningContexts[runningContexts.length - 2];\n      if (previousRunningContext[name]) {\n        return previousRunningContext[name];\n      }\n    }\n\n    return declaration;\n  }\n\n  scan(ast) {\n    if (!ast) return;\n    if (Array.isArray(ast)) {\n      for (let i = 0; i < ast.length; i++) {\n        this.scan(ast[i]);\n      }\n      return;\n    }\n    switch (ast.type) {\n      case 'Program':\n        this.useFunctionContext(() => {\n          this.scan(ast.body);\n        });\n        break;\n      case 'BlockStatement':\n        this.newContext(() => {\n          this.scan(ast.body);\n        });\n        break;\n      case 'AssignmentExpression':\n      case 'LogicalExpression':\n        this.scan(ast.left);\n        this.scan(ast.right);\n        break;\n      case 'BinaryExpression':\n        this.scan(ast.left);\n        this.scan(ast.right);\n        break;\n      case 'UpdateExpression':\n        if (ast.operator === '++') {\n          const declaration = this.getDeclaration(ast.argument.name);\n          if (declaration) {\n            declaration.suggestedType = 'Integer';\n          }\n        }\n        this.scan(ast.argument);\n        break;\n      case 'UnaryExpression':\n        this.scan(ast.argument);\n        break;\n      case 'VariableDeclaration':\n        if (ast.kind === 'var') {\n          this.useFunctionContext(() => {\n            ast.declarations = utils.normalizeDeclarations(ast);\n            this.scan(ast.declarations);\n          });\n        } else {\n          ast.declarations = utils.normalizeDeclarations(ast);\n          this.scan(ast.declarations);\n        }\n        break;\n      case 'VariableDeclarator': {\n        const { currentContext } = this;\n        const inForLoopInit = this.hasState(states.inForLoopInit);\n        const declaration = {\n          ast: ast,\n          context: currentContext,\n          name: ast.id.name,\n          origin: 'declaration',\n          inForLoopInit,\n          inForLoopTest: null,\n          assignable: currentContext === this.currentFunctionContext || (!inForLoopInit && !currentContext.hasOwnProperty(ast.id.name)),\n          suggestedType: null,\n          valueType: null,\n          dependencies: null,\n          isSafe: null,\n        };\n        if (!currentContext[ast.id.name]) {\n          currentContext[ast.id.name] = declaration;\n        }\n        this.declarations.push(declaration);\n        this.scan(ast.id);\n        this.scan(ast.init);\n        break;\n      }\n      case 'FunctionExpression':\n      case 'FunctionDeclaration':\n        if (this.runningContexts.length === 0) {\n          this.scan(ast.body);\n        } else {\n          this.functions.push(ast);\n        }\n        break;\n      case 'IfStatement':\n        this.scan(ast.test);\n        this.scan(ast.consequent);\n        if (ast.alternate) this.scan(ast.alternate);\n        break;\n      case 'ForStatement': {\n        let testIdentifiers;\n        const context = this.newContext(() => {\n          this.pushState(states.inForLoopInit);\n          this.scan(ast.init);\n          this.popState(states.inForLoopInit);\n\n          testIdentifiers = this.getIdentifiers(() => {\n            this.scan(ast.test);\n          });\n\n          this.scan(ast.update);\n          this.newContext(() => {\n            this.scan(ast.body);\n          });\n        });\n\n        if (testIdentifiers) {\n          for (const p in context) {\n            if (p === '@contextType') continue;\n            if (testIdentifiers.indexOf(p) > -1) {\n              context[p].inForLoopTest = true;\n            }\n          }\n        }\n        break;\n      }\n      case 'DoWhileStatement':\n      case 'WhileStatement':\n        this.newContext(() => {\n          this.scan(ast.body);\n          this.scan(ast.test);\n        });\n        break;\n      case 'Identifier': {\n        if (this.isState(states.trackIdentifiers)) {\n          this.trackedIdentifiers.push(ast.name);\n        }\n        this.identifiers.push({\n          context: this.currentContext,\n          declaration: this.getDeclaration(ast.name),\n          ast,\n        });\n        break;\n      }\n      case 'ReturnStatement':\n        this.returnStatements.push(ast);\n        this.scan(ast.argument);\n        break;\n      case 'MemberExpression':\n        this.pushState(states.memberExpression);\n        this.scan(ast.object);\n        this.scan(ast.property);\n        this.popState(states.memberExpression);\n        break;\n      case 'ExpressionStatement':\n        this.scan(ast.expression);\n        break;\n      case 'SequenceExpression':\n        this.scan(ast.expressions);\n        break;\n      case 'CallExpression':\n        this.functionCalls.push({\n          context: this.currentContext,\n          ast,\n        });\n        this.scan(ast.arguments);\n        break;\n      case 'ArrayExpression':\n        this.scan(ast.elements);\n        break;\n      case 'ConditionalExpression':\n        this.scan(ast.test);\n        this.scan(ast.alternate);\n        this.scan(ast.consequent);\n        break;\n      case 'SwitchStatement':\n        this.scan(ast.discriminant);\n        this.scan(ast.cases);\n        break;\n      case 'SwitchCase':\n        this.scan(ast.test);\n        this.scan(ast.consequent);\n        break;\n\n      case 'ThisExpression':\n      case 'Literal':\n      case 'DebuggerStatement':\n      case 'EmptyStatement':\n      case 'BreakStatement':\n      case 'ContinueStatement':\n        break;\n      default:\n        throw new Error(`unhandled type \"${ast.type}\"`);\n    }\n  }\n}\n\nmodule.exports = {\n  FunctionTracer,\n};\n},{\"../utils\":114}],12:[function(require,module,exports){\nconst { glWiretap } = require('gl-wiretap');\nconst { utils } = require('../../utils');\n\nfunction toStringWithoutUtils(fn) {\n  return fn.toString()\n    .replace('=>', '')\n    .replace(/^function /, '')\n    .replace(/utils[.]/g, '/*utils.*/');\n}\n\nfunction glKernelString(Kernel, args, originKernel, setupContextString, destroyContextString) {\n  if (!originKernel.built) {\n    originKernel.build.apply(originKernel, args);\n  }\n  args = args ? Array.from(args).map(arg => {\n    switch (typeof arg) {\n      case 'boolean':\n        return new Boolean(arg);\n      case 'number':\n        return new Number(arg);\n      default:\n        return arg;\n    }\n  }) : null;\n  const uploadedValues = [];\n  const postResult = [];\n  const context = glWiretap(originKernel.context, {\n    useTrackablePrimitives: true,\n    onReadPixels: (targetName) => {\n      if (kernel.subKernels) {\n        if (!subKernelsResultVariableSetup) {\n          postResult.push(`    const result = { result: ${getRenderString(targetName, kernel)} };`);\n          subKernelsResultVariableSetup = true;\n        } else {\n          const property = kernel.subKernels[subKernelsResultIndex++].property;\n          postResult.push(`    result${isNaN(property) ? '.' + property : `[${property}]`} = ${getRenderString(targetName, kernel)};`);\n        }\n        if (subKernelsResultIndex === kernel.subKernels.length) {\n          postResult.push('    return result;');\n        }\n        return;\n      }\n      if (targetName) {\n        postResult.push(`    return ${getRenderString(targetName, kernel)};`);\n      } else {\n        postResult.push(`    return null;`);\n      }\n    },\n    onUnrecognizedArgumentLookup: (argument) => {\n      const argumentName = findKernelValue(argument, kernel.kernelArguments, [], context, uploadedValues);\n      if (argumentName) {\n        return argumentName;\n      }\n      const constantName = findKernelValue(argument, kernel.kernelConstants, constants ? Object.keys(constants).map(key => constants[key]) : [], context, uploadedValues);\n      if (constantName) {\n        return constantName;\n      }\n      return null;\n    }\n  });\n  let subKernelsResultVariableSetup = false;\n  let subKernelsResultIndex = 0;\n  const {\n    source,\n    canvas,\n    output,\n    pipeline,\n    graphical,\n    loopMaxIterations,\n    constants,\n    optimizeFloatMemory,\n    precision,\n    fixIntegerDivisionAccuracy,\n    functions,\n    nativeFunctions,\n    subKernels,\n    immutable,\n    argumentTypes,\n    constantTypes,\n    kernelArguments,\n    kernelConstants,\n    tactic,\n  } = originKernel;\n  const kernel = new Kernel(source, {\n    canvas,\n    context,\n    checkContext: false,\n    output,\n    pipeline,\n    graphical,\n    loopMaxIterations,\n    constants,\n    optimizeFloatMemory,\n    precision,\n    fixIntegerDivisionAccuracy,\n    functions,\n    nativeFunctions,\n    subKernels,\n    immutable,\n    argumentTypes,\n    constantTypes,\n    tactic,\n  });\n  let result = [];\n  context.setIndent(2);\n  kernel.build.apply(kernel, args);\n  result.push(context.toString());\n  context.reset();\n\n  kernel.kernelArguments.forEach((kernelArgument, i) => {\n    switch (kernelArgument.type) {\n      case 'Integer':\n      case 'Boolean':\n      case 'Number':\n      case 'Float':\n      case 'Array':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'HTMLCanvas':\n      case 'HTMLImage':\n      case 'HTMLVideo':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, kernelArgument.uploadValue);\n        break;\n      case 'HTMLImageArray':\n        for (let imageIndex = 0; imageIndex < args[i].length; imageIndex++) {\n          const arg = args[i];\n          context.insertVariable(`uploadValue_${kernelArgument.name}[${imageIndex}]`, arg[imageIndex]);\n        }\n        break;\n      case 'Input':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, kernelArgument.uploadValue);\n        break;\n      case 'MemoryOptimizedNumberTexture':\n      case 'NumberTexture':\n      case 'Array1D(2)':\n      case 'Array1D(3)':\n      case 'Array1D(4)':\n      case 'Array2D(2)':\n      case 'Array2D(3)':\n      case 'Array2D(4)':\n      case 'Array3D(2)':\n      case 'Array3D(3)':\n      case 'Array3D(4)':\n      case 'ArrayTexture(1)':\n      case 'ArrayTexture(2)':\n      case 'ArrayTexture(3)':\n      case 'ArrayTexture(4)':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, args[i].texture);\n        break;\n      default:\n        throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${kernelArgument.type}`);\n    }\n  });\n  result.push('/** start of injected functions **/');\n  result.push(`function ${toStringWithoutUtils(utils.flattenTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten2dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten3dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten4dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.isArray)}`);\n  if (kernel.renderOutput !== kernel.renderTexture && kernel.formatValues) {\n    result.push(\n      `  const renderOutput = function ${toStringWithoutUtils(kernel.formatValues)};`\n    );\n  }\n  result.push('/** end of injected functions **/');\n  result.push(`  const innerKernel = function (${kernel.kernelArguments.map(kernelArgument => kernelArgument.varName).join(', ')}) {`);\n  context.setIndent(4);\n  kernel.run.apply(kernel, args);\n  if (kernel.renderKernels) {\n    kernel.renderKernels();\n  } else if (kernel.renderOutput) {\n    kernel.renderOutput();\n  }\n  result.push('    /** start setup uploads for kernel values **/');\n  kernel.kernelArguments.forEach(kernelArgument => {\n    result.push('    ' + kernelArgument.getStringValueHandler().split('\\n').join('\\n    '));\n  });\n  result.push('    /** end setup uploads for kernel values **/');\n  result.push(context.toString());\n  if (kernel.renderOutput === kernel.renderTexture) {\n    context.reset();\n    const framebufferName = context.getContextVariableName(kernel.framebuffer);\n    if (kernel.renderKernels) {\n      const results = kernel.renderKernels();\n      const textureName = context.getContextVariableName(kernel.texture.texture);\n      result.push(`    return {\n      result: {\n        texture: ${ textureName },\n        type: '${ results.result.type }',\n        toArray: ${ getToArrayString(results.result, textureName, framebufferName) }\n      },`);\n      const { subKernels, mappedTextures } = kernel;\n      for (let i = 0; i < subKernels.length; i++) {\n        const texture = mappedTextures[i];\n        const subKernel = subKernels[i];\n        const subKernelResult = results[subKernel.property];\n        const subKernelTextureName = context.getContextVariableName(texture.texture);\n        result.push(`\n      ${subKernel.property}: {\n        texture: ${ subKernelTextureName },\n        type: '${ subKernelResult.type }',\n        toArray: ${ getToArrayString(subKernelResult, subKernelTextureName, framebufferName) }\n      },`);\n      }\n      result.push(`    };`);\n    } else {\n      const rendered = kernel.renderOutput();\n      const textureName = context.getContextVariableName(kernel.texture.texture);\n      result.push(`    return {\n        texture: ${ textureName },\n        type: '${ rendered.type }',\n        toArray: ${ getToArrayString(rendered, textureName, framebufferName) }\n      };`);\n    }\n  }\n  result.push(`    ${destroyContextString ? '\\n' + destroyContextString + '    ': ''}`);\n  result.push(postResult.join('\\n'));\n  result.push('  };');\n  if (kernel.graphical) {\n    result.push(getGetPixelsString(kernel));\n    result.push(`  innerKernel.getPixels = getPixels;`);\n  }\n  result.push('  return innerKernel;');\n\n  let constantsUpload = [];\n  kernelConstants.forEach((kernelConstant) => {\n    constantsUpload.push(`${kernelConstant.getStringValueHandler()}`);\n  });\n  return `function kernel(settings) {\n  const { context, constants } = settings;\n  ${constantsUpload.join('')}\n  ${setupContextString ? setupContextString : ''}\n${result.join('\\n')}\n}`;\n}\n\nfunction getRenderString(targetName, kernel) {\n  const readBackValue = kernel.precision === 'single' ? targetName : `new Float32Array(${targetName}.buffer)`;\n  if (kernel.output[2]) {\n    return `renderOutput(${readBackValue}, ${kernel.output[0]}, ${kernel.output[1]}, ${kernel.output[2]})`;\n  }\n  if (kernel.output[1]) {\n    return `renderOutput(${readBackValue}, ${kernel.output[0]}, ${kernel.output[1]})`;\n  }\n\n  return `renderOutput(${readBackValue}, ${kernel.output[0]})`;\n}\n\nfunction getGetPixelsString(kernel) {\n  const getPixels = kernel.getPixels.toString();\n  const useFunctionKeyword = !/^function/.test(getPixels);\n  return utils.flattenFunctionToString(`${useFunctionKeyword ? 'function ' : ''}${ getPixels }`, {\n    findDependency: (object, name) => {\n      if (object === 'utils') {\n        return `const ${name} = ${utils[name].toString()};`;\n      }\n      return null;\n    },\n    thisLookup: (property) => {\n      if (property === 'context') {\n        return null;\n      }\n      if (kernel.hasOwnProperty(property)) {\n        return JSON.stringify(kernel[property]);\n      }\n      throw new Error(`unhandled thisLookup ${ property }`);\n    }\n  });\n}\n\nfunction getToArrayString(kernelResult, textureName, framebufferName) {\n  const toArray = kernelResult.toArray.toString();\n  const useFunctionKeyword = !/^function/.test(toArray);\n  const flattenedFunctions = utils.flattenFunctionToString(`${useFunctionKeyword ? 'function ' : ''}${ toArray }`, {\n    findDependency: (object, name) => {\n      if (object === 'utils') {\n        return `const ${name} = ${utils[name].toString()};`;\n      } else if (object === 'this') {\n        if (name === 'framebuffer') {\n          return '';\n        }\n        return `${useFunctionKeyword ? 'function ' : ''}${kernelResult[name].toString()}`;\n      } else {\n        throw new Error('unhandled fromObject');\n      }\n    },\n    thisLookup: (property, isDeclaration) => {\n      if (property === 'texture') {\n        return textureName;\n      }\n      if (property === 'context') {\n        if (isDeclaration) return null;\n        return 'gl';\n      }\n      if (kernelResult.hasOwnProperty(property)) {\n        return JSON.stringify(kernelResult[property]);\n      }\n      throw new Error(`unhandled thisLookup ${ property }`);\n    }\n  });\n  return `() => {\n  function framebuffer() { return ${framebufferName}; };\n  ${flattenedFunctions}\n  return toArray();\n  }`;\n}\n\nfunction findKernelValue(argument, kernelValues, values, context, uploadedValues) {\n  if (argument === null) return null;\n  if (kernelValues === null) return null;\n  switch (typeof argument) {\n    case 'boolean':\n    case 'number':\n      return null;\n  }\n  if (\n    typeof HTMLImageElement !== 'undefined' &&\n    argument instanceof HTMLImageElement\n  ) {\n    for (let i = 0; i < kernelValues.length; i++) {\n      const kernelValue = kernelValues[i];\n      if (kernelValue.type !== 'HTMLImageArray' && kernelValue) continue;\n      if (kernelValue.uploadValue !== argument) continue;\n      const variableIndex = values[i].indexOf(argument);\n      if (variableIndex === -1) continue;\n      const variableName = `uploadValue_${kernelValue.name}[${variableIndex}]`;\n      context.insertVariable(variableName, argument);\n      return variableName;\n    }\n  }\n\n  for (let i = 0; i < kernelValues.length; i++) {\n    const kernelValue = kernelValues[i];\n    if (argument !== kernelValue.uploadValue) continue;\n    const variable = `uploadValue_${kernelValue.name}`;\n    context.insertVariable(variable, kernelValue);\n    return variable;\n  }\n  return null;\n}\n\nmodule.exports = {\n  glKernelString\n};\n},{\"../../utils\":114,\"gl-wiretap\":3}],13:[function(require,module,exports){\nconst { Kernel } = require('../kernel');\nconst { utils } = require('../../utils');\nconst { GLTextureArray2Float } = require('./texture/array-2-float');\nconst { GLTextureArray2Float2D } = require('./texture/array-2-float-2d');\nconst { GLTextureArray2Float3D } = require('./texture/array-2-float-3d');\nconst { GLTextureArray3Float } = require('./texture/array-3-float');\nconst { GLTextureArray3Float2D } = require('./texture/array-3-float-2d');\nconst { GLTextureArray3Float3D } = require('./texture/array-3-float-3d');\nconst { GLTextureArray4Float } = require('./texture/array-4-float');\nconst { GLTextureArray4Float2D } = require('./texture/array-4-float-2d');\nconst { GLTextureArray4Float3D } = require('./texture/array-4-float-3d');\nconst { GLTextureFloat } = require('./texture/float');\nconst { GLTextureFloat2D } = require('./texture/float-2d');\nconst { GLTextureFloat3D } = require('./texture/float-3d');\nconst { GLTextureMemoryOptimized } = require('./texture/memory-optimized');\nconst { GLTextureMemoryOptimized2D } = require('./texture/memory-optimized-2d');\nconst { GLTextureMemoryOptimized3D } = require('./texture/memory-optimized-3d');\nconst { GLTextureUnsigned } = require('./texture/unsigned');\nconst { GLTextureUnsigned2D } = require('./texture/unsigned-2d');\nconst { GLTextureUnsigned3D } = require('./texture/unsigned-3d');\nconst { GLTextureGraphical } = require('./texture/graphical');\n\nclass GLKernel extends Kernel {\n  static get mode() {\n    return 'gpu';\n  }\n\n  static getIsFloatRead() {\n    const kernelString = `function kernelFunction() {\n      return 1;\n    }`;\n    const kernel = new this(kernelString, {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [1],\n      precision: 'single',\n      returnType: 'Number',\n      tactic: 'speed',\n    });\n    kernel.build();\n    kernel.run();\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return result[0] === 1;\n  }\n\n  static getIsIntegerDivisionAccurate() {\n    function kernelFunction(v1, v2) {\n      return v1[this.thread.x] / v2[this.thread.x];\n    }\n    const kernel = new this(kernelFunction.toString(), {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [2],\n      returnType: 'Number',\n      precision: 'unsigned',\n      tactic: 'speed',\n    });\n    const args = [\n      [6, 6030401],\n      [3, 3991]\n    ];\n    kernel.build.apply(kernel, args);\n    kernel.run.apply(kernel, args);\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return result[0] === 2 && result[1] === 1511;\n  }\n\n  static getIsSpeedTacticSupported() {\n    function kernelFunction(value) {\n      return value[this.thread.x];\n    }\n    const kernel = new this(kernelFunction.toString(), {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [4],\n      returnType: 'Number',\n      precision: 'unsigned',\n      tactic: 'speed',\n    });\n    const args = [\n      [0, 1, 2, 3]\n    ];\n    kernel.build.apply(kernel, args);\n    kernel.run.apply(kernel, args);\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return Math.round(result[0]) === 0 && Math.round(result[1]) === 1 && Math.round(result[2]) === 2 && Math.round(result[3]) === 3;\n  }\n\n  static get testCanvas() {\n    throw new Error(`\"testCanvas\" not defined on ${ this.name }`);\n  }\n\n  static get testContext() {\n    throw new Error(`\"testContext\" not defined on ${ this.name }`);\n  }\n\n  static getFeatures() {\n    const gl = this.testContext;\n    const isDrawBuffers = this.getIsDrawBuffers();\n    return Object.freeze({\n      isFloatRead: this.getIsFloatRead(),\n      isIntegerDivisionAccurate: this.getIsIntegerDivisionAccurate(),\n      isSpeedTacticSupported: this.getIsSpeedTacticSupported(),\n      isTextureFloat: this.getIsTextureFloat(),\n      isDrawBuffers,\n      kernelMap: isDrawBuffers,\n      channelCount: this.getChannelCount(),\n      maxTextureSize: this.getMaxTextureSize(),\n      lowIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT),\n      lowFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT),\n      mediumIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT),\n      mediumFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT),\n      highIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT),\n      highFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT),\n    });\n  }\n\n  static setupFeatureChecks() {\n    throw new Error(`\"setupFeatureChecks\" not defined on ${ this.name }`);\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    return kernel.getVariablePrecisionString() + (argumentTypes.length > 0 ? ':' + argumentTypes.join(',') : '');\n  }\n\n  setFixIntegerDivisionAccuracy(fix) {\n    this.fixIntegerDivisionAccuracy = fix;\n    return this;\n  }\n\n  setPrecision(flag) {\n    this.precision = flag;\n    return this;\n  }\n\n  setFloatTextures(flag) {\n    utils.warnDeprecated('method', 'setFloatTextures', 'setOptimizeFloatMemory');\n    this.floatTextures = flag;\n    return this;\n  }\n\n  static nativeFunctionArguments(source) {\n    const argumentTypes = [];\n    const argumentNames = [];\n    const states = [];\n    const isStartingVariableName = /^[a-zA-Z_]/;\n    const isVariableChar = /[a-zA-Z_0-9]/;\n    let i = 0;\n    let argumentName = null;\n    let argumentType = null;\n    while (i < source.length) {\n      const char = source[i];\n      const nextChar = source[i + 1];\n      const state = states.length > 0 ? states[states.length - 1] : null;\n\n      if (state === 'FUNCTION_ARGUMENTS' && char === '/' && nextChar === '*') {\n        states.push('MULTI_LINE_COMMENT');\n        i += 2;\n        continue;\n      } else if (state === 'MULTI_LINE_COMMENT' && char === '*' && nextChar === '/') {\n        states.pop();\n        i += 2;\n        continue;\n      }\n\n      else if (state === 'FUNCTION_ARGUMENTS' && char === '/' && nextChar === '/') {\n        states.push('COMMENT');\n        i += 2;\n        continue;\n      } else if (state === 'COMMENT' && char === '\\n') {\n        states.pop();\n        i++;\n        continue;\n      }\n\n      else if (state === null && char === '(') {\n        states.push('FUNCTION_ARGUMENTS');\n        i++;\n        continue;\n      } else if (state === 'FUNCTION_ARGUMENTS') {\n        if (char === ')') {\n          states.pop();\n          break;\n        }\n        if (char === 'f' && nextChar === 'l' && source[i + 2] === 'o' && source[i + 3] === 'a' && source[i + 4] === 't' && source[i + 5] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'float';\n          argumentName = '';\n          i += 6;\n          continue;\n        } else if (char === 'i' && nextChar === 'n' && source[i + 2] === 't' && source[i + 3] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'int';\n          argumentName = '';\n          i += 4;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '2' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec2';\n          argumentName = '';\n          i += 5;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '3' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec3';\n          argumentName = '';\n          i += 5;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '4' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec4';\n          argumentName = '';\n          i += 5;\n          continue;\n        }\n      }\n\n      else if (state === 'DECLARE_VARIABLE') {\n        if (argumentName === '') {\n          if (char === ' ') {\n            i++;\n            continue;\n          }\n          if (!isStartingVariableName.test(char)) {\n            throw new Error('variable name is not expected string');\n          }\n        }\n        argumentName += char;\n        if (!isVariableChar.test(nextChar)) {\n          states.pop();\n          argumentNames.push(argumentName);\n          argumentTypes.push(typeMap[argumentType]);\n        }\n      }\n\n      i++;\n    }\n    if (states.length > 0) {\n      throw new Error('GLSL function was not parsable');\n    }\n    return {\n      argumentNames,\n      argumentTypes,\n    };\n  }\n\n  static nativeFunctionReturnType(source) {\n    return typeMap[source.match(/int|float|vec[2-4]/)[0]];\n  }\n\n  static combineKernels(combinedKernel, lastKernel) {\n    combinedKernel.apply(null, arguments);\n    const {\n      texSize,\n      context,\n      threadDim\n    } = lastKernel.texSize;\n    let result;\n    if (lastKernel.precision === 'single') {\n      const w = texSize[0];\n      const h = Math.ceil(texSize[1] / 4);\n      result = new Float32Array(w * h * 4 * 4);\n      context.readPixels(0, 0, w, h * 4, context.RGBA, context.FLOAT, result);\n    } else {\n      const bytes = new Uint8Array(texSize[0] * texSize[1] * 4);\n      context.readPixels(0, 0, texSize[0], texSize[1], context.RGBA, context.UNSIGNED_BYTE, bytes);\n      result = new Float32Array(bytes.buffer);\n    }\n\n    result = result.subarray(0, threadDim[0] * threadDim[1] * threadDim[2]);\n\n    if (lastKernel.output.length === 1) {\n      return result;\n    } else if (lastKernel.output.length === 2) {\n      return utils.splitArray(result, lastKernel.output[0]);\n    } else if (lastKernel.output.length === 3) {\n      const cube = utils.splitArray(result, lastKernel.output[0] * lastKernel.output[1]);\n      return cube.map(function(x) {\n        return utils.splitArray(x, lastKernel.output[0]);\n      });\n    }\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.transferValues = null;\n    this.formatValues = null;\n    this.TextureConstructor = null;\n    this.renderOutput = null;\n    this.renderRawOutput = null;\n    this.texSize = null;\n    this.translatedSource = null;\n    this.compiledFragmentShader = null;\n    this.compiledVertexShader = null;\n    this.switchingKernels = null;\n    this._textureSwitched = null;\n    this._mappedTextureSwitched = null;\n  }\n\n  checkTextureSize() {\n    const { features } = this.constructor;\n    if (this.texSize[0] > features.maxTextureSize || this.texSize[1] > features.maxTextureSize) {\n      throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${features.maxTextureSize},${features.maxTextureSize}]`);\n    }\n  }\n\n  translateSource() {\n    throw new Error(`\"translateSource\" not defined on ${this.constructor.name}`);\n  }\n\n  pickRenderStrategy(args) {\n    if (this.graphical) {\n      this.renderRawOutput = this.readPackedPixelsToUint8Array;\n      this.transferValues = (pixels) => pixels;\n      this.TextureConstructor = GLTextureGraphical;\n      return null;\n    }\n    if (this.precision === 'unsigned') {\n      this.renderRawOutput = this.readPackedPixelsToUint8Array;\n      this.transferValues = this.readPackedPixelsToFloat32Array;\n      if (this.pipeline) {\n        this.renderOutput = this.renderTexture;\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToTextures;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer':\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureUnsigned3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureUnsigned2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureUnsigned;\n              return null;\n            }\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              return this.requestFallback(args);\n        }\n      } else {\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToArrays;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer':\n            this.renderOutput = this.renderValues;\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureUnsigned3D;\n              this.formatValues = utils.erect3DPackedFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureUnsigned2D;\n              this.formatValues = utils.erect2DPackedFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureUnsigned;\n              this.formatValues = utils.erectPackedFloat;\n              return null;\n            }\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              return this.requestFallback(args);\n        }\n      }\n    } else if (this.precision === 'single') {\n      this.renderRawOutput = this.readFloatPixelsToFloat32Array;\n      this.transferValues = this.readFloatPixelsToFloat32Array;\n      if (this.pipeline) {\n        this.renderOutput = this.renderTexture;\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToTextures;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.optimizeFloatMemory) {\n              if (this.output[2] > 0) {\n                this.TextureConstructor = GLTextureMemoryOptimized3D;\n                return null;\n              } else if (this.output[1] > 0) {\n                this.TextureConstructor = GLTextureMemoryOptimized2D;\n                return null;\n              } else {\n                this.TextureConstructor = GLTextureMemoryOptimized;\n                return null;\n              }\n            } else {\n              if (this.output[2] > 0) {\n                this.TextureConstructor = GLTextureFloat3D;\n                return null;\n              } else if (this.output[1] > 0) {\n                this.TextureConstructor = GLTextureFloat2D;\n                return null;\n              } else {\n                this.TextureConstructor = GLTextureFloat;\n                return null;\n              }\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              return null;\n            }\n          }\n        }\n      }\n      this.renderOutput = this.renderValues;\n      if (this.subKernels !== null) {\n        this.renderKernels = this.renderKernelsToArrays;\n      }\n      if (this.optimizeFloatMemory) {\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureMemoryOptimized3D;\n              this.formatValues = utils.erectMemoryOptimized3DFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureMemoryOptimized2D;\n              this.formatValues = utils.erectMemoryOptimized2DFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureMemoryOptimized;\n              this.formatValues = utils.erectMemoryOptimizedFloat;\n              return null;\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              this.formatValues = utils.erect3DArray2;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              this.formatValues = utils.erect2DArray2;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              this.formatValues = utils.erectArray2;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              this.formatValues = utils.erect3DArray3;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              this.formatValues = utils.erect2DArray3;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              this.formatValues = utils.erectArray3;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              this.formatValues = utils.erect3DArray4;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              this.formatValues = utils.erect2DArray4;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              this.formatValues = utils.erectArray4;\n              return null;\n            }\n          }\n        }\n      } else {\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureFloat3D;\n              this.formatValues = utils.erect3DFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureFloat2D;\n              this.formatValues = utils.erect2DFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureFloat;\n              this.formatValues = utils.erectFloat;\n              return null;\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              this.formatValues = utils.erect3DArray2;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              this.formatValues = utils.erect2DArray2;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              this.formatValues = utils.erectArray2;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              this.formatValues = utils.erect3DArray3;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              this.formatValues = utils.erect2DArray3;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              this.formatValues = utils.erectArray3;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              this.formatValues = utils.erect3DArray4;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              this.formatValues = utils.erect2DArray4;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              this.formatValues = utils.erectArray4;\n              return null;\n            }\n          }\n        }\n      }\n    } else {\n      throw new Error(`unhandled precision of \"${this.precision}\"`);\n    }\n\n    throw new Error(`unhandled return type \"${this.returnType}\"`);\n  }\n\n  getKernelString() {\n    throw new Error(`abstract method call`);\n  }\n\n  getMainResultTexture() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Float':\n      case 'Integer':\n      case 'Number':\n        return this.getMainResultNumberTexture();\n      case 'Array(2)':\n        return this.getMainResultArray2Texture();\n      case 'Array(3)':\n        return this.getMainResultArray3Texture();\n      case 'Array(4)':\n        return this.getMainResultArray4Texture();\n      default:\n        throw new Error(`unhandled returnType type ${ this.returnType }`);\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelNumberTexture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray2Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray2Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray3Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray3Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray4Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray4Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultGraphical() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultMemoryOptimizedFloats() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultPackedPixels() {\n    throw new Error(`abstract method call`);\n  }\n\n  getMainResultString() {\n    if (this.graphical) {\n      return this.getMainResultGraphical();\n    } else if (this.precision === 'single') {\n      if (this.optimizeFloatMemory) {\n        return this.getMainResultMemoryOptimizedFloats();\n      }\n      return this.getMainResultTexture();\n    } else {\n      return this.getMainResultPackedPixels();\n    }\n  }\n\n  getMainResultNumberTexture() {\n    return utils.linesToString(this.getMainResultKernelNumberTexture()) +\n      utils.linesToString(this.getMainResultSubKernelNumberTexture());\n  }\n\n  getMainResultArray2Texture() {\n    return utils.linesToString(this.getMainResultKernelArray2Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray2Texture());\n  }\n\n  getMainResultArray3Texture() {\n    return utils.linesToString(this.getMainResultKernelArray3Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray3Texture());\n  }\n\n  getMainResultArray4Texture() {\n    return utils.linesToString(this.getMainResultKernelArray4Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray4Texture());\n  }\n\n  getFloatTacticDeclaration() {\n    const variablePrecision = this.getVariablePrecisionString(this.texSize, this.tactic);\n    return `precision ${variablePrecision} float;\\n`;\n  }\n\n  getIntTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic, true)} int;\\n`;\n  }\n\n  getSampler2DTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic)} sampler2D;\\n`;\n  }\n\n  getSampler2DArrayTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic)} sampler2DArray;\\n`;\n  }\n\n  renderTexture() {\n    return this.immutable ? this.texture.clone() : this.texture;\n  }\n  readPackedPixelsToUint8Array() {\n    if (this.precision !== 'unsigned') throw new Error('Requires this.precision to be \"unsigned\"');\n    const {\n      texSize,\n      context: gl\n    } = this;\n    const result = new Uint8Array(texSize[0] * texSize[1] * 4);\n    gl.readPixels(0, 0, texSize[0], texSize[1], gl.RGBA, gl.UNSIGNED_BYTE, result);\n    return result;\n  }\n\n  readPackedPixelsToFloat32Array() {\n    return new Float32Array(this.readPackedPixelsToUint8Array().buffer);\n  }\n\n  readFloatPixelsToFloat32Array() {\n    if (this.precision !== 'single') throw new Error('Requires this.precision to be \"single\"');\n    const {\n      texSize,\n      context: gl\n    } = this;\n    const w = texSize[0];\n    const h = texSize[1];\n    const result = new Float32Array(w * h * 4);\n    gl.readPixels(0, 0, w, h, gl.RGBA, gl.FLOAT, result);\n    return result;\n  }\n\n  getPixels(flip) {\n    const {\n      context: gl,\n      output\n    } = this;\n    const [width, height] = output;\n    const pixels = new Uint8Array(width * height * 4);\n    gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n    return new Uint8ClampedArray((flip ? pixels : utils.flipPixels(pixels, width, height)).buffer);\n  }\n\n  renderKernelsToArrays() {\n    const result = {\n      result: this.renderOutput(),\n    };\n    for (let i = 0; i < this.subKernels.length; i++) {\n      result[this.subKernels[i].property] = this.mappedTextures[i].toArray();\n    }\n    return result;\n  }\n\n  renderKernelsToTextures() {\n    const result = {\n      result: this.renderOutput(),\n    };\n    if (this.immutable) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        result[this.subKernels[i].property] = this.mappedTextures[i].clone();\n      }\n    } else {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        result[this.subKernels[i].property] = this.mappedTextures[i];\n      }\n    }\n    return result;\n  }\n\n  resetSwitchingKernels() {\n    const existingValue = this.switchingKernels;\n    this.switchingKernels = null;\n    return existingValue;\n  }\n\n  setOutput(output) {\n    const newOutput = this.toKernelOutput(output);\n    if (this.program) {\n      if (!this.dynamicOutput) {\n        throw new Error('Resizing a kernel with dynamicOutput: false is not possible');\n      }\n      const newThreadDim = [newOutput[0], newOutput[1] || 1, newOutput[2] || 1];\n      const newTexSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, newThreadDim);\n      const oldTexSize = this.texSize;\n      if (oldTexSize) {\n        const oldPrecision = this.getVariablePrecisionString(oldTexSize, this.tactic);\n        const newPrecision = this.getVariablePrecisionString(newTexSize, this.tactic);\n        if (oldPrecision !== newPrecision) {\n          if (this.debug) {\n            console.warn('Precision requirement changed, asking GPU instance to recompile');\n          }\n          this.switchKernels({\n            type: 'outputPrecisionMismatch',\n            precision: newPrecision,\n            needed: output\n          });\n          return;\n        }\n      }\n      this.output = newOutput;\n      this.threadDim = newThreadDim;\n      this.texSize = newTexSize;\n      const { context: gl } = this;\n      gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n      this.updateMaxTexSize();\n      this.framebuffer.width = this.texSize[0];\n      this.framebuffer.height = this.texSize[1];\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      this.canvas.width = this.maxTexSize[0];\n      this.canvas.height = this.maxTexSize[1];\n      if (this.texture) {\n        this.texture.delete();\n      }\n      this.texture = null;\n      this._setupOutputTexture();\n      if (this.mappedTextures && this.mappedTextures.length > 0) {\n        for (let i = 0; i < this.mappedTextures.length; i++) {\n          this.mappedTextures[i].delete();\n        }\n        this.mappedTextures = null;\n        this._setupSubOutputTextures();\n      }\n    } else {\n      this.output = newOutput;\n    }\n    return this;\n  }\n  renderValues() {\n    return this.formatValues(\n      this.transferValues(),\n      this.output[0],\n      this.output[1],\n      this.output[2]\n    );\n  }\n  switchKernels(reason) {\n    if (this.switchingKernels) {\n      this.switchingKernels.push(reason);\n    } else {\n      this.switchingKernels = [reason];\n    }\n  }\n  getVariablePrecisionString(textureSize = this.texSize, tactic = this.tactic, isInt = false) {\n    if (!tactic) {\n      if (!this.constructor.features.isSpeedTacticSupported) return 'highp';\n      const low = this.constructor.features[isInt ? 'lowIntPrecision' : 'lowFloatPrecision'];\n      const medium = this.constructor.features[isInt ? 'mediumIntPrecision' : 'mediumFloatPrecision'];\n      const high = this.constructor.features[isInt ? 'highIntPrecision' : 'highFloatPrecision'];\n      const requiredSize = Math.log2(textureSize[0] * textureSize[1]);\n      if (requiredSize <= low.rangeMax) {\n        return 'lowp';\n      } else if (requiredSize <= medium.rangeMax) {\n        return 'mediump';\n      } else if (requiredSize <= high.rangeMax) {\n        return 'highp';\n      } else {\n        throw new Error(`The required size exceeds that of the ability of your system`);\n      }\n    }\n    switch (tactic) {\n      case 'speed':\n        return 'lowp';\n      case 'balanced':\n        return 'mediump';\n      case 'precision':\n        return 'highp';\n      default:\n        throw new Error(`Unknown tactic \"${tactic}\" use \"speed\", \"balanced\", \"precision\", or empty for auto`);\n    }\n  }\n\n  updateTextureArgumentRefs(kernelValue, arg) {\n    if (!this.immutable) return;\n    if (this.texture.texture === arg.texture) {\n      const { prevArg } = kernelValue;\n      if (prevArg) {\n        if (prevArg.texture._refs === 1) {\n          this.texture.delete();\n          this.texture = prevArg.clone();\n          this._textureSwitched = true;\n        }\n        prevArg.delete();\n      }\n      kernelValue.prevArg = arg.clone();\n    } else if (this.mappedTextures && this.mappedTextures.length > 0) {\n      const { mappedTextures } = this;\n      for (let i = 0; i < mappedTextures.length; i++) {\n        const mappedTexture = mappedTextures[i];\n        if (mappedTexture.texture === arg.texture) {\n          const { prevArg } = kernelValue;\n          if (prevArg) {\n            if (prevArg.texture._refs === 1) {\n              mappedTexture.delete();\n              mappedTextures[i] = prevArg.clone();\n              this._mappedTextureSwitched[i] = true;\n            }\n            prevArg.delete();\n          }\n          kernelValue.prevArg = arg.clone();\n          return;\n        }\n      }\n    }\n  }\n\n  onActivate(previousKernel) {\n    this._textureSwitched = true;\n    this.texture = previousKernel.texture;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.mappedTextures.length; i++) {\n        this._mappedTextureSwitched[i] = true;\n      }\n      this.mappedTextures = previousKernel.mappedTextures;\n    }\n  }\n\n  initCanvas() {}\n}\n\nconst typeMap = {\n  int: 'Integer',\n  float: 'Number',\n  vec2: 'Array(2)',\n  vec3: 'Array(3)',\n  vec4: 'Array(4)',\n};\n\nmodule.exports = {\n  GLKernel\n};\n},{\"../../utils\":114,\"../kernel\":36,\"./texture/array-2-float\":16,\"./texture/array-2-float-2d\":14,\"./texture/array-2-float-3d\":15,\"./texture/array-3-float\":19,\"./texture/array-3-float-2d\":17,\"./texture/array-3-float-3d\":18,\"./texture/array-4-float\":22,\"./texture/array-4-float-2d\":20,\"./texture/array-4-float-3d\":21,\"./texture/float\":25,\"./texture/float-2d\":23,\"./texture/float-3d\":24,\"./texture/graphical\":26,\"./texture/memory-optimized\":30,\"./texture/memory-optimized-2d\":28,\"./texture/memory-optimized-3d\":29,\"./texture/unsigned\":33,\"./texture/unsigned-2d\":31,\"./texture/unsigned-3d\":32}],14:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erect2DArray2(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],15:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erect3DArray2(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],16:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erectArray2(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float\n};\n},{\"../../../utils\":114,\"./float\":25}],17:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erect2DArray3(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],18:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erect3DArray3(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],19:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erectArray3(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float\n};\n},{\"../../../utils\":114,\"./float\":25}],20:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erect2DArray4(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],21:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erect3DArray4(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],22:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erectArray4(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float\n};\n},{\"../../../utils\":114,\"./float\":25}],23:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureFloat2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  toArray() {\n    return utils.erect2DFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat2D\n};\n},{\"../../../utils\":114,\"./float\":25}],24:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureFloat3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  toArray() {\n    return utils.erect3DFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat3D\n};\n},{\"../../../utils\":114,\"./float\":25}],25:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTexture } = require('./index');\n\nclass GLTextureFloat extends GLTexture {\n  get textureType() {\n    return this.context.FLOAT;\n  }\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  renderRawOutput() {\n    const gl = this.context;\n    const size = this.size;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      this.texture,\n      0\n    );\n    const result = new Float32Array(size[0] * size[1] * 4);\n    gl.readPixels(0, 0, size[0], size[1], gl.RGBA, gl.FLOAT, result);\n    return result;\n  }\n  renderValues() {\n    if (this._deleted) return null;\n    return this.renderRawOutput();\n  }\n  toArray() {\n    return utils.erectFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat\n};\n},{\"../../../utils\":114,\"./index\":27}],26:[function(require,module,exports){\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureGraphical extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return this.renderValues();\n  }\n}\n\nmodule.exports = {\n  GLTextureGraphical\n};\n},{\"./unsigned\":33}],27:[function(require,module,exports){\nconst { Texture } = require('../../../texture');\n\nclass GLTexture extends Texture {\n  get textureType() {\n    throw new Error(`\"textureType\" not implemented on ${ this.name }`);\n  }\n\n  clone() {\n    return new this.constructor(this);\n  }\n\n  beforeMutate() {\n    if (this.texture._refs > 1) {\n      this.newTexture();\n      return true;\n    }\n    return false;\n  }\n\n  cloneTexture() {\n    this.texture._refs--;\n    const { context: gl, size, texture, kernel } = this;\n    if (kernel.debug) {\n      console.warn('cloning internal texture');\n    }\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    selectTexture(gl, texture);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    const target = gl.createTexture();\n    selectTexture(gl, target);\n    gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    gl.copyTexSubImage2D(gl.TEXTURE_2D, 0, 0, 0, 0, 0, size[0], size[1]);\n    target._refs = 1;\n    this.texture = target;\n  }\n\n  newTexture() {\n    this.texture._refs--;\n    const gl = this.context;\n    const size = this.size;\n    const kernel = this.kernel;\n    if (kernel.debug) {\n      console.warn('new internal texture');\n    }\n    const target = gl.createTexture();\n    selectTexture(gl, target);\n    gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    target._refs = 1;\n    this.texture = target;\n  }\n\n  clear() {\n    if (this.texture._refs) {\n      this.texture._refs--;\n      const gl = this.context;\n      const target = this.texture = gl.createTexture();\n      selectTexture(gl, target);\n      const size = this.size;\n      target._refs = 1;\n      gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    }\n    const { context: gl, texture } = this;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    selectTexture(gl, texture);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    gl.clearColor(0, 0, 0, 0);\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n  }\n\n  delete() {\n    if (this._deleted) return;\n    this._deleted = true;\n    if (this.texture._refs) {\n      this.texture._refs--;\n      if (this.texture._refs) return;\n    }\n    this.context.deleteTexture(this.texture);\n  }\n\n  framebuffer() {\n    if (!this._framebuffer) {\n      this._framebuffer = this.kernel.getRawValueFramebuffer(this.size[0], this.size[1]);\n    }\n    return this._framebuffer;\n  }\n}\n\nfunction selectTexture(gl, texture) {\n  gl.activeTexture(gl.TEXTURE15);\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n}\n\nmodule.exports = { GLTexture };\n},{\"../../../texture\":113}],28:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimized2DFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized2D\n};\n},{\"../../../utils\":114,\"./float\":25}],29:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimized3DFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized3D\n};\n},{\"../../../utils\":114,\"./float\":25}],30:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimizedFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized\n};\n},{\"../../../utils\":114,\"./float\":25}],31:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureUnsigned2D extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  toArray() {\n    return utils.erect2DPackedFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned2D\n};\n},{\"../../../utils\":114,\"./unsigned\":33}],32:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureUnsigned3D extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  toArray() {\n    return utils.erect3DPackedFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned3D\n};\n},{\"../../../utils\":114,\"./unsigned\":33}],33:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTexture } = require('./index');\n\nclass GLTextureUnsigned extends GLTexture {\n  get textureType() {\n    return this.context.UNSIGNED_BYTE;\n  }\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  renderRawOutput() {\n    const { context: gl } = this;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      this.texture,\n      0\n    );\n    const result = new Uint8Array(this.size[0] * this.size[1] * 4);\n    gl.readPixels(0, 0, this.size[0], this.size[1], gl.RGBA, gl.UNSIGNED_BYTE, result);\n    return result;\n  }\n  renderValues() {\n    if (this._deleted) return null;\n    return new Float32Array(this.renderRawOutput().buffer);\n  }\n  toArray() {\n    return utils.erectPackedFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned\n};\n},{\"../../../utils\":114,\"./index\":27}],34:[function(require,module,exports){\nconst getContext = require('gl');\nconst { WebGLKernel } = require('../web-gl/kernel');\nconst { glKernelString } = require('../gl/kernel-string');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\nlet features = null;\n\nclass HeadlessGLKernel extends WebGLKernel {\n  static get isSupported() {\n    if (isSupported !== null) return isSupported;\n    this.setupFeatureChecks();\n    isSupported = testContext !== null;\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    testCanvas = null;\n    testExtensions = null;\n    if (typeof getContext !== 'function') return;\n    try { \n      testContext = getContext(2, 2, {\n        preserveDrawingBuffer: true\n      });\n      if (!testContext || !testContext.getExtension) return;\n      testExtensions = {\n        STACKGL_resize_drawingbuffer: testContext.getExtension('STACKGL_resize_drawingbuffer'),\n        STACKGL_destroy_context: testContext.getExtension('STACKGL_destroy_context'),\n        OES_texture_float: testContext.getExtension('OES_texture_float'),\n        OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n        OES_element_index_uint: testContext.getExtension('OES_element_index_uint'),\n        WEBGL_draw_buffers: testContext.getExtension('WEBGL_draw_buffers'),\n        WEBGL_color_buffer_float: testContext.getExtension('WEBGL_color_buffer_float'),\n      };\n      features = this.getFeatures();\n    } catch (e) {\n      console.warn(e);\n    }\n  }\n\n  static isContextMatch(context) {\n    try {\n      return context.getParameter(context.RENDERER) === 'ANGLE';\n    } catch (e) {\n      return false;\n    }\n  }\n\n  static getIsTextureFloat() {\n    return Boolean(testExtensions.OES_texture_float);\n  }\n\n  static getIsDrawBuffers() {\n    return Boolean(testExtensions.WEBGL_draw_buffers);\n  }\n\n  static getChannelCount() {\n    return testExtensions.WEBGL_draw_buffers ?\n      testContext.getParameter(testExtensions.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL) :\n      1;\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  initCanvas() {\n    return {};\n  }\n\n  initContext() {\n    return getContext(2, 2, {\n      preserveDrawingBuffer: true\n    });\n  }\n\n  initExtensions() {\n    this.extensions = {\n      STACKGL_resize_drawingbuffer: this.context.getExtension('STACKGL_resize_drawingbuffer'),\n      STACKGL_destroy_context: this.context.getExtension('STACKGL_destroy_context'),\n      OES_texture_float: this.context.getExtension('OES_texture_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: this.context.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: this.context.getExtension('WEBGL_draw_buffers'),\n    };\n  }\n\n  build() {\n    super.build.apply(this, arguments);\n    if (!this.fallbackRequested) {\n      this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0], this.maxTexSize[1]);\n    }\n  }\n\n  destroyExtensions() {\n    this.extensions.STACKGL_resize_drawingbuffer = null;\n    this.extensions.STACKGL_destroy_context = null;\n    this.extensions.OES_texture_float = null;\n    this.extensions.OES_texture_float_linear = null;\n    this.extensions.OES_element_index_uint = null;\n    this.extensions.WEBGL_draw_buffers = null;\n  }\n\n  static destroyContext(context) {\n    const extension = context.getExtension('STACKGL_destroy_context');\n    if (extension && extension.destroy) {\n      extension.destroy();\n    }\n  }\n\n  toString() {\n    const setupContextString = `const gl = context || require('gl')(1, 1);\\n`;\n    const destroyContextString = `    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }\\n`;\n    return glKernelString(this.constructor, arguments, this, setupContextString, destroyContextString);\n  }\n\n  setOutput(output) {\n    super.setOutput(output);\n    if (this.graphical && this.extensions.STACKGL_resize_drawingbuffer) {\n      this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0], this.maxTexSize[1]);\n    }\n    return this;\n  }\n}\n\nmodule.exports = {\n  HeadlessGLKernel\n};\n},{\"../gl/kernel-string\":12,\"../web-gl/kernel\":70,\"gl\":2}],35:[function(require,module,exports){\nclass KernelValue {\n  constructor(value, settings) {\n    const {\n      name,\n      kernel,\n      context,\n      checkContext,\n      onRequestContextHandle,\n      onUpdateValueMismatch,\n      origin,\n      strictIntegers,\n      type,\n      tactic,\n    } = settings;\n    if (!name) {\n      throw new Error('name not set');\n    }\n    if (!type) {\n      throw new Error('type not set');\n    }\n    if (!origin) {\n      throw new Error('origin not set');\n    }\n    if (origin !== 'user' && origin !== 'constants') {\n      throw new Error(`origin must be \"user\" or \"constants\" value is \"${ origin }\"`);\n    }\n    if (!onRequestContextHandle) {\n      throw new Error('onRequestContextHandle is not set');\n    }\n    this.name = name;\n    this.origin = origin;\n    this.tactic = tactic;\n    this.varName = origin === 'constants' ? `constants.${name}` : name;\n    this.kernel = kernel;\n    this.strictIntegers = strictIntegers;\n    this.type = value.type || type;\n    this.size = value.size || null;\n    this.index = null;\n    this.context = context;\n    this.checkContext = checkContext !== null && checkContext !== undefined ? checkContext : true;\n    this.contextHandle = null;\n    this.onRequestContextHandle = onRequestContextHandle;\n    this.onUpdateValueMismatch = onUpdateValueMismatch;\n    this.forceUploadEachRun = null;\n  }\n\n  get id() {\n    return `${this.origin}_${name}`;\n  }\n\n  getSource() {\n    throw new Error(`\"getSource\" not defined on ${ this.constructor.name }`);\n  }\n\n  updateValue(value) {\n    throw new Error(`\"updateValue\" not defined on ${ this.constructor.name }`);\n  }\n}\n\nmodule.exports = {\n  KernelValue\n};\n},{}],36:[function(require,module,exports){\nconst { utils } = require('../utils');\nconst { Input } = require('../input');\n\nclass Kernel {\n  static get isSupported() {\n    throw new Error(`\"isSupported\" not implemented on ${ this.name }`);\n  }\n\n  static isContextMatch(context) {\n    throw new Error(`\"isContextMatch\" not implemented on ${ this.name }`);\n  }\n\n  static getFeatures() {\n    throw new Error(`\"getFeatures\" not implemented on ${ this.name }`);\n  }\n\n  static destroyContext(context) {\n    throw new Error(`\"destroyContext\" called on ${ this.name }`);\n  }\n\n  static nativeFunctionArguments() {\n    throw new Error(`\"nativeFunctionArguments\" called on ${ this.name }`);\n  }\n\n  static nativeFunctionReturnType() {\n    throw new Error(`\"nativeFunctionReturnType\" called on ${ this.name }`);\n  }\n\n  static combineKernels() {\n    throw new Error(`\"combineKernels\" called on ${ this.name }`);\n  }\n\n  constructor(source, settings) {\n    if (typeof source !== 'object') {\n      if (typeof source !== 'string') {\n        throw new Error('source not a string');\n      }\n      if (!utils.isFunctionString(source)) {\n        throw new Error('source not a function string');\n      }\n    }\n    this.useLegacyEncoder = false;\n    this.fallbackRequested = false;\n    this.onRequestFallback = null;\n\n    this.argumentNames = typeof source === 'string' ? utils.getArgumentNamesFromString(source) : null;\n    this.argumentTypes = null;\n    this.argumentSizes = null;\n    this.argumentBitRatios = null;\n    this.kernelArguments = null;\n    this.kernelConstants = null;\n    this.forceUploadKernelConstants = null;\n\n\n    this.source = source;\n\n    this.output = null;\n\n    this.debug = false;\n\n    this.graphical = false;\n\n    this.loopMaxIterations = 0;\n\n    this.constants = null;\n\n    this.constantTypes = null;\n\n    this.constantBitRatios = null;\n\n    this.dynamicArguments = false;\n\n    this.dynamicOutput = false;\n\n    this.canvas = null;\n\n    this.context = null;\n\n    this.checkContext = null;\n\n    this.gpu = null;\n\n    this.functions = null;\n\n    this.nativeFunctions = null;\n\n    this.injectedNative = null;\n\n    this.subKernels = null;\n\n    this.validate = true;\n\n    this.immutable = false;\n\n    this.pipeline = false;\n\n    this.precision = null;\n\n    this.tactic = null;\n\n    this.plugins = null;\n\n    this.returnType = null;\n    this.leadingReturnStatement = null;\n    this.followingReturnStatement = null;\n    this.optimizeFloatMemory = null;\n    this.strictIntegers = false;\n    this.fixIntegerDivisionAccuracy = null;\n    this.built = false;\n    this.signature = null;\n  }\n\n  mergeSettings(settings) {\n    for (let p in settings) {\n      if (!settings.hasOwnProperty(p) || !this.hasOwnProperty(p)) continue;\n      switch (p) {\n        case 'output':\n          if (!Array.isArray(settings.output)) {\n            this.setOutput(settings.output); \n            continue;\n          }\n          break;\n        case 'functions':\n          this.functions = [];\n          for (let i = 0; i < settings.functions.length; i++) {\n            this.addFunction(settings.functions[i]);\n          }\n          continue;\n        case 'graphical':\n          if (settings[p] && !settings.hasOwnProperty('precision')) {\n            this.precision = 'unsigned';\n          }\n          this[p] = settings[p];\n          continue;\n        case 'nativeFunctions':\n          if (!settings.nativeFunctions) continue;\n          this.nativeFunctions = [];\n          for (let i = 0; i < settings.nativeFunctions.length; i++) {\n            const s = settings.nativeFunctions[i];\n            const { name, source } = s;\n            this.addNativeFunction(name, source, s);\n          }\n          continue;\n      }\n      this[p] = settings[p];\n    }\n\n    if (!this.canvas) this.canvas = this.initCanvas();\n    if (!this.context) this.context = this.initContext();\n    if (!this.plugins) this.plugins = this.initPlugins(settings);\n  }\n  build() {\n    throw new Error(`\"build\" not defined on ${ this.constructor.name }`);\n  }\n\n  run() {\n    throw new Error(`\"run\" not defined on ${ this.constructor.name }`)\n  }\n\n  initCanvas() {\n    throw new Error(`\"initCanvas\" not defined on ${ this.constructor.name }`);\n  }\n\n  initContext() {\n    throw new Error(`\"initContext\" not defined on ${ this.constructor.name }`);\n  }\n\n  initPlugins(settings) {\n    throw new Error(`\"initPlugins\" not defined on ${ this.constructor.name }`);\n  }\n\n  addFunction(source, settings = {}) {\n    if (source.name && source.source && source.argumentTypes && 'returnType' in source) {\n      this.functions.push(source);\n    } else if ('settings' in source && 'source' in source) {\n      this.functions.push(this.functionToIGPUFunction(source.source, source.settings));\n    } else if (typeof source === 'string' || typeof source === 'function') {\n      this.functions.push(this.functionToIGPUFunction(source, settings));\n    } else {\n      throw new Error(`function not properly defined`);\n    }\n    return this;\n  }\n\n  addNativeFunction(name, source, settings = {}) {\n    const { argumentTypes, argumentNames } = settings.argumentTypes ?\n      splitArgumentTypes(settings.argumentTypes) :\n      this.constructor.nativeFunctionArguments(source) || {};\n    this.nativeFunctions.push({\n      name,\n      source,\n      settings,\n      argumentTypes,\n      argumentNames,\n      returnType: settings.returnType || this.constructor.nativeFunctionReturnType(source)\n    });\n    return this;\n  }\n\n  setupArguments(args) {\n    this.kernelArguments = [];\n    if (!this.argumentTypes) {\n      if (!this.argumentTypes) {\n        this.argumentTypes = [];\n        for (let i = 0; i < args.length; i++) {\n          const argType = utils.getVariableType(args[i], this.strictIntegers);\n          const type = argType === 'Integer' ? 'Number' : argType;\n          this.argumentTypes.push(type);\n          this.kernelArguments.push({\n            type\n          });\n        }\n      }\n    } else {\n      for (let i = 0; i < this.argumentTypes.length; i++) {\n        this.kernelArguments.push({\n          type: this.argumentTypes[i]\n        });\n      }\n    }\n\n    this.argumentSizes = new Array(args.length);\n    this.argumentBitRatios = new Int32Array(args.length);\n\n    for (let i = 0; i < args.length; i++) {\n      const arg = args[i];\n      this.argumentSizes[i] = arg.constructor === Input ? arg.size : null;\n      this.argumentBitRatios[i] = this.getBitRatio(arg);\n    }\n\n    if (this.argumentNames.length !== args.length) {\n      throw new Error(`arguments are miss-aligned`);\n    }\n  }\n\n  setupConstants() {\n    this.kernelConstants = [];\n    let needsConstantTypes = this.constantTypes === null;\n    if (needsConstantTypes) {\n      this.constantTypes = {};\n    }\n    this.constantBitRatios = {};\n    if (this.constants) {\n      for (let name in this.constants) {\n        if (needsConstantTypes) {\n          const type = utils.getVariableType(this.constants[name], this.strictIntegers);\n          this.constantTypes[name] = type;\n          this.kernelConstants.push({\n            name,\n            type\n          });\n        } else {\n          this.kernelConstants.push({\n            name,\n            type: this.constantTypes[name]\n          });\n        }\n        this.constantBitRatios[name] = this.getBitRatio(this.constants[name]);\n      }\n    }\n  }\n\n  setOptimizeFloatMemory(flag) {\n    this.optimizeFloatMemory = flag;\n    return this;\n  }\n\n  toKernelOutput(output) {\n    if (output.hasOwnProperty('x')) {\n      if (output.hasOwnProperty('y')) {\n        if (output.hasOwnProperty('z')) {\n          return [output.x, output.y, output.z];\n        } else {\n          return [output.x, output.y];\n        }\n      } else {\n        return [output.x];\n      }\n    } else {\n      return output;\n    }\n  }\n\n  setOutput(output) {\n    this.output = this.toKernelOutput(output);\n    return this;\n  }\n\n  setDebug(flag) {\n    this.debug = flag;\n    return this;\n  }\n\n  setGraphical(flag) {\n    this.graphical = flag;\n    this.precision = 'unsigned';\n    return this;\n  }\n\n  setLoopMaxIterations(max) {\n    this.loopMaxIterations = max;\n    return this;\n  }\n\n  setConstants(constants) {\n    this.constants = constants;\n    return this;\n  }\n\n  setConstantTypes(constantTypes) {\n    this.constantTypes = constantTypes;\n    return this;\n  }\n\n  setFunctions(functions) {\n    for (let i = 0; i < functions.length; i++) {\n      this.addFunction(functions[i]);\n    }\n    return this;\n  }\n\n  setNativeFunctions(nativeFunctions) {\n    for (let i = 0; i < nativeFunctions.length; i++) {\n      const settings = nativeFunctions[i];\n      const { name, source } = settings;\n      this.addNativeFunction(name, source, settings);\n    }\n    return this;\n  }\n\n  setInjectedNative(injectedNative) {\n    this.injectedNative = injectedNative;\n    return this;\n  }\n\n  setPipeline(flag) {\n    this.pipeline = flag;\n    return this;\n  }\n\n  setPrecision(flag) {\n    this.precision = flag;\n    return this;\n  }\n\n  setDimensions(flag) {\n    utils.warnDeprecated('method', 'setDimensions', 'setOutput');\n    this.output = flag;\n    return this;\n  }\n\n  setOutputToTexture(flag) {\n    utils.warnDeprecated('method', 'setOutputToTexture', 'setPipeline');\n    this.pipeline = flag;\n    return this;\n  }\n\n  setImmutable(flag) {\n    this.immutable = flag;\n    return this;\n  }\n\n  setCanvas(canvas) {\n    this.canvas = canvas;\n    return this;\n  }\n\n  setStrictIntegers(flag) {\n    this.strictIntegers = flag;\n    return this;\n  }\n\n  setDynamicOutput(flag) {\n    this.dynamicOutput = flag;\n    return this;\n  }\n\n  setHardcodeConstants(flag) {\n    utils.warnDeprecated('method', 'setHardcodeConstants');\n    this.setDynamicOutput(flag);\n    this.setDynamicArguments(flag);\n    return this;\n  }\n\n  setDynamicArguments(flag) {\n    this.dynamicArguments = flag;\n    return this;\n  }\n\n  setUseLegacyEncoder(flag) {\n    this.useLegacyEncoder = flag;\n    return this;\n  }\n\n  setWarnVarUsage(flag) {\n    utils.warnDeprecated('method', 'setWarnVarUsage');\n    return this;\n  }\n\n  getCanvas() {\n    utils.warnDeprecated('method', 'getCanvas');\n    return this.canvas;\n  }\n\n  getWebGl() {\n    utils.warnDeprecated('method', 'getWebGl');\n    return this.context;\n  }\n\n  setContext(context) {\n    this.context = context;\n    return this;\n  }\n\n  setArgumentTypes(argumentTypes) {\n    if (Array.isArray(argumentTypes)) {\n      this.argumentTypes = argumentTypes;\n    } else {\n      this.argumentTypes = [];\n      for (const p in argumentTypes) {\n        if (!argumentTypes.hasOwnProperty(p)) continue;\n        const argumentIndex = this.argumentNames.indexOf(p);\n        if (argumentIndex === -1) throw new Error(`unable to find argument ${ p }`);\n        this.argumentTypes[argumentIndex] = argumentTypes[p];\n      }\n    }\n    return this;\n  }\n\n  setTactic(tactic) {\n    this.tactic = tactic;\n    return this;\n  }\n\n  requestFallback(args) {\n    if (!this.onRequestFallback) {\n      throw new Error(`\"onRequestFallback\" not defined on ${ this.constructor.name }`);\n    }\n    this.fallbackRequested = true;\n    return this.onRequestFallback(args);\n  }\n\n  validateSettings() {\n    throw new Error(`\"validateSettings\" not defined on ${ this.constructor.name }`);\n  }\n\n  addSubKernel(subKernel) {\n    if (this.subKernels === null) {\n      this.subKernels = [];\n    }\n    if (!subKernel.source) throw new Error('subKernel missing \"source\" property');\n    if (!subKernel.property && isNaN(subKernel.property)) throw new Error('subKernel missing \"property\" property');\n    if (!subKernel.name) throw new Error('subKernel missing \"name\" property');\n    this.subKernels.push(subKernel);\n    return this;\n  }\n\n  destroy(removeCanvasReferences) {\n    throw new Error(`\"destroy\" called on ${ this.constructor.name }`);\n  }\n\n  getBitRatio(value) {\n    if (this.precision === 'single') {\n      return 4;\n    } else if (Array.isArray(value[0])) {\n      return this.getBitRatio(value[0]);\n    } else if (value.constructor === Input) {\n      return this.getBitRatio(value.value);\n    }\n    switch (value.constructor) {\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Int8Array:\n        return 1;\n      case Uint16Array:\n      case Int16Array:\n        return 2;\n      case Float32Array:\n      case Int32Array:\n      default:\n        return 4;\n    }\n  }\n\n  getPixels(flip) {\n    throw new Error(`\"getPixels\" called on ${ this.constructor.name }`);\n  }\n\n  checkOutput() {\n    if (!this.output || !utils.isArray(this.output)) throw new Error('kernel.output not an array');\n    if (this.output.length < 1) throw new Error('kernel.output is empty, needs at least 1 value');\n    for (let i = 0; i < this.output.length; i++) {\n      if (isNaN(this.output[i]) || this.output[i] < 1) {\n        throw new Error(`${ this.constructor.name }.output[${ i }] incorrectly defined as \\`${ this.output[i] }\\`, needs to be numeric, and greater than 0`);\n      }\n    }\n  }\n\n  prependString(value) {\n    throw new Error(`\"prependString\" called on ${ this.constructor.name }`);\n  }\n\n  hasPrependString(value) {\n    throw new Error(`\"hasPrependString\" called on ${ this.constructor.name }`);\n  }\n\n  toJSON() {\n    return {\n      settings: {\n        output: this.output,\n        pipeline: this.pipeline,\n        argumentNames: this.argumentNames,\n        argumentsTypes: this.argumentTypes,\n        constants: this.constants,\n        pluginNames: this.plugins ? this.plugins.map(plugin => plugin.name) : null,\n        returnType: this.returnType,\n      }\n    };\n  }\n\n  buildSignature(args) {\n    const Constructor = this.constructor;\n    this.signature = Constructor.getSignature(this, Constructor.getArgumentTypes(this, args));\n  }\n\n  static getArgumentTypes(kernel, args) {\n    const argumentTypes = new Array(args.length);\n    for (let i = 0; i < args.length; i++) {\n      const arg = args[i];\n      const type = kernel.argumentTypes[i];\n      if (arg.type) {\n        argumentTypes[i] = arg.type;\n      } else {\n        switch (type) {\n          case 'Number':\n          case 'Integer':\n          case 'Float':\n          case 'ArrayTexture(1)':\n            argumentTypes[i] = utils.getVariableType(arg);\n            break;\n          default:\n            argumentTypes[i] = type;\n        }\n      }\n    }\n    return argumentTypes;\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    throw new Error(`\"getSignature\" not implemented on ${ this.name }`);\n  }\n\n  functionToIGPUFunction(source, settings = {}) {\n    if (typeof source !== 'string' && typeof source !== 'function') throw new Error('source not a string or function');\n    const sourceString = typeof source === 'string' ? source : source.toString();\n    let argumentTypes = [];\n\n    if (Array.isArray(settings.argumentTypes)) {\n      argumentTypes = settings.argumentTypes;\n    } else if (typeof settings.argumentTypes === 'object') {\n      argumentTypes = utils.getArgumentNamesFromString(sourceString)\n        .map(name => settings.argumentTypes[name]) || [];\n    } else {\n      argumentTypes = settings.argumentTypes || [];\n    }\n\n    return {\n      name: utils.getFunctionNameFromString(sourceString) || null,\n      source: sourceString,\n      argumentTypes,\n      returnType: settings.returnType || null,\n    };\n  }\n\n  onActivate(previousKernel) {}\n}\n\nfunction splitArgumentTypes(argumentTypesObject) {\n  const argumentNames = Object.keys(argumentTypesObject);\n  const argumentTypes = [];\n  for (let i = 0; i < argumentNames.length; i++) {\n    const argumentName = argumentNames[i];\n    argumentTypes.push(argumentTypesObject[argumentName]);\n  }\n  return { argumentTypes, argumentNames };\n}\n\nmodule.exports = {\n  Kernel\n};\n},{\"../input\":110,\"../utils\":114}],37:[function(require,module,exports){\nconst fragmentShader = `__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nvarying vec2 vTexCoord;\n\nfloat acosh(float x) {\n  return log(x + sqrt(x * x - 1.0));\n}\n\nfloat sinh(float x) {\n  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;\n}\n\nfloat asinh(float x) {\n  return log(x + sqrt(x * x + 1.0));\n}\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat atanh(float x) {\n  x = (x + 1.0) / (x - 1.0);\n  if (x < 0.0) {\n    return 0.5 * log(-x);\n  }\n  return 0.5 * log(x);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat cosh(float x) {\n  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; \n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat tanh(float x) {\n  float e = exp(2.0 * x);\n  return (e - 1.0) / (e + 1.0);\n}\n\nfloat trunc(float x) {\n  if (x >= 0.0) {\n    return floor(x); \n  } else {\n    return ceil(x);\n  }\n}\n\nvec4 _round(vec4 x) {\n  return floor(x + 0.5);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x / y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY\\'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(_round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;\n  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;\n  return 0.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  if (channel == 0) return texel.r * 255.0;\n  if (channel == 1) return texel.g * 255.0;\n  if (channel == 2) return texel.b * 255.0;\n  if (channel == 3) return texel.a * 255.0;\n  return 0.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return texel.r;\n  if (channel == 1) return texel.g;\n  if (channel == 2) return texel.b;\n  if (channel == 3) return texel.a;\n  return 0.0;\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture2D(tex, st / vec2(texSize));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n  \n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nvoid color(sampler2D image) {\n  actualColor = texture2D(image, vTexCoord);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;\n\nmodule.exports = {\n  fragmentShader\n};\n},{}],38:[function(require,module,exports){\nconst { utils } = require('../../utils');\nconst { FunctionNode } = require('../function-node');\n\nclass WebGLFunctionNode extends FunctionNode {\n  constructor(source, settings) {\n    super(source, settings);\n    if (settings && settings.hasOwnProperty('fixIntegerDivisionAccuracy')) {\n      this.fixIntegerDivisionAccuracy = settings.fixIntegerDivisionAccuracy;\n    }\n  }\n\n  astConditionalExpression(ast, retArr) {\n    if (ast.type !== 'ConditionalExpression') {\n      throw this.astErrorOutput('Not a conditional expression', ast);\n    }\n    const consequentType = this.getType(ast.consequent);\n    const alternateType = this.getType(ast.alternate);\n    if (consequentType === null && alternateType === null) {\n      retArr.push('if (');\n      this.astGeneric(ast.test, retArr);\n      retArr.push(') {');\n      this.astGeneric(ast.consequent, retArr);\n      retArr.push(';');\n      retArr.push('} else {');\n      this.astGeneric(ast.alternate, retArr);\n      retArr.push(';');\n      retArr.push('}');\n      return retArr;\n    }\n    retArr.push('(');\n    this.astGeneric(ast.test, retArr);\n    retArr.push('?');\n    this.astGeneric(ast.consequent, retArr);\n    retArr.push(':');\n    this.astGeneric(ast.alternate, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astFunction(ast, retArr) {\n    if (this.isRootKernel) {\n      retArr.push('void');\n    } else {\n      if (!this.returnType) {\n        const lastReturn = this.findLastReturn();\n        if (lastReturn) {\n          this.returnType = this.getType(ast.body);\n          if (this.returnType === 'LiteralInteger') {\n            this.returnType = 'Number';\n          }\n        }\n      }\n\n      const { returnType } = this;\n      if (!returnType) {\n        retArr.push('void');\n      } else {\n        const type = typeMap[returnType];\n        if (!type) {\n          throw new Error(`unknown type ${returnType}`);\n        }\n        retArr.push(type);\n      }\n    }\n    retArr.push(' ');\n    retArr.push(this.name);\n    retArr.push('(');\n\n    if (!this.isRootKernel) {\n      for (let i = 0; i < this.argumentNames.length; ++i) {\n        const argumentName = this.argumentNames[i];\n\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        let argumentType = this.argumentTypes[this.argumentNames.indexOf(argumentName)];\n        if (!argumentType) {\n          throw this.astErrorOutput(`Unknown argument ${argumentName} type`, ast);\n        }\n        if (argumentType === 'LiteralInteger') {\n          this.argumentTypes[i] = argumentType = 'Number';\n        }\n        const type = typeMap[argumentType];\n        if (!type) {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        const name = utils.sanitizeName(argumentName);\n        if (type === 'sampler2D' || type === 'sampler2DArray') {\n          retArr.push(`${type} user_${name},ivec2 user_${name}Size,ivec3 user_${name}Dim`);\n        } else {\n          retArr.push(`${type} user_${name}`);\n        }\n      }\n    }\n\n    retArr.push(') {\\n');\n\n    for (let i = 0; i < ast.body.body.length; ++i) {\n      this.astGeneric(ast.body.body[i], retArr);\n      retArr.push('\\n');\n    }\n\n    retArr.push('}\\n');\n    return retArr;\n  }\n\n  astReturnStatement(ast, retArr) {\n    if (!ast.argument) throw this.astErrorOutput('Unexpected return statement', ast);\n    this.pushState('skip-literal-correction');\n    const type = this.getType(ast.argument);\n    this.popState('skip-literal-correction');\n\n    const result = [];\n\n    if (!this.returnType) {\n      if (type === 'LiteralInteger' || type === 'Integer') {\n        this.returnType = 'Number';\n      } else {\n        this.returnType = type;\n      }\n    }\n\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Float':\n        switch (type) {\n          case 'Integer':\n            result.push('float(');\n            this.astGeneric(ast.argument, result);\n            result.push(')');\n            break;\n          case 'LiteralInteger':\n            this.castLiteralToFloat(ast.argument, result);\n\n            if (this.getType(ast) === 'Integer') {\n              result.unshift('float(');\n              result.push(')');\n            }\n            break;\n          default:\n            this.astGeneric(ast.argument, result);\n        }\n        break;\n      case 'Integer':\n        switch (type) {\n          case 'Float':\n          case 'Number':\n            this.castValueToInteger(ast.argument, result);\n            break;\n          case 'LiteralInteger':\n            this.castLiteralToInteger(ast.argument, result);\n            break;\n          default:\n            this.astGeneric(ast.argument, result);\n        }\n        break;\n      case 'Array(4)':\n      case 'Array(3)':\n      case 'Array(2)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n      case 'Input':\n        this.astGeneric(ast.argument, result);\n        break;\n      default:\n        throw this.astErrorOutput(`unhandled return type ${this.returnType}`, ast);\n    }\n\n    if (this.isRootKernel) {\n      retArr.push(`kernelResult = ${ result.join('') };`);\n      retArr.push('return;');\n    } else if (this.isSubKernel) {\n      retArr.push(`subKernelResult_${ this.name } = ${ result.join('') };`);\n      retArr.push(`return subKernelResult_${ this.name };`);\n    } else {\n      retArr.push(`return ${ result.join('') };`);\n    }\n    return retArr;\n  }\n\n  astLiteral(ast, retArr) {\n    if (isNaN(ast.value)) {\n      throw this.astErrorOutput(\n        'Non-numeric literal not supported : ' + ast.value,\n        ast\n      );\n    }\n\n    const key = this.astKey(ast);\n    if (Number.isInteger(ast.value)) {\n      if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n        this.literalTypes[key] = 'Integer';\n        retArr.push(`${ast.value}`);\n      } else if (this.isState('casting-to-float') || this.isState('building-float')) {\n        this.literalTypes[key] = 'Number';\n        retArr.push(`${ast.value}.0`);\n      } else {\n        this.literalTypes[key] = 'Number';\n        retArr.push(`${ast.value}.0`);\n      }\n    } else if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n      this.literalTypes[key] = 'Integer';\n      retArr.push(Math.round(ast.value));\n    } else {\n      this.literalTypes[key] = 'Number';\n      retArr.push(`${ast.value}`);\n    }\n    return retArr;\n  }\n\n  astBinaryExpression(ast, retArr) {\n    if (this.checkAndUpconvertOperator(ast, retArr)) {\n      return retArr;\n    }\n\n    if (this.fixIntegerDivisionAccuracy && ast.operator === '/') {\n      retArr.push('divWithIntCheck(');\n      this.pushState('building-float');\n      switch (this.getType(ast.left)) {\n        case 'Integer':\n          this.castValueToFloat(ast.left, retArr);\n          break;\n        case 'LiteralInteger':\n          this.castLiteralToFloat(ast.left, retArr);\n          break;\n        default:\n          this.astGeneric(ast.left, retArr);\n      }\n      retArr.push(', ');\n      switch (this.getType(ast.right)) {\n        case 'Integer':\n          this.castValueToFloat(ast.right, retArr);\n          break;\n        case 'LiteralInteger':\n          this.castLiteralToFloat(ast.right, retArr);\n          break;\n        default:\n          this.astGeneric(ast.right, retArr);\n      }\n      this.popState('building-float');\n      retArr.push(')');\n      return retArr;\n    }\n\n    retArr.push('(');\n    const leftType = this.getType(ast.left) || 'Number';\n    const rightType = this.getType(ast.right) || 'Number';\n    if (!leftType || !rightType) {\n      throw this.astErrorOutput(`Unhandled binary expression`, ast);\n    }\n    const key = leftType + ' & ' + rightType;\n    switch (key) {\n      case 'Integer & Integer':\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n      case 'Number & Float':\n      case 'Float & Number':\n      case 'Float & Float':\n      case 'Number & Number':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'LiteralInteger & LiteralInteger':\n        if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n          this.pushState('building-integer');\n          this.astGeneric(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.astGeneric(ast.right, retArr);\n          this.popState('building-integer');\n        } else {\n          this.pushState('building-float');\n          this.castLiteralToFloat(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.castLiteralToFloat(ast.right, retArr);\n          this.popState('building-float');\n        }\n        break;\n\n      case 'Integer & Float':\n      case 'Integer & Number':\n        if (ast.operator === '>' || ast.operator === '<' && ast.right.type === 'Literal') {\n          if (!Number.isInteger(ast.right.value)) {\n            this.pushState('building-float');\n            this.castValueToFloat(ast.left, retArr);\n            retArr.push(operatorMap[ast.operator] || ast.operator);\n            this.astGeneric(ast.right, retArr);\n            this.popState('building-float');\n            break;\n          }\n        }\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.pushState('casting-to-integer');\n        if (ast.right.type === 'Literal') {\n          const literalResult = [];\n          this.astGeneric(ast.right, literalResult);\n          const literalType = this.getType(ast.right);\n          if (literalType === 'Integer') {\n            retArr.push(literalResult.join(''));\n          } else {\n            throw this.astErrorOutput(`Unhandled binary expression with literal`, ast);\n          }\n        } else {\n          retArr.push('int(');\n          this.astGeneric(ast.right, retArr);\n          retArr.push(')');\n        }\n        this.popState('casting-to-integer');\n        this.popState('building-integer');\n        break;\n      case 'Integer & LiteralInteger':\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castLiteralToInteger(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n\n      case 'Number & Integer':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castValueToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'Float & LiteralInteger':\n      case 'Number & LiteralInteger':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castLiteralToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'LiteralInteger & Float':\n      case 'LiteralInteger & Number':\n        if (this.isState('casting-to-integer')) {\n          this.pushState('building-integer');\n          this.castLiteralToInteger(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.castValueToInteger(ast.right, retArr);\n          this.popState('building-integer');\n        } else {\n          this.pushState('building-float');\n          this.astGeneric(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.pushState('casting-to-float');\n          this.astGeneric(ast.right, retArr);\n          this.popState('casting-to-float');\n          this.popState('building-float');\n        }\n        break;\n      case 'LiteralInteger & Integer':\n        this.pushState('building-integer');\n        this.castLiteralToInteger(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n\n      case 'Boolean & Boolean':\n        this.pushState('building-boolean');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-boolean');\n        break;\n\n      case 'Float & Integer':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castValueToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n\n      default:\n        throw this.astErrorOutput(`Unhandled binary expression between ${key}`, ast);\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  checkAndUpconvertOperator(ast, retArr) {\n    const bitwiseResult = this.checkAndUpconvertBitwiseOperators(ast, retArr);\n    if (bitwiseResult) {\n      return bitwiseResult;\n    }\n    const upconvertableOperators = {\n      '%': this.fixIntegerDivisionAccuracy ? 'integerCorrectionModulo' : 'modulo',\n      '**': 'pow',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    switch (this.getType(ast.left)) {\n      case 'Integer':\n        this.castValueToFloat(ast.left, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToFloat(ast.left, retArr);\n        break;\n      default:\n        this.astGeneric(ast.left, retArr);\n    }\n    retArr.push(',');\n    switch (this.getType(ast.right)) {\n      case 'Integer':\n        this.castValueToFloat(ast.right, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToFloat(ast.right, retArr);\n        break;\n      default:\n        this.astGeneric(ast.right, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseOperators(ast, retArr) {\n    const upconvertableOperators = {\n      '&': 'bitwiseAnd',\n      '|': 'bitwiseOr',\n      '^': 'bitwiseXOR',\n      '<<': 'bitwiseZeroFillLeftShift',\n      '>>': 'bitwiseSignedRightShift',\n      '>>>': 'bitwiseZeroFillRightShift',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    const leftType = this.getType(ast.left);\n    switch (leftType) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.left, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.left, retArr);\n        break;\n      default:\n        this.astGeneric(ast.left, retArr);\n    }\n    retArr.push(',');\n    const rightType = this.getType(ast.right);\n    switch (rightType) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.right, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.right, retArr);\n        break;\n      default:\n        this.astGeneric(ast.right, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseUnary(ast, retArr) {\n    const upconvertableOperators = {\n      '~': 'bitwiseNot',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    switch (this.getType(ast.argument)) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.argument, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.argument, retArr);\n        break;\n      default:\n        this.astGeneric(ast.argument, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  castLiteralToInteger(ast, retArr) {\n    this.pushState('casting-to-integer');\n    this.astGeneric(ast, retArr);\n    this.popState('casting-to-integer');\n    return retArr;\n  }\n\n  castLiteralToFloat(ast, retArr) {\n    this.pushState('casting-to-float');\n    this.astGeneric(ast, retArr);\n    this.popState('casting-to-float');\n    return retArr;\n  }\n\n  castValueToInteger(ast, retArr) {\n    this.pushState('casting-to-integer');\n    retArr.push('int(');\n    this.astGeneric(ast, retArr);\n    retArr.push(')');\n    this.popState('casting-to-integer');\n    return retArr;\n  }\n\n  castValueToFloat(ast, retArr) {\n    this.pushState('casting-to-float');\n    retArr.push('float(');\n    this.astGeneric(ast, retArr);\n    retArr.push(')');\n    this.popState('casting-to-float');\n    return retArr;\n  }\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput('IdentifierExpression - not an Identifier', idtNode);\n    }\n\n    const type = this.getType(idtNode);\n\n    const name = utils.sanitizeName(idtNode.name);\n    if (idtNode.name === 'Infinity') {\n      retArr.push('3.402823466e+38');\n    } else if (type === 'Boolean') {\n      if (this.argumentNames.indexOf(name) > -1) {\n        retArr.push(`bool(user_${name})`);\n      } else {\n        retArr.push(`user_${name}`);\n      }\n    } else {\n      retArr.push(`user_${name}`);\n    }\n\n    return retArr;\n  }\n\n  astForStatement(forNode, retArr) {\n    if (forNode.type !== 'ForStatement') {\n      throw this.astErrorOutput('Invalid for statement', forNode);\n    }\n\n    const initArr = [];\n    const testArr = [];\n    const updateArr = [];\n    const bodyArr = [];\n    let isSafe = null;\n\n    if (forNode.init) {\n      const { declarations } = forNode.init;\n      if (declarations.length > 1) {\n        isSafe = false;\n      }\n      this.astGeneric(forNode.init, initArr);\n      for (let i = 0; i < declarations.length; i++) {\n        if (declarations[i].init && declarations[i].init.type !== 'Literal') {\n          isSafe = false;\n        }\n      }\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.test) {\n      this.astGeneric(forNode.test, testArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.update) {\n      this.astGeneric(forNode.update, updateArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.body) {\n      this.pushState('loop-body');\n      this.astGeneric(forNode.body, bodyArr);\n      this.popState('loop-body');\n    }\n\n    if (isSafe === null) {\n      isSafe = this.isSafe(forNode.init) && this.isSafe(forNode.test);\n    }\n\n    if (isSafe) {\n      const initString = initArr.join('');\n      const initNeedsSemiColon = initString[initString.length - 1] !== ';';\n      retArr.push(`for (${initString}${initNeedsSemiColon ? ';' : ''}${testArr.join('')};${updateArr.join('')}){\\n`);\n      retArr.push(bodyArr.join(''));\n      retArr.push('}\\n');\n    } else {\n      const iVariableName = this.getInternalVariableName('safeI');\n      if (initArr.length > 0) {\n        retArr.push(initArr.join(''), '\\n');\n      }\n      retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n      if (testArr.length > 0) {\n        retArr.push(`if (!${testArr.join('')}) break;\\n`);\n      }\n      retArr.push(bodyArr.join(''));\n      retArr.push(`\\n${updateArr.join('')};`);\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astWhileStatement(whileNode, retArr) {\n    if (whileNode.type !== 'WhileStatement') {\n      throw this.astErrorOutput('Invalid while statement', whileNode);\n    }\n\n    const iVariableName = this.getInternalVariableName('safeI');\n    retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n    retArr.push('if (!');\n    this.astGeneric(whileNode.test, retArr);\n    retArr.push(') break;\\n');\n    this.astGeneric(whileNode.body, retArr);\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n  astDoWhileStatement(doWhileNode, retArr) {\n    if (doWhileNode.type !== 'DoWhileStatement') {\n      throw this.astErrorOutput('Invalid while statement', doWhileNode);\n    }\n\n    const iVariableName = this.getInternalVariableName('safeI');\n    retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n    this.astGeneric(doWhileNode.body, retArr);\n    retArr.push('if (!');\n    this.astGeneric(doWhileNode.test, retArr);\n    retArr.push(') break;\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n\n  astAssignmentExpression(assNode, retArr) {\n    if (assNode.operator === '%=') {\n      this.astGeneric(assNode.left, retArr);\n      retArr.push('=');\n      retArr.push('mod(');\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(',');\n      this.astGeneric(assNode.right, retArr);\n      retArr.push(')');\n    } else if (assNode.operator === '**=') {\n      this.astGeneric(assNode.left, retArr);\n      retArr.push('=');\n      retArr.push('pow(');\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(',');\n      this.astGeneric(assNode.right, retArr);\n      retArr.push(')');\n    } else {\n      const leftType = this.getType(assNode.left);\n      const rightType = this.getType(assNode.right);\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(assNode.operator);\n      if (leftType !== 'Integer' && rightType === 'Integer') {\n        retArr.push('float(');\n        this.astGeneric(assNode.right, retArr);\n        retArr.push(')');\n      } else {\n        this.astGeneric(assNode.right, retArr);\n      }\n      return retArr;\n    }\n  }\n\n  astBlockStatement(bNode, retArr) {\n    if (this.isState('loop-body')) {\n      this.pushState('block-body'); \n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      this.popState('block-body');\n    } else {\n      retArr.push('{\\n');\n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astVariableDeclaration(varDecNode, retArr) {\n    const declarations = varDecNode.declarations;\n    if (!declarations || !declarations[0] || !declarations[0].init) {\n      throw this.astErrorOutput('Unexpected expression', varDecNode);\n    }\n    const result = [];\n    let lastType = null;\n    const declarationSets = [];\n    let declarationSet = [];\n    for (let i = 0; i < declarations.length; i++) {\n      const declaration = declarations[i];\n      const init = declaration.init;\n      const info = this.getDeclaration(declaration.id);\n      const actualType = this.getType(declaration.init);\n      let type = actualType;\n      if (type === 'LiteralInteger') {\n        if (info.suggestedType === 'Integer') {\n          type = 'Integer';\n        } else {\n          type = 'Number';\n        }\n      }\n      const markupType = typeMap[type];\n      if (!markupType) {\n        throw this.astErrorOutput(`Markup type ${ type } not handled`, varDecNode);\n      }\n      const declarationResult = [];\n      if (actualType === 'Integer' && type === 'Integer') {\n        info.valueType = 'Number';\n        if (i === 0 || lastType === null) {\n          declarationResult.push('float ');\n        } else if (type !== lastType) {\n          throw new Error('Unhandled declaration');\n        }\n        lastType = type;\n        declarationResult.push(`user_${utils.sanitizeName(declaration.id.name)}=`);\n        declarationResult.push('float(');\n        this.astGeneric(init, declarationResult);\n        declarationResult.push(')');\n      } else {\n        info.valueType = type;\n        if (i === 0 || lastType === null) {\n          declarationResult.push(`${markupType} `);\n        } else if (type !== lastType) {\n          declarationSets.push(declarationSet.join(','));\n          declarationSet = [];\n          declarationResult.push(`${markupType} `);\n        }\n        lastType = type;\n        declarationResult.push(`user_${utils.sanitizeName(declaration.id.name)}=`);\n        if (actualType === 'Number' && type === 'Integer') {\n          if (init.left && init.left.type === 'Literal') {\n            this.astGeneric(init, declarationResult);\n          } else {\n            declarationResult.push('int(');\n            this.astGeneric(init, declarationResult);\n            declarationResult.push(')');\n          }\n        } else if (actualType === 'LiteralInteger' && type === 'Integer') {\n          this.castLiteralToInteger(init, declarationResult);\n        } else {\n          this.astGeneric(init, declarationResult);\n        }\n      }\n      declarationSet.push(declarationResult.join(''));\n    }\n\n    if (declarationSet.length > 0) {\n      declarationSets.push(declarationSet.join(','));\n    }\n\n    result.push(declarationSets.join(';'));\n\n    retArr.push(result.join(''));\n    retArr.push(';');\n    return retArr;\n  }\n\n  astIfStatement(ifNode, retArr) {\n    retArr.push('if (');\n    this.astGeneric(ifNode.test, retArr);\n    retArr.push(')');\n    if (ifNode.consequent.type === 'BlockStatement') {\n      this.astGeneric(ifNode.consequent, retArr);\n    } else {\n      retArr.push(' {\\n');\n      this.astGeneric(ifNode.consequent, retArr);\n      retArr.push('\\n}\\n');\n    }\n\n    if (ifNode.alternate) {\n      retArr.push('else ');\n      if (ifNode.alternate.type === 'BlockStatement' || ifNode.alternate.type === 'IfStatement') {\n        this.astGeneric(ifNode.alternate, retArr);\n      } else {\n        retArr.push(' {\\n');\n        this.astGeneric(ifNode.alternate, retArr);\n        retArr.push('\\n}\\n');\n      }\n    }\n    return retArr;\n  }\n\n  astSwitchStatement(ast, retArr) {\n    if (ast.type !== 'SwitchStatement') {\n      throw this.astErrorOutput('Invalid switch statement', ast);\n    }\n    const { discriminant, cases } = ast;\n    const type = this.getType(discriminant);\n    const varName = `switchDiscriminant${this.astKey(ast, '_')}`;\n    switch (type) {\n      case 'Float':\n      case 'Number':\n        retArr.push(`float ${varName} = `);\n        this.astGeneric(discriminant, retArr);\n        retArr.push(';\\n');\n        break;\n      case 'Integer':\n        retArr.push(`int ${varName} = `);\n        this.astGeneric(discriminant, retArr);\n        retArr.push(';\\n');\n        break;\n    }\n    if (cases.length === 1 && !cases[0].test) {\n      this.astGeneric(cases[0].consequent, retArr);\n      return retArr;\n    }\n\n    let fallingThrough = false;\n    let defaultResult = [];\n    let movingDefaultToEnd = false;\n    let pastFirstIf = false;\n    for (let i = 0; i < cases.length; i++) {\n      if (!cases[i].test) {\n        if (cases.length > i + 1) {\n          movingDefaultToEnd = true;\n          this.astGeneric(cases[i].consequent, defaultResult);\n          continue;\n        } else {\n          retArr.push(' else {\\n');\n        }\n      } else {\n        if (i === 0 || !pastFirstIf) {\n          pastFirstIf = true;\n          retArr.push(`if (${varName} == `);\n        } else {\n          if (fallingThrough) {\n            retArr.push(`${varName} == `);\n            fallingThrough = false;\n          } else {\n            retArr.push(` else if (${varName} == `);\n          }\n        }\n        if (type === 'Integer') {\n          const testType = this.getType(cases[i].test);\n          switch (testType) {\n            case 'Number':\n            case 'Float':\n              this.castValueToInteger(cases[i].test, retArr);\n              break;\n            case 'LiteralInteger':\n              this.castLiteralToInteger(cases[i].test, retArr);\n              break;\n          }\n        } else if (type === 'Float') {\n          const testType = this.getType(cases[i].test);\n          switch (testType) {\n            case 'LiteralInteger':\n              this.castLiteralToFloat(cases[i].test, retArr);\n              break;\n            case 'Integer':\n              this.castValueToFloat(cases[i].test, retArr);\n              break;\n          }\n        } else {\n          throw new Error('unhanlded');\n        }\n        if (!cases[i].consequent || cases[i].consequent.length === 0) {\n          fallingThrough = true;\n          retArr.push(' || ');\n          continue;\n        }\n        retArr.push(`) {\\n`);\n      }\n      this.astGeneric(cases[i].consequent, retArr);\n      retArr.push('\\n}');\n    }\n    if (movingDefaultToEnd) {\n      retArr.push(' else {');\n      retArr.push(defaultResult.join(''));\n      retArr.push('}');\n    }\n    return retArr;\n  }\n\n  astThisExpression(tNode, retArr) {\n    retArr.push('this');\n    return retArr;\n  }\n\n  astMemberExpression(mNode, retArr) {\n    const {\n      property,\n      name,\n      signature,\n      origin,\n      type,\n      xProperty,\n      yProperty,\n      zProperty\n    } = this.getMemberExpressionDetails(mNode);\n    switch (signature) {\n      case 'value.thread.value':\n      case 'this.thread.value':\n        if (name !== 'x' && name !== 'y' && name !== 'z') {\n          throw this.astErrorOutput('Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`', mNode);\n        }\n        retArr.push(`threadId.${name}`);\n        return retArr;\n      case 'this.output.value':\n        if (this.dynamicOutput) {\n          switch (name) {\n            case 'x':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.x)');\n              } else {\n                retArr.push('uOutputDim.x');\n              }\n              break;\n            case 'y':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.y)');\n              } else {\n                retArr.push('uOutputDim.y');\n              }\n              break;\n            case 'z':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.z)');\n              } else {\n                retArr.push('uOutputDim.z');\n              }\n              break;\n            default:\n              throw this.astErrorOutput('Unexpected expression', mNode);\n          }\n        } else {\n          switch (name) {\n            case 'x':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[0]);\n              } else {\n                retArr.push(this.output[0], '.0');\n              }\n              break;\n            case 'y':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[1]);\n              } else {\n                retArr.push(this.output[1], '.0');\n              }\n              break;\n            case 'z':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[2]);\n              } else {\n                retArr.push(this.output[2], '.0');\n              }\n              break;\n            default:\n              throw this.astErrorOutput('Unexpected expression', mNode);\n          }\n        }\n        return retArr;\n      case 'value':\n        throw this.astErrorOutput('Unexpected expression', mNode);\n      case 'value[]':\n      case 'value[][]':\n      case 'value[][][]':\n      case 'value[][][][]':\n      case 'value.value':\n        if (origin === 'Math') {\n          retArr.push(Math[name]);\n          return retArr;\n        }\n        const cleanName = utils.sanitizeName(name);\n        switch (property) {\n          case 'r':\n            retArr.push(`user_${ cleanName }.r`);\n            return retArr;\n          case 'g':\n            retArr.push(`user_${ cleanName }.g`);\n            return retArr;\n          case 'b':\n            retArr.push(`user_${ cleanName }.b`);\n            return retArr;\n          case 'a':\n            retArr.push(`user_${ cleanName }.a`);\n            return retArr;\n        }\n        break;\n      case 'this.constants.value':\n        if (typeof xProperty === 'undefined') {\n          switch (type) {\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              retArr.push(`constants_${ utils.sanitizeName(name) }`);\n              return retArr;\n          }\n        }\n        case 'this.constants.value[]':\n        case 'this.constants.value[][]':\n        case 'this.constants.value[][][]':\n        case 'this.constants.value[][][][]':\n          break;\n        case 'fn()[]':\n          this.astCallExpression(mNode.object, retArr);\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(property));\n          retArr.push(']');\n          return retArr;\n        case 'fn()[][]':\n          this.astCallExpression(mNode.object.object, retArr);\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(mNode.object.property));\n          retArr.push(']');\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(mNode.property));\n          retArr.push(']');\n          return retArr;\n        case '[][]':\n          this.astArrayExpression(mNode.object, retArr);\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(property));\n          retArr.push(']');\n          return retArr;\n        default:\n          throw this.astErrorOutput('Unexpected expression', mNode);\n    }\n\n    if (mNode.computed === false) {\n      switch (type) {\n        case 'Number':\n        case 'Integer':\n        case 'Float':\n        case 'Boolean':\n          retArr.push(`${origin}_${utils.sanitizeName(name)}`);\n          return retArr;\n      }\n    }\n\n    const markupName = `${origin}_${utils.sanitizeName(name)}`;\n\n    switch (type) {\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        this.astGeneric(mNode.object, retArr);\n        retArr.push('[');\n        retArr.push(this.memberExpressionPropertyMarkup(xProperty));\n        retArr.push(']');\n        break;\n      case 'HTMLImageArray':\n        retArr.push(`getImage3D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(1)':\n        retArr.push(`getFloatFromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(2)':\n      case 'Array2D(2)':\n      case 'Array3D(2)':\n        retArr.push(`getMemoryOptimizedVec2(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(2)':\n        retArr.push(`getVec2FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(3)':\n      case 'Array2D(3)':\n      case 'Array3D(3)':\n        retArr.push(`getMemoryOptimizedVec3(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(3)':\n        retArr.push(`getVec3FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(4)':\n      case 'Array2D(4)':\n      case 'Array3D(4)':\n        retArr.push(`getMemoryOptimizedVec4(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(4)':\n      case 'HTMLCanvas':\n      case 'HTMLImage':\n      case 'HTMLVideo':\n        retArr.push(`getVec4FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'NumberTexture':\n      case 'Array':\n      case 'Array2D':\n      case 'Array3D':\n      case 'Array4D':\n      case 'Input':\n      case 'Number':\n      case 'Float':\n      case 'Integer':\n        if (this.precision === 'single') {\n          retArr.push(`getMemoryOptimized32(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n          this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n          retArr.push(')');\n        } else {\n          const bitRatio = (origin === 'user' ?\n            this.lookupFunctionArgumentBitRatio(this.name, name) :\n            this.constantBitRatios[name]\n          );\n          switch (bitRatio) {\n            case 1:\n              retArr.push(`get8(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            case 2:\n              retArr.push(`get16(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            case 4:\n            case 0:\n              retArr.push(`get32(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            default:\n              throw new Error(`unhandled bit ratio of ${bitRatio}`);\n          }\n          this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n          retArr.push(')');\n        }\n        break;\n      case 'MemoryOptimizedNumberTexture':\n        retArr.push(`getMemoryOptimized32(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        retArr.push(`${markupName}[${this.memberExpressionPropertyMarkup(yProperty)}]`);\n        if (yProperty) {\n          retArr.push(`[${this.memberExpressionPropertyMarkup(xProperty)}]`);\n        }\n        break;\n      default:\n        throw new Error(`unhandled member expression \"${ type }\"`);\n    }\n    return retArr;\n  }\n\n  astCallExpression(ast, retArr) {\n    if (!ast.callee) {\n      throw this.astErrorOutput('Unknown CallExpression', ast);\n    }\n\n    let functionName = null;\n    const isMathFunction = this.isAstMathFunction(ast);\n\n    if (isMathFunction || (ast.callee.object && ast.callee.object.type === 'ThisExpression')) {\n      functionName = ast.callee.property.name;\n    }\n    else if (ast.callee.type === 'SequenceExpression' && ast.callee.expressions[0].type === 'Literal' && !isNaN(ast.callee.expressions[0].raw)) {\n      functionName = ast.callee.expressions[1].property.name;\n    } else {\n      functionName = ast.callee.name;\n    }\n\n    if (!functionName) {\n      throw this.astErrorOutput(`Unhandled function, couldn't find name`, ast);\n    }\n\n    switch (functionName) {\n      case 'pow':\n        functionName = '_pow';\n        break;\n      case 'round':\n        functionName = '_round';\n        break;\n    }\n\n    if (this.calledFunctions.indexOf(functionName) < 0) {\n      this.calledFunctions.push(functionName);\n    }\n\n    if (functionName === 'random' && this.plugins && this.plugins.length > 0) {\n      for (let i = 0; i < this.plugins.length; i++) {\n        const plugin = this.plugins[i];\n        if (plugin.functionMatch === 'Math.random()' && plugin.functionReplace) {\n          retArr.push(plugin.functionReplace);\n          return retArr;\n        }\n      }\n    }\n\n    if (this.onFunctionCall) {\n      this.onFunctionCall(this.name, functionName, ast.arguments);\n    }\n\n    retArr.push(functionName);\n\n    retArr.push('(');\n\n    if (isMathFunction) {\n      for (let i = 0; i < ast.arguments.length; ++i) {\n        const argument = ast.arguments[i];\n        const argumentType = this.getType(argument);\n        if (i > 0) {\n          retArr.push(', ');\n        }\n\n        switch (argumentType) {\n          case 'Integer':\n            this.castValueToFloat(argument, retArr);\n            break;\n          default:\n            this.astGeneric(argument, retArr);\n            break;\n        }\n      }\n    } else {\n      const targetTypes = this.lookupFunctionArgumentTypes(functionName) || [];\n      for (let i = 0; i < ast.arguments.length; ++i) {\n        const argument = ast.arguments[i];\n        let targetType = targetTypes[i];\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        const argumentType = this.getType(argument);\n        if (!targetType) {\n          this.triggerImplyArgumentType(functionName, i, argumentType, this);\n          targetType = argumentType;\n        }\n        switch (argumentType) {\n          case 'Boolean':\n            this.astGeneric(argument, retArr);\n            continue;\n          case 'Number':\n          case 'Float':\n            if (targetType === 'Integer') {\n              retArr.push('int(');\n              this.astGeneric(argument, retArr);\n              retArr.push(')');\n              continue;\n            } else if (targetType === 'Number' || targetType === 'Float') {\n              this.astGeneric(argument, retArr);\n              continue;\n            } else if (targetType === 'LiteralInteger') {\n              this.castLiteralToFloat(argument, retArr);\n              continue;\n            }\n            break;\n          case 'Integer':\n            if (targetType === 'Number' || targetType === 'Float') {\n              retArr.push('float(');\n              this.astGeneric(argument, retArr);\n              retArr.push(')');\n              continue;\n            } else if (targetType === 'Integer') {\n              this.astGeneric(argument, retArr);\n              continue;\n            }\n            break;\n          case 'LiteralInteger':\n            if (targetType === 'Integer') {\n              this.castLiteralToInteger(argument, retArr);\n              continue;\n            } else if (targetType === 'Number' || targetType === 'Float') {\n              this.castLiteralToFloat(argument, retArr);\n              continue;\n            } else if (targetType === 'LiteralInteger') {\n              this.astGeneric(argument, retArr);\n              continue;\n            }\n            break;\n          case 'Array(2)':\n          case 'Array(3)':\n          case 'Array(4)':\n            if (targetType === argumentType) {\n              if (argument.type === 'Identifier') {\n                retArr.push(`user_${utils.sanitizeName(argument.name)}`);\n              } else if (argument.type === 'ArrayExpression' || argument.type === 'MemberExpression' || argument.type === 'CallExpression') {\n                this.astGeneric(argument, retArr);\n              } else {\n                throw this.astErrorOutput(`Unhandled argument type ${ argument.type }`, ast);\n              }\n              continue;\n            }\n            break;\n          case 'HTMLCanvas':\n          case 'HTMLImage':\n          case 'HTMLImageArray':\n          case 'HTMLVideo':\n          case 'ArrayTexture(1)':\n          case 'ArrayTexture(2)':\n          case 'ArrayTexture(3)':\n          case 'ArrayTexture(4)':\n          case 'Array':\n          case 'Input':\n            if (targetType === argumentType) {\n              if (argument.type !== 'Identifier') throw this.astErrorOutput(`Unhandled argument type ${ argument.type }`, ast);\n              this.triggerImplyArgumentBitRatio(this.name, argument.name, functionName, i);\n              const name = utils.sanitizeName(argument.name);\n              retArr.push(`user_${name},user_${name}Size,user_${name}Dim`);\n              continue;\n            }\n            break;\n        }\n        throw this.astErrorOutput(`Unhandled argument combination of ${ argumentType } and ${ targetType } for argument named \"${ argument.name }\"`, ast);\n      }\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  astArrayExpression(arrNode, retArr) {\n    const returnType = this.getType(arrNode);\n\n    const arrLen = arrNode.elements.length;\n\n    switch (returnType) {\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        retArr.push(`mat${arrLen}(`);\n        break;\n      default:\n        retArr.push(`vec${arrLen}(`);\n    }\n    for (let i = 0; i < arrLen; ++i) {\n      if (i > 0) {\n        retArr.push(', ');\n      }\n      const subNode = arrNode.elements[i];\n      this.astGeneric(subNode, retArr)\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  memberExpressionXYZ(x, y, z, retArr) {\n    if (z) {\n      retArr.push(this.memberExpressionPropertyMarkup(z), ', ');\n    } else {\n      retArr.push('0, ');\n    }\n    if (y) {\n      retArr.push(this.memberExpressionPropertyMarkup(y), ', ');\n    } else {\n      retArr.push('0, ');\n    }\n    retArr.push(this.memberExpressionPropertyMarkup(x));\n    return retArr;\n  }\n\n  memberExpressionPropertyMarkup(property) {\n    if (!property) {\n      throw new Error('Property not set');\n    }\n    const type = this.getType(property);\n    const result = [];\n    switch (type) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(property, result);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(property, result);\n        break;\n      default:\n        this.astGeneric(property, result);\n    }\n    return result.join('');\n  }\n}\n\nconst typeMap = {\n  'Array': 'sampler2D',\n  'Array(2)': 'vec2',\n  'Array(3)': 'vec3',\n  'Array(4)': 'vec4',\n  'Matrix(2)': 'mat2',\n  'Matrix(3)': 'mat3',\n  'Matrix(4)': 'mat4',\n  'Array2D': 'sampler2D',\n  'Array3D': 'sampler2D',\n  'Boolean': 'bool',\n  'Float': 'float',\n  'Input': 'sampler2D',\n  'Integer': 'int',\n  'Number': 'float',\n  'LiteralInteger': 'float',\n  'NumberTexture': 'sampler2D',\n  'MemoryOptimizedNumberTexture': 'sampler2D',\n  'ArrayTexture(1)': 'sampler2D',\n  'ArrayTexture(2)': 'sampler2D',\n  'ArrayTexture(3)': 'sampler2D',\n  'ArrayTexture(4)': 'sampler2D',\n  'HTMLVideo': 'sampler2D',\n  'HTMLCanvas': 'sampler2D',\n  'HTMLImage': 'sampler2D',\n  'HTMLImageArray': 'sampler2DArray',\n};\n\nconst operatorMap = {\n  '===': '==',\n  '!==': '!='\n};\n\nmodule.exports = {\n  WebGLFunctionNode\n};\n},{\"../../utils\":114,\"../function-node\":10}],39:[function(require,module,exports){\nconst { WebGLKernelValueBoolean } = require('./kernel-value/boolean');\nconst { WebGLKernelValueFloat } = require('./kernel-value/float');\nconst { WebGLKernelValueInteger } = require('./kernel-value/integer');\n\nconst { WebGLKernelValueHTMLImage } = require('./kernel-value/html-image');\nconst { WebGLKernelValueDynamicHTMLImage } = require('./kernel-value/dynamic-html-image');\n\nconst { WebGLKernelValueHTMLVideo } = require('./kernel-value/html-video');\nconst { WebGLKernelValueDynamicHTMLVideo } = require('./kernel-value/dynamic-html-video');\n\nconst { WebGLKernelValueSingleInput } = require('./kernel-value/single-input');\nconst { WebGLKernelValueDynamicSingleInput } = require('./kernel-value/dynamic-single-input');\n\nconst { WebGLKernelValueUnsignedInput } = require('./kernel-value/unsigned-input');\nconst { WebGLKernelValueDynamicUnsignedInput } = require('./kernel-value/dynamic-unsigned-input');\n\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('./kernel-value/memory-optimized-number-texture');\nconst { WebGLKernelValueDynamicMemoryOptimizedNumberTexture } = require('./kernel-value/dynamic-memory-optimized-number-texture');\n\nconst { WebGLKernelValueNumberTexture } = require('./kernel-value/number-texture');\nconst { WebGLKernelValueDynamicNumberTexture } = require('./kernel-value/dynamic-number-texture');\n\nconst { WebGLKernelValueSingleArray } = require('./kernel-value/single-array');\nconst { WebGLKernelValueDynamicSingleArray } = require('./kernel-value/dynamic-single-array');\n\nconst { WebGLKernelValueSingleArray1DI } = require('./kernel-value/single-array1d-i');\nconst { WebGLKernelValueDynamicSingleArray1DI } = require('./kernel-value/dynamic-single-array1d-i');\n\nconst { WebGLKernelValueSingleArray2DI } = require('./kernel-value/single-array2d-i');\nconst { WebGLKernelValueDynamicSingleArray2DI } = require('./kernel-value/dynamic-single-array2d-i');\n\nconst { WebGLKernelValueSingleArray3DI } = require('./kernel-value/single-array3d-i');\nconst { WebGLKernelValueDynamicSingleArray3DI } = require('./kernel-value/dynamic-single-array3d-i');\n\nconst { WebGLKernelValueArray2 } = require('./kernel-value/array2');\nconst { WebGLKernelValueArray3 } = require('./kernel-value/array3');\nconst { WebGLKernelValueArray4 } = require('./kernel-value/array4');\n\nconst { WebGLKernelValueUnsignedArray } = require('./kernel-value/unsigned-array');\nconst { WebGLKernelValueDynamicUnsignedArray } = require('./kernel-value/dynamic-unsigned-array');\n\nconst kernelValueMaps = {\n  unsigned: {\n    dynamic: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Integer': WebGLKernelValueInteger,\n      'Float': WebGLKernelValueFloat,\n      'Array': WebGLKernelValueDynamicUnsignedArray,\n      'Array(2)': WebGLKernelValueArray2,\n      'Array(3)': WebGLKernelValueArray3,\n      'Array(4)': WebGLKernelValueArray4,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGLKernelValueDynamicUnsignedInput,\n      'NumberTexture': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImage': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Float': WebGLKernelValueFloat,\n      'Integer': WebGLKernelValueInteger,\n      'Array': WebGLKernelValueUnsignedArray,\n      'Array(2)': WebGLKernelValueArray2,\n      'Array(3)': WebGLKernelValueArray3,\n      'Array(4)': WebGLKernelValueArray4,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGLKernelValueUnsignedInput,\n      'NumberTexture': WebGLKernelValueNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueHTMLImage,\n      'HTMLImage': WebGLKernelValueHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueHTMLVideo,\n    }\n  },\n  single: {\n    dynamic: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Integer': WebGLKernelValueInteger,\n      'Float': WebGLKernelValueFloat,\n      'Array': WebGLKernelValueDynamicSingleArray,\n      'Array(2)': WebGLKernelValueArray2,\n      'Array(3)': WebGLKernelValueArray3,\n      'Array(4)': WebGLKernelValueArray4,\n      'Array1D(2)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array1D(3)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array1D(4)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array2D(2)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array2D(3)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array2D(4)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array3D(2)': WebGLKernelValueDynamicSingleArray3DI,\n      'Array3D(3)': WebGLKernelValueDynamicSingleArray3DI,\n      'Array3D(4)': WebGLKernelValueDynamicSingleArray3DI,\n      'Input': WebGLKernelValueDynamicSingleInput,\n      'NumberTexture': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImage': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Float': WebGLKernelValueFloat,\n      'Integer': WebGLKernelValueInteger,\n      'Array': WebGLKernelValueSingleArray,\n      'Array(2)': WebGLKernelValueArray2,\n      'Array(3)': WebGLKernelValueArray3,\n      'Array(4)': WebGLKernelValueArray4,\n      'Array1D(2)': WebGLKernelValueSingleArray1DI,\n      'Array1D(3)': WebGLKernelValueSingleArray1DI,\n      'Array1D(4)': WebGLKernelValueSingleArray1DI,\n      'Array2D(2)': WebGLKernelValueSingleArray2DI,\n      'Array2D(3)': WebGLKernelValueSingleArray2DI,\n      'Array2D(4)': WebGLKernelValueSingleArray2DI,\n      'Array3D(2)': WebGLKernelValueSingleArray3DI,\n      'Array3D(3)': WebGLKernelValueSingleArray3DI,\n      'Array3D(4)': WebGLKernelValueSingleArray3DI,\n      'Input': WebGLKernelValueSingleInput,\n      'NumberTexture': WebGLKernelValueNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueHTMLImage,\n      'HTMLImage': WebGLKernelValueHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueHTMLVideo,\n    }\n  },\n};\n\nfunction lookupKernelValueType(type, dynamic, precision, value) {\n  if (!type) {\n    throw new Error('type missing');\n  }\n  if (!dynamic) {\n    throw new Error('dynamic missing');\n  }\n  if (!precision) {\n    throw new Error('precision missing');\n  }\n  if (value.type) {\n    type = value.type;\n  }\n  const types = kernelValueMaps[precision][dynamic];\n  if (types[type] === false) {\n    return null;\n  } else if (types[type] === undefined) {\n    throw new Error(`Could not find a KernelValue for ${ type }`);\n  }\n  return types[type];\n}\n\nmodule.exports = {\n  lookupKernelValueType,\n  kernelValueMaps,\n};\n},{\"./kernel-value/array2\":41,\"./kernel-value/array3\":42,\"./kernel-value/array4\":43,\"./kernel-value/boolean\":44,\"./kernel-value/dynamic-html-image\":45,\"./kernel-value/dynamic-html-video\":46,\"./kernel-value/dynamic-memory-optimized-number-texture\":47,\"./kernel-value/dynamic-number-texture\":48,\"./kernel-value/dynamic-single-array\":49,\"./kernel-value/dynamic-single-array1d-i\":50,\"./kernel-value/dynamic-single-array2d-i\":51,\"./kernel-value/dynamic-single-array3d-i\":52,\"./kernel-value/dynamic-single-input\":53,\"./kernel-value/dynamic-unsigned-array\":54,\"./kernel-value/dynamic-unsigned-input\":55,\"./kernel-value/float\":56,\"./kernel-value/html-image\":57,\"./kernel-value/html-video\":58,\"./kernel-value/integer\":60,\"./kernel-value/memory-optimized-number-texture\":61,\"./kernel-value/number-texture\":62,\"./kernel-value/single-array\":63,\"./kernel-value/single-array1d-i\":64,\"./kernel-value/single-array2d-i\":65,\"./kernel-value/single-array3d-i\":66,\"./kernel-value/single-input\":67,\"./kernel-value/unsigned-array\":68,\"./kernel-value/unsigned-input\":69}],40:[function(require,module,exports){\nconst { WebGLKernelValue } = require('./index');\nconst { Input } = require('../../../input');\n\nclass WebGLKernelArray extends WebGLKernelValue {\n  checkSize(width, height) {\n    if (!this.kernel.validate) return;\n    const { maxTextureSize } = this.kernel.constructor.features;\n    if (width > maxTextureSize || height > maxTextureSize) {\n      if (width > height) {\n        throw new Error(`Argument texture width of ${width} larger than maximum size of ${maxTextureSize} for your GPU`);\n      } else if (width < height) {\n        throw new Error(`Argument texture height of ${height} larger than maximum size of ${maxTextureSize} for your GPU`);\n      } else {\n        throw new Error(`Argument texture height and width of ${height} larger than maximum size of ${maxTextureSize} for your GPU`);\n      }\n    }\n  }\n\n  setup() {\n    this.requestTexture();\n    this.setupTexture();\n    this.defineTexture();\n  }\n\n  requestTexture() {\n    this.texture = this.onRequestTexture();\n  }\n\n  defineTexture() {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  }\n\n  setupTexture() {\n    this.contextHandle = this.onRequestContextHandle();\n    this.index = this.onRequestIndex();\n    this.dimensionsId = this.id + 'Dim';\n    this.sizeId = this.id + 'Size';\n  }\n\n  getBitRatio(value) {\n    if (Array.isArray(value[0])) {\n      return this.getBitRatio(value[0]);\n    } else if (value.constructor === Input) {\n      return this.getBitRatio(value.value);\n    }\n    switch (value.constructor) {\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Int8Array:\n        return 1;\n      case Uint16Array:\n      case Int16Array:\n        return 2;\n      case Float32Array:\n      case Int32Array:\n      default:\n        return 4;\n    }\n  }\n\n  destroy() {\n    if (this.prevArg) {\n      this.prevArg.delete();\n    }\n    this.context.deleteTexture(this.texture);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelArray\n};\n},{\"../../../input\":110,\"./index\":59}],41:[function(require,module,exports){\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueArray2 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec2 ${this.id} = vec2(${value[0]},${value[1]});\\n`;\n    }\n    return `uniform vec2 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform2fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueArray2\n};\n},{\"./index\":59}],42:[function(require,module,exports){\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueArray3 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec3 ${this.id} = vec3(${value[0]},${value[1]},${value[2]});\\n`;\n    }\n    return `uniform vec3 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform3fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueArray3\n};\n},{\"./index\":59}],43:[function(require,module,exports){\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueArray4 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec4 ${this.id} = vec4(${value[0]},${value[1]},${value[2]},${value[3]});\\n`;\n    }\n    return `uniform vec4 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform4fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueArray4\n};\n},{\"./index\":59}],44:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueBoolean extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const bool ${this.id} = ${value};\\n`;\n    }\n    return `uniform bool ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueBoolean\n};\n},{\"../../../utils\":114,\"./index\":59}],45:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueHTMLImage } = require('./html-image');\n\nclass WebGLKernelValueDynamicHTMLImage extends WebGLKernelValueHTMLImage {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    const { width, height } = value;\n    this.checkSize(width, height);\n    this.dimensions = [width, height, 1];\n    this.textureSize = [width, height];\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicHTMLImage\n};\n},{\"../../../utils\":114,\"./html-image\":57}],46:[function(require,module,exports){\nconst { WebGLKernelValueDynamicHTMLImage } = require('./dynamic-html-image');\n\nclass WebGLKernelValueDynamicHTMLVideo extends WebGLKernelValueDynamicHTMLImage {}\n\nmodule.exports = {\n  WebGLKernelValueDynamicHTMLVideo\n};\n},{\"./dynamic-html-image\":45}],47:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('./memory-optimized-number-texture');\n\nclass WebGLKernelValueDynamicMemoryOptimizedNumberTexture extends WebGLKernelValueMemoryOptimizedNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    this.dimensions = inputTexture.dimensions;\n    this.checkSize(inputTexture.size[0], inputTexture.size[1]);\n    this.textureSize = inputTexture.size;\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(inputTexture);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"./memory-optimized-number-texture\":61}],48:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueNumberTexture } = require('./number-texture');\n\nclass WebGLKernelValueDynamicNumberTexture extends WebGLKernelValueNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = value.dimensions;\n    this.checkSize(value.size[0], value.size[1]);\n    this.textureSize = value.size;\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicNumberTexture\n};\n},{\"../../../utils\":114,\"./number-texture\":62}],49:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray } = require('./single-array');\n\nclass WebGLKernelValueDynamicSingleArray extends WebGLKernelValueSingleArray {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray\n};\n},{\"../../../utils\":114,\"./single-array\":63}],50:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray1DI } = require('./single-array1d-i');\n\nclass WebGLKernelValueDynamicSingleArray1DI extends WebGLKernelValueSingleArray1DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray1DI\n};\n},{\"../../../utils\":114,\"./single-array1d-i\":64}],51:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray2DI } = require('./single-array2d-i');\n\nclass WebGLKernelValueDynamicSingleArray2DI extends WebGLKernelValueSingleArray2DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray2DI\n};\n},{\"../../../utils\":114,\"./single-array2d-i\":65}],52:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray3DI } = require('./single-array3d-i');\n\nclass WebGLKernelValueDynamicSingleArray3DI extends WebGLKernelValueSingleArray3DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray3DI\n};\n},{\"../../../utils\":114,\"./single-array3d-i\":66}],53:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleInput } = require('./single-input');\n\nclass WebGLKernelValueDynamicSingleInput extends WebGLKernelValueSingleInput {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleInput\n};\n},{\"../../../utils\":114,\"./single-input\":67}],54:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedArray } = require('./unsigned-array');\n\nclass WebGLKernelValueDynamicUnsignedArray extends WebGLKernelValueUnsignedArray {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    const Type = this.getTransferArrayType(value);\n    this.preUploadValue = new Type(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicUnsignedArray\n};\n},{\"../../../utils\":114,\"./unsigned-array\":68}],55:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedInput } = require('./unsigned-input');\n\nclass WebGLKernelValueDynamicUnsignedInput extends WebGLKernelValueUnsignedInput {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    const Type = this.getTransferArrayType(value.value);\n    this.preUploadValue = new Type(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicUnsignedInput\n};\n},{\"../../../utils\":114,\"./unsigned-input\":69}],56:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueFloat extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      if (Number.isInteger(value)) {\n        return `const float ${this.id} = ${value}.0;\\n`;\n      }\n      return `const float ${this.id} = ${value};\\n`;\n    }\n    return `uniform float ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1f(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueFloat\n};\n},{\"../../../utils\":114,\"./index\":59}],57:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueHTMLImage extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const { width, height } = value;\n    this.checkSize(width, height);\n    this.dimensions = [width, height, 1];\n    this.textureSize = [width, height];\n    this.uploadValue = value;\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputImage) {\n    if (inputImage.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputImage.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue = inputImage);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueHTMLImage\n};\n},{\"../../../utils\":114,\"./array\":40}],58:[function(require,module,exports){\nconst { WebGLKernelValueHTMLImage } = require('./html-image');\n\nclass WebGLKernelValueHTMLVideo extends WebGLKernelValueHTMLImage {}\n\nmodule.exports = {\n  WebGLKernelValueHTMLVideo\n};\n},{\"./html-image\":57}],59:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { KernelValue } = require('../../kernel-value');\n\nclass WebGLKernelValue extends KernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.dimensionsId = null;\n    this.sizeId = null;\n    this.initialValueConstructor = value.constructor;\n    this.onRequestTexture = settings.onRequestTexture;\n    this.onRequestIndex = settings.onRequestIndex;\n    this.uploadValue = null;\n    this.textureSize = null;\n    this.bitRatio = null;\n    this.prevArg = null;\n  }\n\n  get id() {\n    return `${this.origin}_${utils.sanitizeName(this.name)}`;\n  }\n\n  setup() {}\n\n  getTransferArrayType(value) {\n    if (Array.isArray(value[0])) {\n      return this.getTransferArrayType(value[0]);\n    }\n    switch (value.constructor) {\n      case Array:\n      case Int32Array:\n      case Int16Array:\n      case Int8Array:\n        return Float32Array;\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Uint16Array:\n      case Uint32Array:\n      case Float32Array:\n      case Float64Array:\n        return value.constructor;\n    }\n    console.warn('Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros');\n    return value.constructor;\n  }\n\n  getStringValueHandler() {\n    throw new Error(`\"getStringValueHandler\" not implemented on ${this.constructor.name}`);\n  }\n\n  getVariablePrecisionString() {\n    return this.kernel.getVariablePrecisionString(this.textureSize || undefined, this.tactic || undefined);\n  }\n\n  destroy() {}\n}\n\nmodule.exports = {\n  WebGLKernelValue\n};\n},{\"../../../utils\":114,\"../../kernel-value\":35}],60:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueInteger extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const int ${this.id} = ${ parseInt(value) };\\n`;\n    }\n    return `uniform int ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueInteger\n};\n},{\"../../../utils\":114,\"./index\":59}],61:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nconst sameError = `Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()`;\n\nclass WebGLKernelValueMemoryOptimizedNumberTexture extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const [width, height] = value.size;\n    this.checkSize(width, height);\n    this.dimensions = value.dimensions;\n    this.textureSize = value.size;\n    this.uploadValue = value.texture;\n    this.forceUploadEachRun = true;\n  }\n\n  setup() {\n    this.setupTexture();\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName}.texture;\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    if (inputTexture.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputTexture.constructor);\n      return;\n    }\n    if (this.checkContext && inputTexture.context !== this.context) {\n      throw new Error(`Value ${this.name} (${this.type}) must be from same context`);\n    }\n\n    const { kernel, context: gl } = this;\n    if (kernel.pipeline) {\n      if (kernel.immutable) {\n        kernel.updateTextureArgumentRefs(this, inputTexture);\n      } else {\n        if (kernel.texture && kernel.texture.texture === inputTexture.texture) {\n          throw new Error(sameError);\n        } else if (kernel.mappedTextures) {\n          const { mappedTextures } = kernel;\n          for (let i = 0; i < mappedTextures.length; i++) {\n            if (mappedTextures[i].texture === inputTexture.texture) {\n              throw new Error(sameError);\n            }\n          }\n        }\n      }\n    }\n\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.uploadValue = inputTexture.texture);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueMemoryOptimizedNumberTexture,\n  sameError\n};\n},{\"../../../utils\":114,\"./array\":40}],62:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\nconst { sameError } = require('./memory-optimized-number-texture');\n\nclass WebGLKernelValueNumberTexture extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const [width, height] = value.size;\n    this.checkSize(width, height);\n    const { size: textureSize, dimensions } = value;\n    this.bitRatio = this.getBitRatio(value);\n    this.dimensions = dimensions;\n    this.textureSize = textureSize;\n    this.uploadValue = value.texture;\n    this.forceUploadEachRun = true;\n  }\n\n  setup() {\n    this.setupTexture();\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName}.texture;\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    if (inputTexture.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputTexture.constructor);\n      return;\n    }\n    if (this.checkContext && inputTexture.context !== this.context) {\n      throw new Error(`Value ${this.name} (${this.type}) must be from same context`);\n    }\n\n    const { kernel, context: gl } = this;\n    if (kernel.pipeline) {\n      if (kernel.immutable) {\n        kernel.updateTextureArgumentRefs(this, inputTexture);\n      } else {\n        if (kernel.texture && kernel.texture.texture === inputTexture.texture) {\n          throw new Error(sameError);\n        } else if (kernel.mappedTextures) {\n          const { mappedTextures } = kernel;\n          for (let i = 0; i < mappedTextures.length; i++) {\n            if (mappedTextures[i].texture === inputTexture.texture) {\n              throw new Error(sameError);\n            }\n          }\n        }\n      }\n    }\n\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.uploadValue = inputTexture.texture);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueNumberTexture\n};\n},{\"../../../utils\":114,\"./array\":40,\"./memory-optimized-number-texture\":61}],63:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray\n};\n},{\"../../../utils\":114,\"./array\":40}],64:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray1DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], 1, 1]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten2dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray1DI\n};\n},{\"../../../utils\":114,\"./array\":40}],65:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray2DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], valueDimensions[2], 1]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten3dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray2DI\n};\n},{\"../../../utils\":114,\"./array\":40}],66:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray3DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], valueDimensions[2], valueDimensions[3]]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten4dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray3DI\n};\n},{\"../../../utils\":114,\"./array\":40}],67:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleInput extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}.value, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    if (input.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(input.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleInput\n};\n},{\"../../../utils\":114,\"./array\":40}],68:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueUnsignedArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = this.getBitRatio(value);\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.TranserArrayType = this.getTransferArrayType(value);\n    this.preUploadValue = new this.TranserArrayType(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,\n      `const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,\n      `flattenTo(${this.varName}, preUploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.preUploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueUnsignedArray\n};\n},{\"../../../utils\":114,\"./array\":40}],69:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueUnsignedInput extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = this.getBitRatio(value);\n    const [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.TranserArrayType = this.getTransferArrayType(value.value);\n    this.preUploadValue = new this.TranserArrayType(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,\n      `const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,\n      `flattenTo(${this.varName}.value, preUploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    if (input.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.preUploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueUnsignedInput\n};\n},{\"../../../utils\":114,\"./array\":40}],70:[function(require,module,exports){\nconst { GLKernel } = require('../gl/kernel');\nconst { FunctionBuilder } = require('../function-builder');\nconst { WebGLFunctionNode } = require('./function-node');\nconst { utils } = require('../../utils');\nconst mrud = require('../../plugins/math-random-uniformly-distributed');\nconst { fragmentShader } = require('./fragment-shader');\nconst { vertexShader } = require('./vertex-shader');\nconst { glKernelString } = require('../gl/kernel-string');\nconst { lookupKernelValueType } = require('./kernel-value-maps');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\nlet features = null;\n\nconst plugins = [mrud];\nconst canvases = [];\nconst maxTexSizes = {};\n\n\nclass WebGLKernel extends GLKernel {\n  static get isSupported() {\n    if (isSupported !== null) {\n      return isSupported;\n    }\n    this.setupFeatureChecks();\n    isSupported = this.isContextMatch(testContext);\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    if (typeof document !== 'undefined') {\n      testCanvas = document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      testCanvas = new OffscreenCanvas(0, 0);\n    }\n    if (!testCanvas) return;\n    testContext = testCanvas.getContext('webgl') || testCanvas.getContext('experimental-webgl');\n    if (!testContext || !testContext.getExtension) return;\n    testExtensions = {\n      OES_texture_float: testContext.getExtension('OES_texture_float'),\n      OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: testContext.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: testContext.getExtension('WEBGL_draw_buffers'),\n    };\n    features = this.getFeatures();\n  }\n\n  static isContextMatch(context) {\n    if (typeof WebGLRenderingContext !== 'undefined') {\n      return context instanceof WebGLRenderingContext;\n    }\n    return false;\n  }\n\n  static getIsTextureFloat() {\n    return Boolean(testExtensions.OES_texture_float);\n  }\n\n  static getIsDrawBuffers() {\n    return Boolean(testExtensions.WEBGL_draw_buffers);\n  }\n\n  static getChannelCount() {\n    return testExtensions.WEBGL_draw_buffers ?\n      testContext.getParameter(testExtensions.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL) :\n      1;\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static lookupKernelValueType(type, dynamic, precision, value) {\n    return lookupKernelValueType(type, dynamic, precision, value);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  static get fragmentShader() {\n    return fragmentShader;\n  }\n\n  static get vertexShader() {\n    return vertexShader;\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.program = null;\n    this.pipeline = settings.pipeline;\n    this.endianness = utils.systemEndianness();\n    this.extensions = {};\n    this.argumentTextureCount = 0;\n    this.constantTextureCount = 0;\n    this.fragShader = null;\n    this.vertShader = null;\n    this.drawBuffersMap = null;\n\n    this.maxTexSize = null;\n    this.onRequestSwitchKernel = null;\n\n    this.texture = null;\n    this.mappedTextures = null;\n    this.mergeSettings(source.settings || settings);\n\n    this.threadDim = null;\n    this.framebuffer = null;\n    this.buffer = null;\n\n    this.textureCache = [];\n    this.programUniformLocationCache = {};\n    this.uniform1fCache = {};\n    this.uniform1iCache = {};\n    this.uniform2fCache = {};\n    this.uniform2fvCache = {};\n    this.uniform2ivCache = {};\n    this.uniform3fvCache = {};\n    this.uniform3ivCache = {};\n    this.uniform4fvCache = {};\n    this.uniform4ivCache = {};\n  }\n\n  initCanvas() {\n    if (typeof document !== 'undefined') {\n      const canvas = document.createElement('canvas');\n      canvas.width = 2;\n      canvas.height = 2;\n      return canvas;\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      return new OffscreenCanvas(0, 0);\n    }\n  }\n\n  initContext() {\n    const settings = {\n      alpha: false,\n      depth: false,\n      antialias: false\n    };\n    return this.canvas.getContext('webgl', settings) || this.canvas.getContext('experimental-webgl', settings);\n  }\n\n  initPlugins(settings) {\n    const pluginsToUse = [];\n    const { source } = this;\n    if (typeof source === 'string') {\n      for (let i = 0; i < plugins.length; i++) {\n        const plugin = plugins[i];\n        if (source.match(plugin.functionMatch)) {\n          pluginsToUse.push(plugin);\n        }\n      }\n    } else if (typeof source === 'object') {\n      if (settings.pluginNames) { \n        for (let i = 0; i < plugins.length; i++) {\n          const plugin = plugins[i];\n          const usePlugin = settings.pluginNames.some(pluginName => pluginName === plugin.name);\n          if (usePlugin) {\n            pluginsToUse.push(plugin);\n          }\n        }\n      }\n    }\n    return pluginsToUse;\n  }\n\n  initExtensions() {\n    this.extensions = {\n      OES_texture_float: this.context.getExtension('OES_texture_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: this.context.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: this.context.getExtension('WEBGL_draw_buffers'),\n      WEBGL_color_buffer_float: this.context.getExtension('WEBGL_color_buffer_float'),\n    };\n  }\n\n  validateSettings(args) {\n    if (!this.validate) {\n      this.texSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, this.output);\n      return;\n    }\n\n    const { features } = this.constructor;\n\n    if (this.optimizeFloatMemory === true && !features.isTextureFloat) {\n      throw new Error('Float textures are not supported');\n    } else if (this.precision === 'single' && !features.isFloatRead) {\n      throw new Error('Single precision not supported');\n    } else if (!this.graphical && this.precision === null && features.isTextureFloat) {\n      this.precision = features.isFloatRead ? 'single' : 'unsigned';\n    }\n\n    if (this.subKernels && this.subKernels.length > 0 && !this.extensions.WEBGL_draw_buffers) {\n      throw new Error('could not instantiate draw buffers extension');\n    }\n\n    if (this.fixIntegerDivisionAccuracy === null) {\n      this.fixIntegerDivisionAccuracy = !features.isIntegerDivisionAccurate;\n    } else if (this.fixIntegerDivisionAccuracy && features.isIntegerDivisionAccurate) {\n      this.fixIntegerDivisionAccuracy = false;\n    }\n\n    this.checkOutput();\n\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      switch (argType) {\n        case 'Array':\n          this.output = utils.getDimensions(argType);\n          break;\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n          this.output = args[0].output;\n          break;\n        default:\n          throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n\n      if (this.precision === 'precision') {\n        this.precision = 'unsigned';\n        console.warn('Cannot use graphical mode and single precision at the same time');\n      }\n\n      this.texSize = utils.clone(this.output);\n      return;\n    } else if (this.precision === null && features.isTextureFloat) {\n      this.precision = 'single';\n    }\n\n    this.texSize = utils.getKernelTextureSize({\n      optimizeFloatMemory: this.optimizeFloatMemory,\n      precision: this.precision,\n    }, this.output);\n\n    this.checkTextureSize();\n  }\n\n  updateMaxTexSize() {\n    const { texSize, canvas } = this;\n    if (this.maxTexSize === null) {\n      let canvasIndex = canvases.indexOf(canvas);\n      if (canvasIndex === -1) {\n        canvasIndex = canvases.length;\n        canvases.push(canvas);\n        maxTexSizes[canvasIndex] = [texSize[0], texSize[1]];\n      }\n      this.maxTexSize = maxTexSizes[canvasIndex];\n    }\n    if (this.maxTexSize[0] < texSize[0]) {\n      this.maxTexSize[0] = texSize[0];\n    }\n    if (this.maxTexSize[1] < texSize[1]) {\n      this.maxTexSize[1] = texSize[1];\n    }\n  }\n\n  setupArguments(args) {\n    this.kernelArguments = [];\n    this.argumentTextureCount = 0;\n    const needsArgumentTypes = this.argumentTypes === null;\n    if (needsArgumentTypes) {\n      this.argumentTypes = [];\n    }\n    this.argumentSizes = [];\n    this.argumentBitRatios = [];\n\n    if (args.length < this.argumentNames.length) {\n      throw new Error('not enough arguments for kernel');\n    } else if (args.length > this.argumentNames.length) {\n      throw new Error('too many arguments for kernel');\n    }\n\n    const { context: gl } = this;\n    let textureIndexes = 0;\n\n    const onRequestTexture = () => {\n      return this.createTexture();\n    };\n    const onRequestIndex = () => {\n      return this.constantTextureCount + textureIndexes++;\n    };\n    const onUpdateValueMismatch = (constructor) => {\n      this.switchKernels({\n        type: 'argumentMismatch',\n        needed: constructor\n      });\n    };\n    const onRequestContextHandle = () => {\n      return gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount++;\n    };\n\n    for (let index = 0; index < args.length; index++) {\n      const value = args[index];\n      const name = this.argumentNames[index];\n      let type;\n      if (needsArgumentTypes) {\n        type = utils.getVariableType(value, this.strictIntegers);\n        this.argumentTypes.push(type);\n      } else {\n        type = this.argumentTypes[index];\n      }\n      const KernelValue = this.constructor.lookupKernelValueType(type, this.dynamicArguments ? 'dynamic' : 'static', this.precision, args[index]);\n      if (KernelValue === null) {\n        return this.requestFallback(args);\n      }\n      const kernelArgument = new KernelValue(value, {\n        name,\n        type,\n        tactic: this.tactic,\n        origin: 'user',\n        context: gl,\n        checkContext: this.checkContext,\n        kernel: this,\n        strictIntegers: this.strictIntegers,\n        onRequestTexture,\n        onRequestIndex,\n        onUpdateValueMismatch,\n        onRequestContextHandle,\n      });\n      this.kernelArguments.push(kernelArgument);\n      kernelArgument.setup();\n      this.argumentSizes.push(kernelArgument.textureSize);\n      this.argumentBitRatios[index] = kernelArgument.bitRatio;\n    }\n  }\n\n  createTexture() {\n    const texture = this.context.createTexture();\n    this.textureCache.push(texture);\n    return texture;\n  }\n\n  setupConstants(args) {\n    const { context: gl } = this;\n    this.kernelConstants = [];\n    this.forceUploadKernelConstants = [];\n    let needsConstantTypes = this.constantTypes === null;\n    if (needsConstantTypes) {\n      this.constantTypes = {};\n    }\n    this.constantBitRatios = {};\n    let textureIndexes = 0;\n    for (const name in this.constants) {\n      const value = this.constants[name];\n      let type;\n      if (needsConstantTypes) {\n        type = utils.getVariableType(value, this.strictIntegers);\n        this.constantTypes[name] = type;\n      } else {\n        type = this.constantTypes[name];\n      }\n      const KernelValue = this.constructor.lookupKernelValueType(type, 'static', this.precision, value);\n      if (KernelValue === null) {\n        return this.requestFallback(args);\n      }\n      const kernelValue = new KernelValue(value, {\n        name,\n        type,\n        tactic: this.tactic,\n        origin: 'constants',\n        context: this.context,\n        checkContext: this.checkContext,\n        kernel: this,\n        strictIntegers: this.strictIntegers,\n        onRequestTexture: () => {\n          return this.createTexture();\n        },\n        onRequestIndex: () => {\n          return textureIndexes++;\n        },\n        onRequestContextHandle: () => {\n          return gl.TEXTURE0 + this.constantTextureCount++;\n        }\n      });\n      this.constantBitRatios[name] = kernelValue.bitRatio;\n      this.kernelConstants.push(kernelValue);\n      kernelValue.setup();\n      if (kernelValue.forceUploadEachRun) {\n        this.forceUploadKernelConstants.push(kernelValue);\n      }\n    }\n  }\n\n  build() {\n    if (this.built) return;\n    this.initExtensions();\n    this.validateSettings(arguments);\n    this.setupConstants(arguments);\n    if (this.fallbackRequested) return;\n    this.setupArguments(arguments);\n    if (this.fallbackRequested) return;\n    this.updateMaxTexSize();\n    this.translateSource();\n    const failureResult = this.pickRenderStrategy(arguments);\n    if (failureResult) {\n      return failureResult;\n    }\n    const { texSize, context: gl, canvas } = this;\n    gl.enable(gl.SCISSOR_TEST);\n    if (this.pipeline && this.precision === 'single') {\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      canvas.width = this.maxTexSize[0];\n      canvas.height = this.maxTexSize[1];\n    } else {\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      canvas.width = this.maxTexSize[0];\n      canvas.height = this.maxTexSize[1];\n    }\n    const threadDim = this.threadDim = Array.from(this.output);\n    while (threadDim.length < 3) {\n      threadDim.push(1);\n    }\n\n    const compiledVertexShader = this.getVertexShader(arguments);\n    const vertShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(vertShader, compiledVertexShader);\n    gl.compileShader(vertShader);\n    this.vertShader = vertShader;\n\n    const compiledFragmentShader = this.getFragmentShader(arguments);\n    const fragShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragShader, compiledFragmentShader);\n    gl.compileShader(fragShader);\n    this.fragShader = fragShader;\n\n    if (this.debug) {\n      console.log('GLSL Shader Output:');\n      console.log(compiledFragmentShader);\n    }\n\n    if (!gl.getShaderParameter(vertShader, gl.COMPILE_STATUS)) {\n      throw new Error('Error compiling vertex shader: ' + gl.getShaderInfoLog(vertShader));\n    }\n    if (!gl.getShaderParameter(fragShader, gl.COMPILE_STATUS)) {\n      throw new Error('Error compiling fragment shader: ' + gl.getShaderInfoLog(fragShader));\n    }\n\n    const program = this.program = gl.createProgram();\n    gl.attachShader(program, vertShader);\n    gl.attachShader(program, fragShader);\n    gl.linkProgram(program);\n    this.framebuffer = gl.createFramebuffer();\n    this.framebuffer.width = texSize[0];\n    this.framebuffer.height = texSize[1];\n    this.rawValueFramebuffers = {};\n\n    const vertices = new Float32Array([-1, -1,\n      1, -1, -1, 1,\n      1, 1\n    ]);\n    const texCoords = new Float32Array([\n      0, 0,\n      1, 0,\n      0, 1,\n      1, 1\n    ]);\n\n    const texCoordOffset = vertices.byteLength;\n\n    let buffer = this.buffer;\n    if (!buffer) {\n      buffer = this.buffer = gl.createBuffer();\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n      gl.bufferData(gl.ARRAY_BUFFER, vertices.byteLength + texCoords.byteLength, gl.STATIC_DRAW);\n    } else {\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    }\n\n    gl.bufferSubData(gl.ARRAY_BUFFER, 0, vertices);\n    gl.bufferSubData(gl.ARRAY_BUFFER, texCoordOffset, texCoords);\n\n    const aPosLoc = gl.getAttribLocation(this.program, 'aPos');\n    gl.enableVertexAttribArray(aPosLoc);\n    gl.vertexAttribPointer(aPosLoc, 2, gl.FLOAT, false, 0, 0);\n    const aTexCoordLoc = gl.getAttribLocation(this.program, 'aTexCoord');\n    gl.enableVertexAttribArray(aTexCoordLoc);\n    gl.vertexAttribPointer(aTexCoordLoc, 2, gl.FLOAT, false, 0, texCoordOffset);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n\n    let i = 0;\n    gl.useProgram(this.program);\n    for (let p in this.constants) {\n      this.kernelConstants[i++].updateValue(this.constants[p]);\n    }\n\n    this._setupOutputTexture();\n    if (\n      this.subKernels !== null &&\n      this.subKernels.length > 0\n    ) {\n      this._mappedTextureSwitched = {};\n      this._setupSubOutputTextures();\n    }\n    this.buildSignature(arguments);\n    this.built = true;\n  }\n\n  translateSource() {\n    const functionBuilder = FunctionBuilder.fromKernel(this, WebGLFunctionNode, {\n      fixIntegerDivisionAccuracy: this.fixIntegerDivisionAccuracy\n    });\n    this.translatedSource = functionBuilder.getPrototypeString('kernel');\n    this.setupReturnTypes(functionBuilder);\n  }\n\n  setupReturnTypes(functionBuilder) {\n    if (!this.graphical && !this.returnType) {\n      this.returnType = functionBuilder.getKernelResultType();\n    }\n\n    if (this.subKernels && this.subKernels.length > 0) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        const subKernel = this.subKernels[i];\n        if (!subKernel.returnType) {\n          subKernel.returnType = functionBuilder.getSubKernelResultType(i);\n        }\n      }\n    }\n  }\n\n  run() {\n    const { kernelArguments, texSize, forceUploadKernelConstants, context: gl } = this;\n\n    gl.useProgram(this.program);\n    gl.scissor(0, 0, texSize[0], texSize[1]);\n    if (this.dynamicOutput) {\n      this.setUniform3iv('uOutputDim', new Int32Array(this.threadDim));\n      this.setUniform2iv('uTexSize', texSize);\n    }\n\n    this.setUniform2f('ratio', texSize[0] / this.maxTexSize[0], texSize[1] / this.maxTexSize[1]);\n\n    for (let i = 0; i < forceUploadKernelConstants.length; i++) {\n      const constant = forceUploadKernelConstants[i];\n      constant.updateValue(this.constants[constant.name]);\n      if (this.switchingKernels) return;\n    }\n    for (let i = 0; i < kernelArguments.length; i++) {\n      kernelArguments[i].updateValue(arguments[i]);\n      if (this.switchingKernels) return;\n    }\n\n    if (this.plugins) {\n      for (let i = 0; i < this.plugins.length; i++) {\n        const plugin = this.plugins[i];\n        if (plugin.onBeforeRun) {\n          plugin.onBeforeRun(this);\n        }\n      }\n    }\n\n    if (this.graphical) {\n      if (this.pipeline) {\n        gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n        if (this.immutable) {\n          this._replaceOutputTexture();\n        }\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n        return this.immutable ? this.texture.clone() : this.texture;\n      }\n      gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n      return;\n    }\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n    if (this.immutable) {\n      this._replaceOutputTexture();\n    }\n\n    if (this.subKernels !== null) {\n      if (this.immutable) {\n        this._replaceSubOutputTextures();\n      }\n      this.drawBuffers();\n    }\n\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  }\n\n  drawBuffers() {\n    this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap);\n  }\n\n  getInternalFormat() {\n    return this.context.RGBA;\n  }\n  getTextureFormat() {\n    const { context: gl } = this;\n    switch (this.getInternalFormat()) {\n      case gl.RGBA:\n        return gl.RGBA;\n      default:\n        throw new Error('Unknown internal format');\n    }\n  }\n\n  _replaceOutputTexture() {\n    if (this.texture.beforeMutate() || this._textureSwitched) {\n      const gl = this.context;\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      this._textureSwitched = false;\n    }\n  }\n\n  _setupOutputTexture() {\n    const gl = this.context;\n    const texSize = this.texSize;\n    if (this.texture) {\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      return;\n    }\n    const texture = this.createTexture();\n    gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    const format = this.getInternalFormat();\n    if (this.precision === 'single') {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, gl.RGBA, gl.FLOAT, null);\n    } else {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, format, gl.UNSIGNED_BYTE, null);\n    }\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    this.texture = new this.TextureConstructor({\n      texture,\n      size: texSize,\n      dimensions: this.threadDim,\n      output: this.output,\n      context: this.context,\n      internalFormat: this.getInternalFormat(),\n      textureFormat: this.getTextureFormat(),\n      kernel: this,\n    });\n  }\n\n  _replaceSubOutputTextures() {\n    const gl = this.context;\n    for (let i = 0; i < this.mappedTextures.length; i++) {\n      const mappedTexture = this.mappedTextures[i];\n      if (mappedTexture.beforeMutate() || this._mappedTextureSwitched[i]) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, mappedTexture.texture, 0);\n        this._mappedTextureSwitched[i] = false;\n      }\n    }\n  }\n\n  _setupSubOutputTextures() {\n    const gl = this.context;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, this.mappedTextures[i].texture, 0);\n      }\n      return;\n    }\n    const texSize = this.texSize;\n    this.drawBuffersMap = [gl.COLOR_ATTACHMENT0];\n    this.mappedTextures = [];\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const texture = this.createTexture();\n      this.drawBuffersMap.push(gl.COLOR_ATTACHMENT0 + i + 1);\n      gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount + i);\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      if (this.precision === 'single') {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.FLOAT, null);\n      } else {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      }\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, texture, 0);\n\n      this.mappedTextures.push(new this.TextureConstructor({\n        texture,\n        size: texSize,\n        dimensions: this.threadDim,\n        output: this.output,\n        context: this.context,\n        internalFormat: this.getInternalFormat(),\n        textureFormat: this.getTextureFormat(),\n        kernel: this,\n      }));\n    }\n  }\n\n  setUniform1f(name, value) {\n    if (this.uniform1fCache.hasOwnProperty(name)) {\n      const cache = this.uniform1fCache[name];\n      if (value === cache) {\n        return;\n      }\n    }\n    this.uniform1fCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform1f(loc, value);\n  }\n\n  setUniform1i(name, value) {\n    if (this.uniform1iCache.hasOwnProperty(name)) {\n      const cache = this.uniform1iCache[name];\n      if (value === cache) {\n        return;\n      }\n    }\n    this.uniform1iCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform1i(loc, value);\n  }\n\n  setUniform2f(name, value1, value2) {\n    if (this.uniform2fCache.hasOwnProperty(name)) {\n      const cache = this.uniform2fCache[name];\n      if (\n        value1 === cache[0] &&\n        value2 === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2fCache[name] = [value1, value2];\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2f(loc, value1, value2);\n  }\n\n  setUniform2fv(name, value) {\n    if (this.uniform2fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform2fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2fv(loc, value);\n  }\n\n  setUniform2iv(name, value) {\n    if (this.uniform2ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform2ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2iv(loc, value);\n  }\n\n  setUniform3fv(name, value) {\n    if (this.uniform3fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform3fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2]\n      ) {\n        return;\n      }\n    }\n    this.uniform3fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform3fv(loc, value);\n  }\n\n  setUniform3iv(name, value) {\n    if (this.uniform3ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform3ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2]\n      ) {\n        return;\n      }\n    }\n    this.uniform3ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform3iv(loc, value);\n  }\n\n  setUniform4fv(name, value) {\n    if (this.uniform4fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform4fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2] &&\n        value[3] === cache[3]\n      ) {\n        return;\n      }\n    }\n    this.uniform4fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform4fv(loc, value);\n  }\n\n  setUniform4iv(name, value) {\n    if (this.uniform4ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform4ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2] &&\n        value[3] === cache[3]\n      ) {\n        return;\n      }\n    }\n    this.uniform4ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform4iv(loc, value);\n  }\n\n  getUniformLocation(name) {\n    if (this.programUniformLocationCache.hasOwnProperty(name)) {\n      return this.programUniformLocationCache[name];\n    }\n    return this.programUniformLocationCache[name] = this.context.getUniformLocation(this.program, name);\n  }\n\n  _getFragShaderArtifactMap(args) {\n    return {\n      HEADER: this._getHeaderString(),\n      LOOP_MAX: this._getLoopMaxString(),\n      PLUGINS: this._getPluginsString(),\n      CONSTANTS: this._getConstantsString(),\n      DECODE32_ENDIANNESS: this._getDecode32EndiannessString(),\n      ENCODE32_ENDIANNESS: this._getEncode32EndiannessString(),\n      DIVIDE_WITH_INTEGER_CHECK: this._getDivideWithIntegerCheckString(),\n      INJECTED_NATIVE: this._getInjectedNative(),\n      MAIN_CONSTANTS: this._getMainConstantsString(),\n      MAIN_ARGUMENTS: this._getMainArgumentsString(args),\n      KERNEL: this.getKernelString(),\n      MAIN_RESULT: this.getMainResultString(),\n      FLOAT_TACTIC_DECLARATION: this.getFloatTacticDeclaration(),\n      INT_TACTIC_DECLARATION: this.getIntTacticDeclaration(),\n      SAMPLER_2D_TACTIC_DECLARATION: this.getSampler2DTacticDeclaration(),\n      SAMPLER_2D_ARRAY_TACTIC_DECLARATION: this.getSampler2DArrayTacticDeclaration(),\n    };\n  }\n\n  _getVertShaderArtifactMap(args) {\n    return {\n      FLOAT_TACTIC_DECLARATION: this.getFloatTacticDeclaration(),\n      INT_TACTIC_DECLARATION: this.getIntTacticDeclaration(),\n      SAMPLER_2D_TACTIC_DECLARATION: this.getSampler2DTacticDeclaration(),\n      SAMPLER_2D_ARRAY_TACTIC_DECLARATION: this.getSampler2DArrayTacticDeclaration(),\n    };\n  }\n\n  _getHeaderString() {\n    return (\n      this.subKernels !== null ?\n      '#extension GL_EXT_draw_buffers : require\\n' :\n      ''\n    );\n  }\n\n  _getLoopMaxString() {\n    return (\n      this.loopMaxIterations ?\n      ` ${parseInt(this.loopMaxIterations)};\\n` :\n      ' 1000;\\n'\n    );\n  }\n\n  _getPluginsString() {\n    if (!this.plugins) return '\\n';\n    return this.plugins.map(plugin => plugin.source && this.source.match(plugin.functionMatch) ? plugin.source : '').join('\\n');\n  }\n\n  _getConstantsString() {\n    const result = [];\n    const { threadDim, texSize } = this;\n    if (this.dynamicOutput) {\n      result.push(\n        'uniform ivec3 uOutputDim',\n        'uniform ivec2 uTexSize'\n      );\n    } else {\n      result.push(\n        `ivec3 uOutputDim = ivec3(${threadDim[0]}, ${threadDim[1]}, ${threadDim[2]})`,\n        `ivec2 uTexSize = ivec2(${texSize[0]}, ${texSize[1]})`\n      );\n    }\n    return utils.linesToString(result);\n  }\n\n  _getTextureCoordinate() {\n    const subKernels = this.subKernels;\n    if (subKernels === null || subKernels.length < 1) {\n      return 'varying vec2 vTexCoord;\\n';\n    } else {\n      return 'out vec2 vTexCoord;\\n';\n    }\n  }\n\n  _getDecode32EndiannessString() {\n    return (\n      this.endianness === 'LE' ?\n      '' :\n      '  texel.rgba = texel.abgr;\\n'\n    );\n  }\n\n  _getEncode32EndiannessString() {\n    return (\n      this.endianness === 'LE' ?\n      '' :\n      '  texel.rgba = texel.abgr;\\n'\n    );\n  }\n\n  _getDivideWithIntegerCheckString() {\n    return this.fixIntegerDivisionAccuracy ?\n      `float divWithIntCheck(float x, float y) {\n  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {\n    return float(int(x) / int(y));\n  }\n  return x / y;\n}\n\nfloat integerCorrectionModulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return number - (divisor * floor(divWithIntCheck(number, divisor)));\n}` :\n      '';\n  }\n\n  _getMainArgumentsString(args) {\n    const results = [];\n    const { argumentNames } = this;\n    for (let i = 0; i < argumentNames.length; i++) {\n      results.push(this.kernelArguments[i].getSource(args[i]));\n    }\n    return results.join('');\n  }\n\n  _getInjectedNative() {\n    return this.injectedNative || '';\n  }\n\n  _getMainConstantsString() {\n    const result = [];\n    const { constants } = this;\n    if (constants) {\n      let i = 0;\n      for (const name in constants) {\n        if (!this.constants.hasOwnProperty(name)) continue;\n        result.push(this.kernelConstants[i++].getSource(this.constants[name]));\n      }\n    }\n    return result.join('');\n  }\n\n  getRawValueFramebuffer(width, height) {\n    if (!this.rawValueFramebuffers[width]) {\n      this.rawValueFramebuffers[width] = {};\n    }\n    if (!this.rawValueFramebuffers[width][height]) {\n      const framebuffer = this.context.createFramebuffer();\n      framebuffer.width = width;\n      framebuffer.height = height;\n      this.rawValueFramebuffers[width][height] = framebuffer;\n    }\n    return this.rawValueFramebuffers[width][height];\n  }\n\n  getKernelResultDeclaration() {\n    switch (this.returnType) {\n      case 'Array(2)':\n        return 'vec2 kernelResult';\n      case 'Array(3)':\n        return 'vec3 kernelResult';\n      case 'Array(4)':\n        return 'vec4 kernelResult';\n      case 'LiteralInteger':\n      case 'Float':\n      case 'Number':\n      case 'Integer':\n        return 'float kernelResult';\n      default:\n        if (this.graphical) {\n          return 'float kernelResult';\n        } else {\n          throw new Error(`unrecognized output type \"${ this.returnType }\"`);\n        }\n    }\n  }\n  getKernelString() {\n    const result = [this.getKernelResultDeclaration()];\n    const { subKernels } = this;\n    if (subKernels !== null) {\n      switch (this.returnType) {\n        case 'Number':\n        case 'Float':\n        case 'Integer':\n          for (let i = 0; i < subKernels.length; i++) {\n            const subKernel = subKernels[i];\n            result.push(\n              subKernel.returnType === 'Integer' ?\n              `int subKernelResult_${ subKernel.name } = 0` :\n              `float subKernelResult_${ subKernel.name } = 0.0`\n            );\n          }\n          break;\n        case 'Array(2)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec2 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n        case 'Array(3)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec3 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n        case 'Array(4)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec4 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n      }\n    }\n\n    return utils.linesToString(result) + this.translatedSource;\n  }\n\n  getMainResultGraphical() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragColor = actualColor',\n    ]);\n  }\n\n  getMainResultPackedPixels() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return this.getMainResultKernelPackedPixels() +\n          this.getMainResultSubKernelPackedPixels();\n      default:\n        throw new Error(`packed output only usable with Numbers, \"${this.returnType}\" specified`);\n    }\n  }\n\n  getMainResultKernelPackedPixels() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  gl_FragData[0] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(kernelResult)`\n    ]);\n  }\n\n  getMainResultSubKernelPackedPixels() {\n    const result = [];\n    if (!this.subKernels) return '';\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(float(subKernelResult_${this.subKernels[i].name}))`\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(subKernelResult_${this.subKernels[i].name})`\n        );\n      }\n    }\n    return utils.linesToString(result);\n  }\n\n  getMainResultMemoryOptimizedFloats() {\n    const result = [\n      '  index *= 4',\n    ];\n\n    switch (this.returnType) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        const channels = ['r', 'g', 'b', 'a'];\n        for (let i = 0; i < channels.length; i++) {\n          const channel = channels[i];\n          this.getMainResultKernelMemoryOptimizedFloats(result, channel);\n          this.getMainResultSubKernelMemoryOptimizedFloats(result, channel);\n          if (i + 1 < channels.length) {\n            result.push('  index += 1');\n          }\n        }\n        break;\n      default:\n        throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`);\n    }\n\n    return utils.linesToString(result);\n  }\n\n  getMainResultKernelMemoryOptimizedFloats(result, channel) {\n    result.push(\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  gl_FragData[0].${channel} = kernelResult`\n    );\n  }\n\n  getMainResultSubKernelMemoryOptimizedFloats(result, channel) {\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}].${channel} = float(subKernelResult_${this.subKernels[i].name})`\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}].${channel} = subKernelResult_${this.subKernels[i].name}`\n        );\n      }\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelNumberTexture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}][0] = float(subKernelResult_${subKernel.name})`\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}][0] = subKernelResult_${subKernel.name}`\n        );\n      }\n    }\n    return result;\n  }\n\n  getMainResultKernelArray2Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult[0]',\n      '  gl_FragData[0][1] = kernelResult[1]',\n    ];\n  }\n\n  getMainResultSubKernelArray2Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n        `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray3Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult[0]',\n      '  gl_FragData[0][1] = kernelResult[1]',\n      '  gl_FragData[0][2] = kernelResult[2]',\n    ];\n  }\n\n  getMainResultSubKernelArray3Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n        `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n        `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray4Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelArray4Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    switch (this.returnType) {\n      case 'Number':\n      case 'Float':\n      case 'Integer':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          const subKernel = this.subKernels[i];\n          if (subKernel.returnType === 'Integer') {\n            result.push(\n              `  gl_FragData[${i + 1}] = float(subKernelResult_${this.subKernels[i].name})`\n            );\n          } else {\n            result.push(\n              `  gl_FragData[${i + 1}] = subKernelResult_${this.subKernels[i].name}`\n            );\n          }\n        }\n        break;\n      case 'Array(2)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`\n          );\n        }\n        break;\n      case 'Array(3)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n            `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`\n          );\n        }\n        break;\n      case 'Array(4)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n            `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`,\n            `  gl_FragData[${i + 1}][3] = subKernelResult_${this.subKernels[i].name}[3]`\n          );\n        }\n        break;\n    }\n\n    return result;\n  }\n\n  replaceArtifacts(src, map) {\n    return src.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\\n/g, (match, artifact) => {\n      if (map.hasOwnProperty(artifact)) {\n        return map[artifact];\n      }\n      throw `unhandled artifact ${artifact}`;\n    });\n  }\n\n  getFragmentShader(args) {\n    if (this.compiledFragmentShader !== null) {\n      return this.compiledFragmentShader;\n    }\n    return this.compiledFragmentShader = this.replaceArtifacts(this.constructor.fragmentShader, this._getFragShaderArtifactMap(args));\n  }\n\n  getVertexShader(args) {\n    if (this.compiledVertexShader !== null) {\n      return this.compiledVertexShader;\n    }\n    return this.compiledVertexShader = this.replaceArtifacts(this.constructor.vertexShader, this._getVertShaderArtifactMap(args));\n  }\n\n  toString() {\n    const setupContextString = utils.linesToString([\n      `const gl = context`,\n    ]);\n    return glKernelString(this.constructor, arguments, this, setupContextString);\n  }\n\n  destroy(removeCanvasReferences) {\n    if (!this.context) return;\n    if (this.buffer) {\n      this.context.deleteBuffer(this.buffer);\n    }\n    if (this.framebuffer) {\n      this.context.deleteFramebuffer(this.framebuffer);\n    }\n    for (const width in this.rawValueFramebuffers) {\n      for (const height in this.rawValueFramebuffers[width]) {\n        this.context.deleteFramebuffer(this.rawValueFramebuffers[width][height]);\n        delete this.rawValueFramebuffers[width][height];\n      }\n      delete this.rawValueFramebuffers[width];\n    }\n    if (this.vertShader) {\n      this.context.deleteShader(this.vertShader);\n    }\n    if (this.fragShader) {\n      this.context.deleteShader(this.fragShader);\n    }\n    if (this.program) {\n      this.context.deleteProgram(this.program);\n    }\n    if (this.texture) {\n      this.texture.delete();\n      const textureCacheIndex = this.textureCache.indexOf(this.texture.texture);\n      if (textureCacheIndex > -1) {\n        this.textureCache.splice(textureCacheIndex, 1);\n      }\n      this.texture = null;\n    }\n    if (this.mappedTextures && this.mappedTextures.length) {\n      for (let i = 0; i < this.mappedTextures.length; i++) {\n        const mappedTexture = this.mappedTextures[i];\n        mappedTexture.delete();\n        const textureCacheIndex = this.textureCache.indexOf(mappedTexture.texture);\n        if (textureCacheIndex > -1) {\n          this.textureCache.splice(textureCacheIndex, 1);\n        }\n      }\n      this.mappedTextures = null;\n    }\n    if (this.kernelArguments) {\n      for (let i = 0; i < this.kernelArguments.length; i++) {\n        this.kernelArguments[i].destroy();\n      }\n    }\n    if (this.kernelConstants) {\n      for (let i = 0; i < this.kernelConstants.length; i++) {\n        this.kernelConstants[i].destroy();\n      }\n    }\n    while (this.textureCache.length > 0) {\n      const texture = this.textureCache.pop();\n      this.context.deleteTexture(texture);\n    }\n    if (removeCanvasReferences) {\n      const idx = canvases.indexOf(this.canvas);\n      if (idx >= 0) {\n        canvases[idx] = null;\n        maxTexSizes[idx] = null;\n      }\n    }\n    this.destroyExtensions();\n    delete this.context;\n    delete this.canvas;\n    if (!this.gpu) return;\n    const i = this.gpu.kernels.indexOf(this);\n    if (i === -1) return;\n    this.gpu.kernels.splice(i, 1);\n  }\n\n  destroyExtensions() {\n    this.extensions.OES_texture_float = null;\n    this.extensions.OES_texture_float_linear = null;\n    this.extensions.OES_element_index_uint = null;\n    this.extensions.WEBGL_draw_buffers = null;\n  }\n\n  static destroyContext(context) {\n    const extension = context.getExtension('WEBGL_lose_context');\n    if (extension) {\n      extension.loseContext();\n    }\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, WebGLFunctionNode).toJSON();\n    json.settings.threadDim = this.threadDim;\n    return json;\n  }\n}\n\nmodule.exports = {\n  WebGLKernel\n};\n},{\"../../plugins/math-random-uniformly-distributed\":112,\"../../utils\":114,\"../function-builder\":9,\"../gl/kernel\":13,\"../gl/kernel-string\":12,\"./fragment-shader\":37,\"./function-node\":38,\"./kernel-value-maps\":39,\"./vertex-shader\":71}],71:[function(require,module,exports){\nconst vertexShader = `__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nattribute vec2 aPos;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}`;\n\nmodule.exports = {\n  vertexShader\n};\n},{}],72:[function(require,module,exports){\nconst fragmentShader = `#version 300 es\n__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nin vec2 vTexCoord;\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x/y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY\\'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  return texel[channel] * 255.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  index = index / 4;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return texel[channel];\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, st / vec2(texSize));\n}\n\nvec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, vec3(st / vec2(texSize), z));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n\n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;\n\nmodule.exports = {\n  fragmentShader\n};\n},{}],73:[function(require,module,exports){\nconst { utils } = require('../../utils');\nconst { WebGLFunctionNode } = require('../web-gl/function-node');\n\nclass WebGL2FunctionNode extends WebGLFunctionNode {\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput(\n        'IdentifierExpression - not an Identifier',\n        idtNode\n      );\n    }\n\n    const type = this.getType(idtNode);\n\n    const name = utils.sanitizeName(idtNode.name);\n    if (idtNode.name === 'Infinity') {\n      retArr.push('intBitsToFloat(2139095039)');\n    } else if (type === 'Boolean') {\n      if (this.argumentNames.indexOf(name) > -1) {\n        retArr.push(`bool(user_${name})`);\n      } else {\n        retArr.push(`user_${name}`);\n      }\n    } else {\n      retArr.push(`user_${name}`);\n    }\n\n    return retArr;\n  }\n}\n\nmodule.exports = {\n  WebGL2FunctionNode\n};\n},{\"../../utils\":114,\"../web-gl/function-node\":38}],74:[function(require,module,exports){\nconst { WebGL2KernelValueBoolean } = require('./kernel-value/boolean');\nconst { WebGL2KernelValueFloat } = require('./kernel-value/float');\nconst { WebGL2KernelValueInteger } = require('./kernel-value/integer');\n\nconst { WebGL2KernelValueHTMLImage } = require('./kernel-value/html-image');\nconst { WebGL2KernelValueDynamicHTMLImage } = require('./kernel-value/dynamic-html-image');\n\nconst { WebGL2KernelValueHTMLImageArray } = require('./kernel-value/html-image-array');\nconst { WebGL2KernelValueDynamicHTMLImageArray } = require('./kernel-value/dynamic-html-image-array');\n\nconst { WebGL2KernelValueHTMLVideo } = require('./kernel-value/html-video');\nconst { WebGL2KernelValueDynamicHTMLVideo } = require('./kernel-value/dynamic-html-video');\n\nconst { WebGL2KernelValueSingleInput } = require('./kernel-value/single-input');\nconst { WebGL2KernelValueDynamicSingleInput } = require('./kernel-value/dynamic-single-input');\n\nconst { WebGL2KernelValueUnsignedInput } = require('./kernel-value/unsigned-input');\nconst { WebGL2KernelValueDynamicUnsignedInput } = require('./kernel-value/dynamic-unsigned-input');\n\nconst { WebGL2KernelValueMemoryOptimizedNumberTexture } = require('./kernel-value/memory-optimized-number-texture');\nconst { WebGL2KernelValueDynamicMemoryOptimizedNumberTexture } = require('./kernel-value/dynamic-memory-optimized-number-texture');\n\nconst { WebGL2KernelValueNumberTexture } = require('./kernel-value/number-texture');\nconst { WebGL2KernelValueDynamicNumberTexture } = require('./kernel-value/dynamic-number-texture');\n\nconst { WebGL2KernelValueSingleArray } = require('./kernel-value/single-array');\nconst { WebGL2KernelValueDynamicSingleArray } = require('./kernel-value/dynamic-single-array');\n\nconst { WebGL2KernelValueSingleArray1DI } = require('./kernel-value/single-array1d-i');\nconst { WebGL2KernelValueDynamicSingleArray1DI } = require('./kernel-value/dynamic-single-array1d-i');\n\nconst { WebGL2KernelValueSingleArray2DI } = require('./kernel-value/single-array2d-i');\nconst { WebGL2KernelValueDynamicSingleArray2DI } = require('./kernel-value/dynamic-single-array2d-i');\n\nconst { WebGL2KernelValueSingleArray3DI } = require('./kernel-value/single-array3d-i');\nconst { WebGL2KernelValueDynamicSingleArray3DI } = require('./kernel-value/dynamic-single-array3d-i');\n\nconst { WebGL2KernelValueArray2 } = require('./kernel-value/array2');\nconst { WebGL2KernelValueArray3 } = require('./kernel-value/array3');\nconst { WebGL2KernelValueArray4 } = require('./kernel-value/array4');\n\nconst { WebGL2KernelValueUnsignedArray } = require('./kernel-value/unsigned-array');\nconst { WebGL2KernelValueDynamicUnsignedArray } = require('./kernel-value/dynamic-unsigned-array');\n\nconst kernelValueMaps = {\n  unsigned: {\n    dynamic: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Integer': WebGL2KernelValueInteger,\n      'Float': WebGL2KernelValueFloat,\n      'Array': WebGL2KernelValueDynamicUnsignedArray,\n      'Array(2)': WebGL2KernelValueArray2,\n      'Array(3)': WebGL2KernelValueArray3,\n      'Array(4)': WebGL2KernelValueArray4,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGL2KernelValueDynamicUnsignedInput,\n      'NumberTexture': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImage': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueDynamicHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Float': WebGL2KernelValueFloat,\n      'Integer': WebGL2KernelValueInteger,\n      'Array': WebGL2KernelValueUnsignedArray,\n      'Array(2)': WebGL2KernelValueArray2,\n      'Array(3)': WebGL2KernelValueArray3,\n      'Array(4)': WebGL2KernelValueArray4,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGL2KernelValueUnsignedInput,\n      'NumberTexture': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueHTMLImage,\n      'HTMLImage': WebGL2KernelValueHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueHTMLVideo,\n    }\n  },\n  single: {\n    dynamic: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Integer': WebGL2KernelValueInteger,\n      'Float': WebGL2KernelValueFloat,\n      'Array': WebGL2KernelValueDynamicSingleArray,\n      'Array(2)': WebGL2KernelValueArray2,\n      'Array(3)': WebGL2KernelValueArray3,\n      'Array(4)': WebGL2KernelValueArray4,\n      'Array1D(2)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array1D(3)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array1D(4)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array2D(2)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array2D(3)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array2D(4)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array3D(2)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Array3D(3)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Array3D(4)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Input': WebGL2KernelValueDynamicSingleInput,\n      'NumberTexture': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImage': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueDynamicHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Float': WebGL2KernelValueFloat,\n      'Integer': WebGL2KernelValueInteger,\n      'Array': WebGL2KernelValueSingleArray,\n      'Array(2)': WebGL2KernelValueArray2,\n      'Array(3)': WebGL2KernelValueArray3,\n      'Array(4)': WebGL2KernelValueArray4,\n      'Array1D(2)': WebGL2KernelValueSingleArray1DI,\n      'Array1D(3)': WebGL2KernelValueSingleArray1DI,\n      'Array1D(4)': WebGL2KernelValueSingleArray1DI,\n      'Array2D(2)': WebGL2KernelValueSingleArray2DI,\n      'Array2D(3)': WebGL2KernelValueSingleArray2DI,\n      'Array2D(4)': WebGL2KernelValueSingleArray2DI,\n      'Array3D(2)': WebGL2KernelValueSingleArray3DI,\n      'Array3D(3)': WebGL2KernelValueSingleArray3DI,\n      'Array3D(4)': WebGL2KernelValueSingleArray3DI,\n      'Input': WebGL2KernelValueSingleInput,\n      'NumberTexture': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueHTMLImage,\n      'HTMLImage': WebGL2KernelValueHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueHTMLVideo,\n    }\n  },\n};\n\nfunction lookupKernelValueType(type, dynamic, precision, value) {\n  if (!type) {\n    throw new Error('type missing');\n  }\n  if (!dynamic) {\n    throw new Error('dynamic missing');\n  }\n  if (!precision) {\n    throw new Error('precision missing');\n  }\n  if (value.type) {\n    type = value.type;\n  }\n  const types = kernelValueMaps[precision][dynamic];\n  if (types[type] === false) {\n    return null;\n  } else if (types[type] === undefined) {\n    throw new Error(`Could not find a KernelValue for ${ type }`);\n  }\n  return types[type];\n}\n\nmodule.exports = {\n  kernelValueMaps,\n  lookupKernelValueType\n};\n},{\"./kernel-value/array2\":75,\"./kernel-value/array3\":76,\"./kernel-value/array4\":77,\"./kernel-value/boolean\":78,\"./kernel-value/dynamic-html-image\":80,\"./kernel-value/dynamic-html-image-array\":79,\"./kernel-value/dynamic-html-video\":81,\"./kernel-value/dynamic-memory-optimized-number-texture\":82,\"./kernel-value/dynamic-number-texture\":83,\"./kernel-value/dynamic-single-array\":84,\"./kernel-value/dynamic-single-array1d-i\":85,\"./kernel-value/dynamic-single-array2d-i\":86,\"./kernel-value/dynamic-single-array3d-i\":87,\"./kernel-value/dynamic-single-input\":88,\"./kernel-value/dynamic-unsigned-array\":89,\"./kernel-value/dynamic-unsigned-input\":90,\"./kernel-value/float\":91,\"./kernel-value/html-image\":93,\"./kernel-value/html-image-array\":92,\"./kernel-value/html-video\":94,\"./kernel-value/integer\":95,\"./kernel-value/memory-optimized-number-texture\":96,\"./kernel-value/number-texture\":97,\"./kernel-value/single-array\":98,\"./kernel-value/single-array1d-i\":99,\"./kernel-value/single-array2d-i\":100,\"./kernel-value/single-array3d-i\":101,\"./kernel-value/single-input\":102,\"./kernel-value/unsigned-array\":103,\"./kernel-value/unsigned-input\":104}],75:[function(require,module,exports){\nconst { WebGLKernelValueArray2 } = require('../../web-gl/kernel-value/array2');\n\nclass WebGL2KernelValueArray2 extends WebGLKernelValueArray2 {}\n\nmodule.exports = {\n  WebGL2KernelValueArray2\n};\n},{\"../../web-gl/kernel-value/array2\":41}],76:[function(require,module,exports){\nconst { WebGLKernelValueArray3 } = require('../../web-gl/kernel-value/array3');\n\nclass WebGL2KernelValueArray3 extends WebGLKernelValueArray3 {}\n\nmodule.exports = {\n  WebGL2KernelValueArray3\n};\n},{\"../../web-gl/kernel-value/array3\":42}],77:[function(require,module,exports){\nconst { WebGLKernelValueArray4 } = require('../../web-gl/kernel-value/array4');\n\nclass WebGL2KernelValueArray4 extends WebGLKernelValueArray4 {}\n\nmodule.exports = {\n  WebGL2KernelValueArray4\n};\n},{\"../../web-gl/kernel-value/array4\":43}],78:[function(require,module,exports){\nconst { WebGLKernelValueBoolean } = require('../../web-gl/kernel-value/boolean');\n\nclass WebGL2KernelValueBoolean extends WebGLKernelValueBoolean {}\n\nmodule.exports = {\n  WebGL2KernelValueBoolean\n};\n},{\"../../web-gl/kernel-value/boolean\":44}],79:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueHTMLImageArray } = require('./html-image-array');\n\nclass WebGL2KernelValueDynamicHTMLImageArray extends WebGL2KernelValueHTMLImageArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2DArray ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(images) {\n    const { width, height } = images[0];\n    this.checkSize(width, height);\n    this.dimensions = [width, height, images.length];\n    this.textureSize = [width, height];\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(images);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLImageArray\n};\n},{\"../../../utils\":114,\"./html-image-array\":92}],80:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicHTMLImage } = require('../../web-gl/kernel-value/dynamic-html-image');\n\nclass WebGL2KernelValueDynamicHTMLImage extends WebGLKernelValueDynamicHTMLImage {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLImage\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-html-image\":45}],81:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueDynamicHTMLImage } = require('./dynamic-html-image');\n\nclass WebGL2KernelValueDynamicHTMLVideo extends WebGL2KernelValueDynamicHTMLImage {}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLVideo\n};\n},{\"../../../utils\":114,\"./dynamic-html-image\":80}],82:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicMemoryOptimizedNumberTexture } = require('../../web-gl/kernel-value/dynamic-memory-optimized-number-texture');\n\nclass WebGL2KernelValueDynamicMemoryOptimizedNumberTexture extends WebGLKernelValueDynamicMemoryOptimizedNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture\":47}],83:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicNumberTexture } = require('../../web-gl/kernel-value/dynamic-number-texture');\n\nclass WebGL2KernelValueDynamicNumberTexture extends WebGLKernelValueDynamicNumberTexture {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-number-texture\":48}],84:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray } = require('../../web-gl2/kernel-value/single-array');\n\nclass WebGL2KernelValueDynamicSingleArray extends WebGL2KernelValueSingleArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array\":98}],85:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray1DI } = require('../../web-gl2/kernel-value/single-array1d-i');\n\nclass WebGL2KernelValueDynamicSingleArray1DI extends WebGL2KernelValueSingleArray1DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray1DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array1d-i\":99}],86:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray2DI } = require('../../web-gl2/kernel-value/single-array2d-i');\n\nclass WebGL2KernelValueDynamicSingleArray2DI extends WebGL2KernelValueSingleArray2DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray2DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array2d-i\":100}],87:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray3DI } = require('../../web-gl2/kernel-value/single-array3d-i');\n\nclass WebGL2KernelValueDynamicSingleArray3DI extends WebGL2KernelValueSingleArray3DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray3DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array3d-i\":101}],88:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleInput } = require('../../web-gl2/kernel-value/single-input');\n\nclass WebGL2KernelValueDynamicSingleInput extends WebGL2KernelValueSingleInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleInput\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-input\":102}],89:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicUnsignedArray } = require('../../web-gl/kernel-value/dynamic-unsigned-array');\n\nclass WebGL2KernelValueDynamicUnsignedArray extends WebGLKernelValueDynamicUnsignedArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicUnsignedArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-unsigned-array\":54}],90:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicUnsignedInput } = require('../../web-gl/kernel-value/dynamic-unsigned-input');\n\nclass WebGL2KernelValueDynamicUnsignedInput extends WebGLKernelValueDynamicUnsignedInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicUnsignedInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-unsigned-input\":55}],91:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueFloat } = require('../../web-gl/kernel-value/float');\n\nclass WebGL2KernelValueFloat extends WebGLKernelValueFloat {}\n\nmodule.exports = {\n  WebGL2KernelValueFloat\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/float\":56}],92:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('../../web-gl/kernel-value/array');\n\nclass WebGL2KernelValueHTMLImageArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.checkSize(value[0].width, value[0].height);\n    this.dimensions = [value[0].width, value[0].height, value.length];\n    this.textureSize = [value[0].width, value[0].height];\n  }\n  defineTexture() {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D_ARRAY, this.texture);\n    gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2DArray ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(images) {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D_ARRAY, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n    gl.texImage3D(\n      gl.TEXTURE_2D_ARRAY,\n      0,\n      gl.RGBA,\n      images[0].width,\n      images[0].height,\n      images.length,\n      0,\n      gl.RGBA,\n      gl.UNSIGNED_BYTE,\n      null\n    );\n    for (let i = 0; i < images.length; i++) {\n      const xOffset = 0;\n      const yOffset = 0;\n      const imageDepth = 1;\n      gl.texSubImage3D(\n        gl.TEXTURE_2D_ARRAY,\n        0,\n        xOffset,\n        yOffset,\n        i,\n        images[i].width,\n        images[i].height,\n        imageDepth,\n        gl.RGBA,\n        gl.UNSIGNED_BYTE,\n        this.uploadValue = images[i]\n      );\n    }\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLImageArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/array\":40}],93:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueHTMLImage } = require('../../web-gl/kernel-value/html-image');\n\nclass WebGL2KernelValueHTMLImage extends WebGLKernelValueHTMLImage {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLImage\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/html-image\":57}],94:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueHTMLImage } = require('./html-image');\n\nclass WebGL2KernelValueHTMLVideo extends WebGL2KernelValueHTMLImage {}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLVideo\n};\n},{\"../../../utils\":114,\"./html-image\":93}],95:[function(require,module,exports){\nconst { WebGLKernelValueInteger } = require('../../web-gl/kernel-value/integer');\n\nclass WebGL2KernelValueInteger extends WebGLKernelValueInteger {\n  getSource(value) {\n    const variablePrecision = this.getVariablePrecisionString();\n    if (this.origin === 'constants') {\n      return `const ${ variablePrecision } int ${this.id} = ${ parseInt(value) };\\n`;\n    }\n    return `uniform ${ variablePrecision } int ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueInteger\n};\n},{\"../../web-gl/kernel-value/integer\":60}],96:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('../../web-gl/kernel-value/memory-optimized-number-texture');\n\nclass WebGL2KernelValueMemoryOptimizedNumberTexture extends WebGLKernelValueMemoryOptimizedNumberTexture {\n  getSource() {\n    const { id, sizeId, textureSize, dimensionsId, dimensions } = this;\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform sampler2D ${id}`,\n      `${ variablePrecision } ivec2 ${sizeId} = ivec2(${textureSize[0]}, ${textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${dimensionsId} = ivec3(${dimensions[0]}, ${dimensions[1]}, ${dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/memory-optimized-number-texture\":61}],97:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueNumberTexture } = require('../../web-gl/kernel-value/number-texture');\n\nclass WebGL2KernelValueNumberTexture extends WebGLKernelValueNumberTexture {\n  getSource() {\n    const { id, sizeId, textureSize, dimensionsId, dimensions } = this;\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${id}`,\n      `${ variablePrecision } ivec2 ${sizeId} = ivec2(${textureSize[0]}, ${textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${dimensionsId} = ivec3(${dimensions[0]}, ${dimensions[1]}, ${dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/number-texture\":62}],98:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray } = require('../../web-gl/kernel-value/single-array');\n\nclass WebGL2KernelValueSingleArray extends WebGLKernelValueSingleArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array\":63}],99:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray1DI } = require('../../web-gl/kernel-value/single-array1d-i');\n\nclass WebGL2KernelValueSingleArray1DI extends WebGLKernelValueSingleArray1DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray1DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array1d-i\":64}],100:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray2DI } = require('../../web-gl/kernel-value/single-array2d-i');\n\nclass WebGL2KernelValueSingleArray2DI extends WebGLKernelValueSingleArray2DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray2DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array2d-i\":65}],101:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray3DI } = require('../../web-gl/kernel-value/single-array3d-i');\n\nclass WebGL2KernelValueSingleArray3DI extends WebGLKernelValueSingleArray3DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray3DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array3d-i\":66}],102:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleInput } = require('../../web-gl/kernel-value/single-input');\n\nclass WebGL2KernelValueSingleInput extends WebGLKernelValueSingleInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-input\":67}],103:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedArray } = require('../../web-gl/kernel-value/unsigned-array');\n\nclass WebGL2KernelValueUnsignedArray extends WebGLKernelValueUnsignedArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueUnsignedArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/unsigned-array\":68}],104:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedInput } = require('../../web-gl/kernel-value/unsigned-input');\n\nclass WebGL2KernelValueUnsignedInput extends WebGLKernelValueUnsignedInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueUnsignedInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/unsigned-input\":69}],105:[function(require,module,exports){\nconst { WebGLKernel } = require('../web-gl/kernel');\nconst { WebGL2FunctionNode } = require('./function-node');\nconst { FunctionBuilder } = require('../function-builder');\nconst { utils } = require('../../utils');\nconst { fragmentShader } = require('./fragment-shader');\nconst { vertexShader } = require('./vertex-shader');\nconst { lookupKernelValueType } = require('./kernel-value-maps');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\n\nlet features = null;\n\nclass WebGL2Kernel extends WebGLKernel {\n  static get isSupported() {\n    if (isSupported !== null) {\n      return isSupported;\n    }\n    this.setupFeatureChecks();\n    isSupported = this.isContextMatch(testContext);\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    if (typeof document !== 'undefined') {\n      testCanvas = document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      testCanvas = new OffscreenCanvas(0, 0);\n    }\n    if (!testCanvas) return;\n    testContext = testCanvas.getContext('webgl2');\n    if (!testContext || !testContext.getExtension) return;\n    testExtensions = {\n      EXT_color_buffer_float: testContext.getExtension('EXT_color_buffer_float'),\n      OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n    };\n    features = this.getFeatures();\n  }\n\n  static isContextMatch(context) {\n    if (typeof WebGL2RenderingContext !== 'undefined') {\n      return context instanceof WebGL2RenderingContext;\n    }\n    return false;\n  }\n\n  static getFeatures() {\n    const gl = this.testContext;\n    return Object.freeze({\n      isFloatRead: this.getIsFloatRead(),\n      isIntegerDivisionAccurate: this.getIsIntegerDivisionAccurate(),\n      isSpeedTacticSupported: this.getIsSpeedTacticSupported(),\n      kernelMap: true,\n      isTextureFloat: true,\n      isDrawBuffers: true,\n      channelCount: this.getChannelCount(),\n      maxTextureSize: this.getMaxTextureSize(),\n      lowIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT),\n      lowFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT),\n      mediumIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT),\n      mediumFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT),\n      highIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT),\n      highFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT),\n    });\n  }\n\n  static getIsTextureFloat() {\n    return true;\n  }\n\n  static getChannelCount() {\n    return testContext.getParameter(testContext.MAX_DRAW_BUFFERS);\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static lookupKernelValueType(type, dynamic, precision, value) {\n    return lookupKernelValueType(type, dynamic, precision, value);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  static get fragmentShader() {\n    return fragmentShader;\n  }\n  static get vertexShader() {\n    return vertexShader;\n  }\n\n  initContext() {\n    const settings = {\n      alpha: false,\n      depth: false,\n      antialias: false\n    };\n    return this.canvas.getContext('webgl2', settings);\n  }\n\n  initExtensions() {\n    this.extensions = {\n      EXT_color_buffer_float: this.context.getExtension('EXT_color_buffer_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n    };\n  }\n\n  validateSettings(args) {\n    if (!this.validate) {\n      this.texSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, this.output);\n      return;\n    }\n\n    const { features } = this.constructor;\n    if (this.precision === 'single' && !features.isFloatRead) {\n      throw new Error('Float texture outputs are not supported');\n    } else if (!this.graphical && this.precision === null) {\n      this.precision = features.isFloatRead ? 'single' : 'unsigned';\n    }\n\n    if (this.fixIntegerDivisionAccuracy === null) {\n      this.fixIntegerDivisionAccuracy = !features.isIntegerDivisionAccurate;\n    } else if (this.fixIntegerDivisionAccuracy && features.isIntegerDivisionAccurate) {\n      this.fixIntegerDivisionAccuracy = false;\n    }\n\n    this.checkOutput();\n\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      switch (argType) {\n        case 'Array':\n          this.output = utils.getDimensions(argType);\n          break;\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n          this.output = args[0].output;\n          break;\n        default:\n          throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n\n      if (this.precision === 'single') {\n        console.warn('Cannot use graphical mode and single precision at the same time');\n        this.precision = 'unsigned';\n      }\n\n      this.texSize = utils.clone(this.output);\n      return;\n    } else if (!this.graphical && this.precision === null && features.isTextureFloat) {\n      this.precision = 'single';\n    }\n\n    this.texSize = utils.getKernelTextureSize({\n      optimizeFloatMemory: this.optimizeFloatMemory,\n      precision: this.precision,\n    }, this.output);\n\n    this.checkTextureSize();\n  }\n\n  translateSource() {\n    const functionBuilder = FunctionBuilder.fromKernel(this, WebGL2FunctionNode, {\n      fixIntegerDivisionAccuracy: this.fixIntegerDivisionAccuracy\n    });\n    this.translatedSource = functionBuilder.getPrototypeString('kernel');\n    this.setupReturnTypes(functionBuilder);\n  }\n\n  drawBuffers() {\n    this.context.drawBuffers(this.drawBuffersMap);\n  }\n\n  getTextureFormat() {\n    const { context: gl } = this;\n    switch (this.getInternalFormat()) {\n      case gl.R32F:\n        return gl.RED;\n      case gl.RG32F:\n        return gl.RG;\n      case gl.RGBA32F:\n        return gl.RGBA;\n      case gl.RGBA:\n        return gl.RGBA;\n      default:\n        throw new Error('Unknown internal format');\n    }\n  }\n  getInternalFormat() {\n    const { context: gl } = this;\n\n    if (this.precision === 'single') {\n      if (this.pipeline) {\n        switch (this.returnType) {\n          case 'Number':\n          case 'Float':\n          case 'Integer':\n            if (this.optimizeFloatMemory) {\n              return gl.RGBA32F;\n            } else {\n              return gl.R32F;\n            }\n            case 'Array(2)':\n              return gl.RG32F;\n            case 'Array(3)': \n            case 'Array(4)':\n              return gl.RGBA32F;\n            default:\n              throw new Error('Unhandled return type');\n        }\n      }\n      return gl.RGBA32F;\n    }\n    return gl.RGBA;\n  }\n\n  _setupOutputTexture() {\n    const gl = this.context;\n    if (this.texture) {\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      return;\n    }\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n    const texture = gl.createTexture();\n    const texSize = this.texSize;\n    gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    const format = this.getInternalFormat();\n    if (this.precision === 'single') {\n      gl.texStorage2D(gl.TEXTURE_2D, 1, format, texSize[0], texSize[1]);\n    } else {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, format, gl.UNSIGNED_BYTE, null);\n    }\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    this.texture = new this.TextureConstructor({\n      texture,\n      size: texSize,\n      dimensions: this.threadDim,\n      output: this.output,\n      context: this.context,\n      internalFormat: this.getInternalFormat(),\n      textureFormat: this.getTextureFormat(),\n      kernel: this,\n    });\n  }\n\n  _setupSubOutputTextures() {\n    const gl = this.context;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, this.mappedTextures[i].texture, 0);\n      }\n      return;\n    }\n    const texSize = this.texSize;\n    this.drawBuffersMap = [gl.COLOR_ATTACHMENT0];\n    this.mappedTextures = [];\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const texture = this.createTexture();\n      this.drawBuffersMap.push(gl.COLOR_ATTACHMENT0 + i + 1);\n      gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount + i);\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      const format = this.getInternalFormat();\n      if (this.precision === 'single') {\n        gl.texStorage2D(gl.TEXTURE_2D, 1, format, texSize[0], texSize[1]);\n      } else {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      }\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, texture, 0);\n\n      this.mappedTextures.push(new this.TextureConstructor({\n        texture,\n        size: texSize,\n        dimensions: this.threadDim,\n        output: this.output,\n        context: this.context,\n        internalFormat: this.getInternalFormat(),\n        textureFormat: this.getTextureFormat(),\n        kernel: this,\n      }));\n    }\n  }\n\n  _getHeaderString() {\n    return '';\n  }\n\n  _getTextureCoordinate() {\n    const subKernels = this.subKernels;\n    const variablePrecision = this.getVariablePrecisionString(this.texSize, this.tactic);\n    if (subKernels === null || subKernels.length < 1) {\n      return `in ${ variablePrecision } vec2 vTexCoord;\\n`;\n    } else {\n      return `out ${ variablePrecision } vec2 vTexCoord;\\n`;\n    }\n  }\n\n  _getMainArgumentsString(args) {\n    const result = [];\n    const argumentNames = this.argumentNames;\n    for (let i = 0; i < argumentNames.length; i++) {\n      result.push(this.kernelArguments[i].getSource(args[i]));\n    }\n    return result.join('');\n  }\n\n  getKernelString() {\n    const result = [this.getKernelResultDeclaration()];\n    const subKernels = this.subKernels;\n    if (subKernels !== null) {\n      result.push(\n        'layout(location = 0) out vec4 data0'\n      );\n      switch (this.returnType) {\n        case 'Number':\n        case 'Float':\n        case 'Integer':\n          for (let i = 0; i < subKernels.length; i++) {\n            const subKernel = subKernels[i];\n            result.push(\n              subKernel.returnType === 'Integer' ?\n              `int subKernelResult_${ subKernel.name } = 0` :\n              `float subKernelResult_${ subKernel.name } = 0.0`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(2)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec2 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(3)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec3 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(4)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec4 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n      }\n    } else {\n      result.push(\n        'out vec4 data0'\n      );\n    }\n\n    return utils.linesToString(result) + this.translatedSource;\n  }\n\n  getMainResultGraphical() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0 = actualColor',\n    ]);\n  }\n\n  getMainResultPackedPixels() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return this.getMainResultKernelPackedPixels() +\n          this.getMainResultSubKernelPackedPixels();\n      default:\n        throw new Error(`packed output only usable with Numbers, \"${this.returnType}\" specified`);\n    }\n  }\n\n  getMainResultKernelPackedPixels() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  data0 = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(kernelResult)`\n    ]);\n  }\n\n  getMainResultSubKernelPackedPixels() {\n    const result = [];\n    if (!this.subKernels) return '';\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1} = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(float(subKernelResult_${this.subKernels[i].name}))`\n        );\n      } else {\n        result.push(\n          `  data${i + 1} = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(subKernelResult_${this.subKernels[i].name})`\n        );\n      }\n    }\n    return utils.linesToString(result);\n  }\n\n  getMainResultKernelMemoryOptimizedFloats(result, channel) {\n    result.push(\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  data0.${channel} = kernelResult`\n    );\n  }\n\n  getMainResultSubKernelMemoryOptimizedFloats(result, channel) {\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1}.${channel} = float(subKernelResult_${subKernel.name})`\n        );\n      } else {\n        result.push(\n          `  data${i + 1}.${channel} = subKernelResult_${subKernel.name}`\n        );\n      }\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelNumberTexture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1}[0] = float(subKernelResult_${subKernel.name})`\n        );\n      } else {\n        result.push(\n          `  data${i + 1}[0] = subKernelResult_${subKernel.name}`\n        );\n      }\n    }\n    return result;\n  }\n\n  getMainResultKernelArray2Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult[0]',\n      '  data0[1] = kernelResult[1]',\n    ];\n  }\n\n  getMainResultSubKernelArray2Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      result.push(\n        `  data${i + 1}[0] = subKernelResult_${subKernel.name}[0]`,\n        `  data${i + 1}[1] = subKernelResult_${subKernel.name}[1]`\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray3Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult[0]',\n      '  data0[1] = kernelResult[1]',\n      '  data0[2] = kernelResult[2]',\n    ];\n  }\n\n  getMainResultSubKernelArray3Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      result.push(\n        `  data${i + 1}[0] = subKernelResult_${subKernel.name}[0]`,\n        `  data${i + 1}[1] = subKernelResult_${subKernel.name}[1]`,\n        `  data${i + 1}[2] = subKernelResult_${subKernel.name}[2]`\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray4Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0 = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelArray4Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  data${i + 1} = subKernelResult_${this.subKernels[i].name}`\n      );\n    }\n    return result;\n  }\n\n  destroyExtensions() {\n    this.extensions.EXT_color_buffer_float = null;\n    this.extensions.OES_texture_float_linear = null;\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, WebGL2FunctionNode).toJSON();\n    json.settings.threadDim = this.threadDim;\n    return json;\n  }\n}\n\nmodule.exports = {\n  WebGL2Kernel\n};\n},{\"../../utils\":114,\"../function-builder\":9,\"../web-gl/kernel\":70,\"./fragment-shader\":72,\"./function-node\":73,\"./kernel-value-maps\":74,\"./vertex-shader\":106}],106:[function(require,module,exports){\nconst vertexShader = `#version 300 es\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nin vec2 aPos;\nin vec2 aTexCoord;\n\nout vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}`;\n\nmodule.exports = {\n  vertexShader\n};\n},{}],107:[function(require,module,exports){\nconst lib = require('./index');\nconst GPU = lib.GPU;\nfor (const p in lib) {\n  if (!lib.hasOwnProperty(p)) continue;\n  if (p === 'GPU') continue; \n  GPU[p] = lib[p];\n}\n\nif (typeof window !== 'undefined') {\n  bindTo(window);\n}\nif (typeof self !== 'undefined') {\n  bindTo(self);\n}\n\nfunction bindTo(target) {\n  if (target.GPU) return;\n  Object.defineProperty(target, 'GPU', {\n    get() {\n      return GPU;\n    }\n  });\n}\n\nmodule.exports = lib;\n},{\"./index\":109}],108:[function(require,module,exports){\nconst { gpuMock } = require('gpu-mock.js');\nconst { utils } = require('./utils');\nconst { Kernel } = require('./backend/kernel');\nconst { CPUKernel } = require('./backend/cpu/kernel');\nconst { HeadlessGLKernel } = require('./backend/headless-gl/kernel');\nconst { WebGL2Kernel } = require('./backend/web-gl2/kernel');\nconst { WebGLKernel } = require('./backend/web-gl/kernel');\nconst { kernelRunShortcut } = require('./kernel-run-shortcut');\n\n\nconst kernelOrder = [HeadlessGLKernel, WebGL2Kernel, WebGLKernel];\n\nconst kernelTypes = ['gpu', 'cpu'];\n\nconst internalKernels = {\n  'headlessgl': HeadlessGLKernel,\n  'webgl2': WebGL2Kernel,\n  'webgl': WebGLKernel,\n};\n\nlet validate = true;\n\nclass GPU {\n  static disableValidation() {\n    validate = false;\n  }\n\n  static enableValidation() {\n    validate = true;\n  }\n\n  static get isGPUSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported);\n  }\n\n  static get isKernelMapSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported && Kernel.features.kernelMap);\n  }\n\n  static get isOffscreenCanvasSupported() {\n    return (typeof Worker !== 'undefined' && typeof OffscreenCanvas !== 'undefined') || typeof importScripts !== 'undefined';\n  }\n\n  static get isWebGLSupported() {\n    return WebGLKernel.isSupported;\n  }\n\n  static get isWebGL2Supported() {\n    return WebGL2Kernel.isSupported;\n  }\n\n  static get isHeadlessGLSupported() {\n    return HeadlessGLKernel.isSupported;\n  }\n\n  static get isCanvasSupported() {\n    return typeof HTMLCanvasElement !== 'undefined';\n  }\n\n  static get isGPUHTMLImageArraySupported() {\n    return WebGL2Kernel.isSupported;\n  }\n\n  static get isSinglePrecisionSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported && Kernel.features.isFloatRead && Kernel.features.isTextureFloat);\n  }\n\n  constructor(settings) {\n    settings = settings || {};\n    this.canvas = settings.canvas || null;\n    this.context = settings.context || null;\n    this.mode = settings.mode;\n    this.Kernel = null;\n    this.kernels = [];\n    this.functions = [];\n    this.nativeFunctions = [];\n    this.injectedNative = null;\n    if (this.mode === 'dev') return;\n    this.chooseKernel();\n    if (settings.functions) {\n      for (let i = 0; i < settings.functions.length; i++) {\n        this.addFunction(settings.functions[i]);\n      }\n    }\n\n    if (settings.nativeFunctions) {\n      for (const p in settings.nativeFunctions) {\n        if (!settings.nativeFunctions.hasOwnProperty(p)) continue;\n        const s = settings.nativeFunctions[p];\n        const { name, source } = s;\n        this.addNativeFunction(name, source, s);\n      }\n    }\n  }\n\n  chooseKernel() {\n    if (this.Kernel) return;\n\n    let Kernel = null;\n\n    if (this.context) {\n      for (let i = 0; i < kernelOrder.length; i++) {\n        const ExternalKernel = kernelOrder[i];\n        if (ExternalKernel.isContextMatch(this.context)) {\n          if (!ExternalKernel.isSupported) {\n            throw new Error(`Kernel type ${ExternalKernel.name} not supported`);\n          }\n          Kernel = ExternalKernel;\n          break;\n        }\n      }\n      if (Kernel === null) {\n        throw new Error('unknown Context');\n      }\n    } else if (this.mode) {\n      if (this.mode in internalKernels) {\n        if (!validate || internalKernels[this.mode].isSupported) {\n          Kernel = internalKernels[this.mode];\n        }\n      } else if (this.mode === 'gpu') {\n        for (let i = 0; i < kernelOrder.length; i++) {\n          if (kernelOrder[i].isSupported) {\n            Kernel = kernelOrder[i];\n            break;\n          }\n        }\n      } else if (this.mode === 'cpu') {\n        Kernel = CPUKernel;\n      }\n      if (!Kernel) {\n        throw new Error(`A requested mode of \"${this.mode}\" and is not supported`);\n      }\n    } else {\n      for (let i = 0; i < kernelOrder.length; i++) {\n        if (kernelOrder[i].isSupported) {\n          Kernel = kernelOrder[i];\n          break;\n        }\n      }\n      if (!Kernel) {\n        Kernel = CPUKernel;\n      }\n    }\n\n    if (!this.mode) {\n      this.mode = Kernel.mode;\n    }\n    this.Kernel = Kernel;\n  }\n\n  createKernel(source, settings) {\n    if (typeof source === 'undefined') {\n      throw new Error('Missing source parameter');\n    }\n    if (typeof source !== 'object' && !utils.isFunction(source) && typeof source !== 'string') {\n      throw new Error('source parameter not a function');\n    }\n\n    const kernels = this.kernels;\n    if (this.mode === 'dev') {\n      const devKernel = gpuMock(source, upgradeDeprecatedCreateKernelSettings(settings));\n      kernels.push(devKernel);\n      return devKernel;\n    }\n\n    source = typeof source === 'function' ? source.toString() : source;\n    const switchableKernels = {};\n    const settingsCopy = upgradeDeprecatedCreateKernelSettings(settings) || {};\n    if (settings && typeof settings.argumentTypes === 'object') {\n      settingsCopy.argumentTypes = Object.keys(settings.argumentTypes).map(argumentName => settings.argumentTypes[argumentName]);\n    }\n\n    function onRequestFallback(args) {\n      console.warn('Falling back to CPU');\n      const fallbackKernel = new CPUKernel(source, {\n        argumentTypes: kernelRun.argumentTypes,\n        constantTypes: kernelRun.constantTypes,\n        graphical: kernelRun.graphical,\n        loopMaxIterations: kernelRun.loopMaxIterations,\n        constants: kernelRun.constants,\n        dynamicOutput: kernelRun.dynamicOutput,\n        dynamicArgument: kernelRun.dynamicArguments,\n        output: kernelRun.output,\n        precision: kernelRun.precision,\n        pipeline: kernelRun.pipeline,\n        immutable: kernelRun.immutable,\n        optimizeFloatMemory: kernelRun.optimizeFloatMemory,\n        fixIntegerDivisionAccuracy: kernelRun.fixIntegerDivisionAccuracy,\n        functions: kernelRun.functions,\n        nativeFunctions: kernelRun.nativeFunctions,\n        injectedNative: kernelRun.injectedNative,\n        subKernels: kernelRun.subKernels,\n        strictIntegers: kernelRun.strictIntegers,\n        debug: kernelRun.debug,\n      });\n      fallbackKernel.build.apply(fallbackKernel, args);\n      const result = fallbackKernel.run.apply(fallbackKernel, args);\n      kernelRun.replaceKernel(fallbackKernel);\n      return result;\n    }\n\n    function onRequestSwitchKernel(reasons, args, _kernel) {\n      if (_kernel.debug) {\n        console.warn('Switching kernels');\n      }\n      let newOutput = null;\n      if (_kernel.signature && !switchableKernels[_kernel.signature]) {\n        switchableKernels[_kernel.signature] = _kernel;\n      }\n      if (_kernel.dynamicOutput) {\n        for (let i = reasons.length - 1; i >= 0; i--) {\n          const reason = reasons[i];\n          if (reason.type === 'outputPrecisionMismatch') {\n            newOutput = reason.needed;\n          }\n        }\n      }\n\n      const Constructor = _kernel.constructor;\n      const argumentTypes = Constructor.getArgumentTypes(_kernel, args);\n      const signature = Constructor.getSignature(_kernel, argumentTypes);\n      const existingKernel = switchableKernels[signature];\n      if (existingKernel) {\n        existingKernel.onActivate(_kernel);\n        return existingKernel;\n      }\n\n      const newKernel = switchableKernels[signature] = new Constructor(source, {\n        argumentTypes,\n        constantTypes: _kernel.constantTypes,\n        graphical: _kernel.graphical,\n        loopMaxIterations: _kernel.loopMaxIterations,\n        constants: _kernel.constants,\n        dynamicOutput: _kernel.dynamicOutput,\n        dynamicArgument: _kernel.dynamicArguments,\n        context: _kernel.context,\n        canvas: _kernel.canvas,\n        output: newOutput || _kernel.output,\n        precision: _kernel.precision,\n        pipeline: _kernel.pipeline,\n        immutable: _kernel.immutable,\n        optimizeFloatMemory: _kernel.optimizeFloatMemory,\n        fixIntegerDivisionAccuracy: _kernel.fixIntegerDivisionAccuracy,\n        functions: _kernel.functions,\n        nativeFunctions: _kernel.nativeFunctions,\n        injectedNative: _kernel.injectedNative,\n        subKernels: _kernel.subKernels,\n        strictIntegers: _kernel.strictIntegers,\n        debug: _kernel.debug,\n        gpu: _kernel.gpu,\n        validate,\n        returnType: _kernel.returnType,\n        tactic: _kernel.tactic,\n        onRequestFallback,\n        onRequestSwitchKernel,\n        texture: _kernel.texture,\n        mappedTextures: _kernel.mappedTextures,\n        drawBuffersMap: _kernel.drawBuffersMap,\n      });\n      newKernel.build.apply(newKernel, args);\n      kernelRun.replaceKernel(newKernel);\n      kernels.push(newKernel);\n      return newKernel;\n    }\n    const mergedSettings = Object.assign({\n      context: this.context,\n      canvas: this.canvas,\n      functions: this.functions,\n      nativeFunctions: this.nativeFunctions,\n      injectedNative: this.injectedNative,\n      gpu: this,\n      validate,\n      onRequestFallback,\n      onRequestSwitchKernel\n    }, settingsCopy);\n\n    const kernel = new this.Kernel(source, mergedSettings);\n    const kernelRun = kernelRunShortcut(kernel);\n\n    if (!this.canvas) {\n      this.canvas = kernel.canvas;\n    }\n\n    if (!this.context) {\n      this.context = kernel.context;\n    }\n\n    kernels.push(kernel);\n\n    return kernelRun;\n  }\n\n  createKernelMap() {\n    let fn;\n    let settings;\n    const argument2Type = typeof arguments[arguments.length - 2];\n    if (argument2Type === 'function' || argument2Type === 'string') {\n      fn = arguments[arguments.length - 2];\n      settings = arguments[arguments.length - 1];\n    } else {\n      fn = arguments[arguments.length - 1];\n    }\n\n    if (this.mode !== 'dev') {\n      if (!this.Kernel.isSupported || !this.Kernel.features.kernelMap) {\n        if (this.mode && kernelTypes.indexOf(this.mode) < 0) {\n          throw new Error(`kernelMap not supported on ${this.Kernel.name}`);\n        }\n      }\n    }\n\n    const settingsCopy = upgradeDeprecatedCreateKernelSettings(settings);\n    if (settings && typeof settings.argumentTypes === 'object') {\n      settingsCopy.argumentTypes = Object.keys(settings.argumentTypes).map(argumentName => settings.argumentTypes[argumentName]);\n    }\n\n    if (Array.isArray(arguments[0])) {\n      settingsCopy.subKernels = [];\n      const functions = arguments[0];\n      for (let i = 0; i < functions.length; i++) {\n        const source = functions[i].toString();\n        const name = utils.getFunctionNameFromString(source);\n        settingsCopy.subKernels.push({\n          name,\n          source,\n          property: i,\n        });\n      }\n    } else {\n      settingsCopy.subKernels = [];\n      const functions = arguments[0];\n      for (let p in functions) {\n        if (!functions.hasOwnProperty(p)) continue;\n        const source = functions[p].toString();\n        const name = utils.getFunctionNameFromString(source);\n        settingsCopy.subKernels.push({\n          name: name || p,\n          source,\n          property: p,\n        });\n      }\n    }\n    return this.createKernel(fn, settingsCopy);\n  }\n\n  combineKernels() {\n    const firstKernel = arguments[0];\n    const combinedKernel = arguments[arguments.length - 1];\n    if (firstKernel.kernel.constructor.mode === 'cpu') return combinedKernel;\n    const canvas = arguments[0].canvas;\n    const context = arguments[0].context;\n    const max = arguments.length - 1;\n    for (let i = 0; i < max; i++) {\n      arguments[i]\n        .setCanvas(canvas)\n        .setContext(context)\n        .setPipeline(true);\n    }\n\n    return function() {\n      const texture = combinedKernel.apply(this, arguments);\n      if (texture.toArray) {\n        return texture.toArray();\n      }\n      return texture;\n    };\n  }\n\n  setFunctions(functions) {\n    this.functions = functions;\n    return this;\n  }\n\n  setNativeFunctions(nativeFunctions) {\n    this.nativeFunctions = nativeFunctions;\n    return this;\n  }\n\n  addFunction(source, settings) {\n    this.functions.push({ source, settings });\n    return this;\n  }\n\n  addNativeFunction(name, source, settings) {\n    if (this.kernels.length > 0) {\n      throw new Error('Cannot call \"addNativeFunction\" after \"createKernels\" has been called.');\n    }\n    this.nativeFunctions.push(Object.assign({ name, source }, settings));\n    return this;\n  }\n\n  injectNative(source) {\n    this.injectedNative = source;\n    return this;\n  }\n\n  destroy() {\n    return new Promise((resolve, reject) => {\n      if (!this.kernels) {\n        resolve();\n      }\n      setTimeout(() => {\n        try {\n          for (let i = 0; i < this.kernels.length; i++) {\n            this.kernels[i].destroy(true); \n          }\n          let firstKernel = this.kernels[0];\n          if (firstKernel) {\n            if (firstKernel.kernel) {\n              firstKernel = firstKernel.kernel;\n            }\n            if (firstKernel.constructor.destroyContext) {\n              firstKernel.constructor.destroyContext(this.context);\n            }\n          }\n        } catch (e) {\n          reject(e);\n        }\n        resolve();\n      }, 0);\n    });\n  }\n}\n\n\nfunction upgradeDeprecatedCreateKernelSettings(settings) {\n  if (!settings) {\n    return {};\n  }\n  const upgradedSettings = Object.assign({}, settings);\n\n  if (settings.hasOwnProperty('floatOutput')) {\n    utils.warnDeprecated('setting', 'floatOutput', 'precision');\n    upgradedSettings.precision = settings.floatOutput ? 'single' : 'unsigned';\n  }\n  if (settings.hasOwnProperty('outputToTexture')) {\n    utils.warnDeprecated('setting', 'outputToTexture', 'pipeline');\n    upgradedSettings.pipeline = Boolean(settings.outputToTexture);\n  }\n  if (settings.hasOwnProperty('outputImmutable')) {\n    utils.warnDeprecated('setting', 'outputImmutable', 'immutable');\n    upgradedSettings.immutable = Boolean(settings.outputImmutable);\n  }\n  if (settings.hasOwnProperty('floatTextures')) {\n    utils.warnDeprecated('setting', 'floatTextures', 'optimizeFloatMemory');\n    upgradedSettings.optimizeFloatMemory = Boolean(settings.floatTextures);\n  }\n  return upgradedSettings;\n}\n\nmodule.exports = {\n  GPU,\n  kernelOrder,\n  kernelTypes\n};\n},{\"./backend/cpu/kernel\":8,\"./backend/headless-gl/kernel\":34,\"./backend/kernel\":36,\"./backend/web-gl/kernel\":70,\"./backend/web-gl2/kernel\":105,\"./kernel-run-shortcut\":111,\"./utils\":114,\"gpu-mock.js\":4}],109:[function(require,module,exports){\nconst { GPU } = require('./gpu');\nconst { alias } = require('./alias');\nconst { utils } = require('./utils');\nconst { Input, input } = require('./input');\nconst { Texture } = require('./texture');\nconst { FunctionBuilder } = require('./backend/function-builder');\nconst { FunctionNode } = require('./backend/function-node');\nconst { CPUFunctionNode } = require('./backend/cpu/function-node');\nconst { CPUKernel } = require('./backend/cpu/kernel');\n\nconst { HeadlessGLKernel } = require('./backend/headless-gl/kernel');\n\nconst { WebGLFunctionNode } = require('./backend/web-gl/function-node');\nconst { WebGLKernel } = require('./backend/web-gl/kernel');\nconst { kernelValueMaps: webGLKernelValueMaps } = require('./backend/web-gl/kernel-value-maps');\n\nconst { WebGL2FunctionNode } = require('./backend/web-gl2/function-node');\nconst { WebGL2Kernel } = require('./backend/web-gl2/kernel');\nconst { kernelValueMaps: webGL2KernelValueMaps } = require('./backend/web-gl2/kernel-value-maps');\n\nconst { GLKernel } = require('./backend/gl/kernel');\n\nconst { Kernel } = require('./backend/kernel');\n\nconst { FunctionTracer } = require('./backend/function-tracer');\n\nconst mathRandom = require('./plugins/math-random-uniformly-distributed');\n\nmodule.exports = {\n  alias,\n  CPUFunctionNode,\n  CPUKernel,\n  GPU,\n  FunctionBuilder,\n  FunctionNode,\n  HeadlessGLKernel,\n  Input,\n  input,\n  Texture,\n  utils,\n\n  WebGL2FunctionNode,\n  WebGL2Kernel,\n  webGL2KernelValueMaps,\n\n  WebGLFunctionNode,\n  WebGLKernel,\n  webGLKernelValueMaps,\n\n  GLKernel,\n  Kernel,\n  FunctionTracer,\n\n  plugins: {\n    mathRandom\n  }\n};\n},{\"./alias\":5,\"./backend/cpu/function-node\":6,\"./backend/cpu/kernel\":8,\"./backend/function-builder\":9,\"./backend/function-node\":10,\"./backend/function-tracer\":11,\"./backend/gl/kernel\":13,\"./backend/headless-gl/kernel\":34,\"./backend/kernel\":36,\"./backend/web-gl/function-node\":38,\"./backend/web-gl/kernel\":70,\"./backend/web-gl/kernel-value-maps\":39,\"./backend/web-gl2/function-node\":73,\"./backend/web-gl2/kernel\":105,\"./backend/web-gl2/kernel-value-maps\":74,\"./gpu\":108,\"./input\":110,\"./plugins/math-random-uniformly-distributed\":112,\"./texture\":113,\"./utils\":114}],110:[function(require,module,exports){\nclass Input {\n  constructor(value, size) {\n    this.value = value;\n    if (Array.isArray(size)) {\n      this.size = size;\n    } else {\n      this.size = new Int32Array(3);\n      if (size.z) {\n        this.size = new Int32Array([size.x, size.y, size.z]);\n      } else if (size.y) {\n        this.size = new Int32Array([size.x, size.y]);\n      } else {\n        this.size = new Int32Array([size.x]);\n      }\n    }\n\n    const [w, h, d] = this.size;\n    if (d) {\n      if (this.value.length !== (w * h * d)) {\n        throw new Error(`Input size ${this.value.length} does not match ${w} * ${h} * ${d} = ${(h * w * d)}`);\n      }\n    } else if (h) {\n      if (this.value.length !== (w * h)) {\n        throw new Error(`Input size ${this.value.length} does not match ${w} * ${h} = ${(h * w)}`);\n      }\n    } else {\n      if (this.value.length !== w) {\n        throw new Error(`Input size ${this.value.length} does not match ${w}`);\n      }\n    }\n\n  }\n\n  toArray() {\n    const { utils } = require('./utils');\n    const [w, h, d] = this.size;\n    if (d) {\n      return utils.erectMemoryOptimized3DFloat(this.value.subarray ? this.value : new Float32Array(this.value), w, h, d);\n    } else if (h) {\n      return utils.erectMemoryOptimized2DFloat(this.value.subarray ? this.value : new Float32Array(this.value), w, h);\n    } else {\n      return this.value;\n    }\n  }\n}\n\nfunction input(value, size) {\n  return new Input(value, size);\n}\n\nmodule.exports = {\n  Input,\n  input\n};\n},{\"./utils\":114}],111:[function(require,module,exports){\nconst { utils } = require('./utils');\n\nfunction kernelRunShortcut(kernel) {\n  let run = function() {\n    kernel.build.apply(kernel, arguments);\n    run = function() {\n      let result = kernel.run.apply(kernel, arguments);\n      if (kernel.switchingKernels) {\n        const reasons = kernel.resetSwitchingKernels();\n        const newKernel = kernel.onRequestSwitchKernel(reasons, arguments, kernel);\n        shortcut.kernel = kernel = newKernel;\n        result = newKernel.run.apply(newKernel, arguments);\n      }\n      if (kernel.renderKernels) {\n        return kernel.renderKernels();\n      } else if (kernel.renderOutput) {\n        return kernel.renderOutput();\n      } else {\n        return result;\n      }\n    };\n    return run.apply(kernel, arguments);\n  };\n  const shortcut = function() {\n    return run.apply(kernel, arguments);\n  };\n  shortcut.exec = function() {\n    return new Promise((accept, reject) => {\n      try {\n        accept(run.apply(this, arguments));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n  shortcut.replaceKernel = function(replacementKernel) {\n    kernel = replacementKernel;\n    bindKernelToShortcut(kernel, shortcut);\n  };\n\n  bindKernelToShortcut(kernel, shortcut);\n  return shortcut;\n}\n\nfunction bindKernelToShortcut(kernel, shortcut) {\n  if (shortcut.kernel) {\n    shortcut.kernel = kernel;\n    return;\n  }\n  const properties = utils.allPropertiesOf(kernel);\n  for (let i = 0; i < properties.length; i++) {\n    const property = properties[i];\n    if (property[0] === '_' && property[1] === '_') continue;\n    if (typeof kernel[property] === 'function') {\n      if (property.substring(0, 3) === 'add' || property.substring(0, 3) === 'set') {\n        shortcut[property] = function() {\n          shortcut.kernel[property].apply(shortcut.kernel, arguments);\n          return shortcut;\n        };\n      } else {\n        shortcut[property] = function() {\n          return shortcut.kernel[property].apply(shortcut.kernel, arguments);\n        };\n      }\n    } else {\n      shortcut.__defineGetter__(property, () => shortcut.kernel[property]);\n      shortcut.__defineSetter__(property, (value) => {\n        shortcut.kernel[property] = value;\n      });\n    }\n  }\n  shortcut.kernel = kernel;\n}\nmodule.exports = {\n  kernelRunShortcut\n};\n},{\"./utils\":114}],112:[function(require,module,exports){\nconst source = `// https://www.shadertoy.com/view/4t2SDh\n//note: uniformly distributed, normalized rand, [0,1]\nhighp float randomSeedShift = 1.0;\nhighp float slide = 1.0;\nuniform highp float randomSeed1;\nuniform highp float randomSeed2;\n\nhighp float nrand(highp vec2 n) {\n  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);\n  randomSeedShift = result;\n  if (randomSeedShift > 0.5) {\n    slide += 0.00009; \n  } else {\n    slide += 0.0009;\n  }\n  return result;\n}`;\n\nconst name = 'math-random-uniformly-distributed';\n\nconst functionMatch = `Math.random()`;\n\nconst functionReplace = `nrand(vTexCoord)`;\n\nconst functionReturnType = 'Number';\nconst onBeforeRun = (kernel) => {\n  kernel.setUniform1f('randomSeed1', Math.random());\n  kernel.setUniform1f('randomSeed2', Math.random());\n};\n\nconst plugin = {\n  name,\n  onBeforeRun,\n  functionMatch,\n  functionReplace,\n  functionReturnType,\n  source\n};\n\nmodule.exports = plugin;\n},{}],113:[function(require,module,exports){\nclass Texture {\n  constructor(settings) {\n    const {\n      texture,\n      size,\n      dimensions,\n      output,\n      context,\n      type = 'NumberTexture',\n      kernel,\n      internalFormat,\n      textureFormat\n    } = settings;\n    if (!output) throw new Error('settings property \"output\" required.');\n    if (!context) throw new Error('settings property \"context\" required.');\n    if (!texture) throw new Error('settings property \"texture\" required.');\n    if (!kernel) throw new Error('settings property \"kernel\" required.');\n    this.texture = texture;\n    if (texture._refs) {\n      texture._refs++;\n    } else {\n      texture._refs = 1;\n    }\n    this.size = size;\n    this.dimensions = dimensions;\n    this.output = output;\n    this.context = context;\n    this.kernel = kernel;\n    this.type = type;\n    this._deleted = false;\n    this.internalFormat = internalFormat;\n    this.textureFormat = textureFormat;\n  }\n\n  toArray() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  clone() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  delete() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  clear() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n}\n\nmodule.exports = {\n  Texture\n};\n},{}],114:[function(require,module,exports){\nconst acorn = require('acorn');\nconst { Input } = require('./input');\nconst { Texture } = require('./texture');\n\nconst FUNCTION_NAME = /function ([^(]*)/;\nconst STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\nconst ARGUMENT_NAMES = /([^\\s,]+)/g;\n\nconst utils = {\n  systemEndianness() {\n    return _systemEndianness;\n  },\n  getSystemEndianness() {\n    const b = new ArrayBuffer(4);\n    const a = new Uint32Array(b);\n    const c = new Uint8Array(b);\n    a[0] = 0xdeadbeef;\n    if (c[0] === 0xef) return 'LE';\n    if (c[0] === 0xde) return 'BE';\n    throw new Error('unknown endianness');\n  },\n\n  isFunction(funcObj) {\n    return typeof(funcObj) === 'function';\n  },\n\n  isFunctionString(fn) {\n    if (typeof fn === 'string') {\n      return (fn\n        .slice(0, 'function'.length)\n        .toLowerCase() === 'function');\n    }\n    return false;\n  },\n\n  getFunctionNameFromString(funcStr) {\n    const result = FUNCTION_NAME.exec(funcStr);\n    if (!result || result.length === 0) return null;\n    return result[1].trim();\n  },\n\n  getFunctionBodyFromString(funcStr) {\n    return funcStr.substring(funcStr.indexOf('{') + 1, funcStr.lastIndexOf('}'));\n  },\n\n  getArgumentNamesFromString(fn) {\n    const fnStr = fn.replace(STRIP_COMMENTS, '');\n    let result = fnStr.slice(fnStr.indexOf('(') + 1, fnStr.indexOf(')')).match(ARGUMENT_NAMES);\n    if (result === null) {\n      result = [];\n    }\n    return result;\n  },\n\n  clone(obj) {\n    if (obj === null || typeof obj !== 'object' || obj.hasOwnProperty('isActiveClone')) return obj;\n\n    const temp = obj.constructor(); \n\n    for (let key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        obj.isActiveClone = null;\n        temp[key] = utils.clone(obj[key]);\n        delete obj.isActiveClone;\n      }\n    }\n\n    return temp;\n  },\n\n  isArray(array) {\n    return !isNaN(array.length);\n  },\n\n  getVariableType(value, strictIntegers) {\n    if (utils.isArray(value)) {\n      if (value.length > 0 && value[0].nodeName === 'IMG') {\n        return 'HTMLImageArray';\n      }\n      return 'Array';\n    }\n\n    switch (value.constructor) {\n      case Boolean:\n        return 'Boolean';\n      case Number:\n        if (strictIntegers && Number.isInteger(value)) {\n          return 'Integer';\n        }\n        return 'Float';\n      case Texture:\n        return value.type;\n      case Input:\n        return 'Input';\n    }\n    switch (value.nodeName) {\n      case 'IMG':\n        return 'HTMLImage';\n      case 'CANVAS':\n        return 'HTMLImage';\n      case 'VIDEO':\n        return 'HTMLVideo';\n    }\n    if (value.hasOwnProperty('type')) {\n      return value.type;\n    }\n    return 'Unknown';\n  },\n\n  getKernelTextureSize(settings, dimensions) {\n    let [w, h, d] = dimensions;\n    let texelCount = (w || 1) * (h || 1) * (d || 1);\n\n    if (settings.optimizeFloatMemory && settings.precision === 'single') {\n      w = texelCount = Math.ceil(texelCount / 4);\n    }\n    if (h > 1 && w * h === texelCount) {\n      return new Int32Array([w, h]);\n    }\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  closestSquareDimensions(length) {\n    const sqrt = Math.sqrt(length);\n    let high = Math.ceil(sqrt);\n    let low = Math.floor(sqrt);\n    while (high * low < length) {\n      high--;\n      low = Math.ceil(length / high);\n    }\n    return new Int32Array([low, Math.ceil(length / low)]);\n  },\n\n  getMemoryOptimizedFloatTextureSize(dimensions, bitRatio) {\n    const totalArea = utils.roundTo((dimensions[0] || 1) * (dimensions[1] || 1) * (dimensions[2] || 1) * (dimensions[3] || 1), 4);\n    const texelCount = totalArea / bitRatio;\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  getMemoryOptimizedPackedTextureSize(dimensions, bitRatio) {\n    const [w, h, d] = dimensions;\n    const totalArea = utils.roundTo((w || 1) * (h || 1) * (d || 1), 4);\n    const texelCount = totalArea / (4 / bitRatio);\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  roundTo(n, d) {\n    return Math.floor((n + d - 1) / d) * d;\n  },\n  getDimensions(x, pad) {\n    let ret;\n    if (utils.isArray(x)) {\n      const dim = [];\n      let temp = x;\n      while (utils.isArray(temp)) {\n        dim.push(temp.length);\n        temp = temp[0];\n      }\n      ret = dim.reverse();\n    } else if (x instanceof Texture) {\n      ret = x.output;\n    } else if (x instanceof Input) {\n      ret = x.size;\n    } else {\n      throw new Error(`Unknown dimensions of ${x}`);\n    }\n\n    if (pad) {\n      ret = Array.from(ret);\n      while (ret.length < 3) {\n        ret.push(1);\n      }\n    }\n\n    return new Int32Array(ret);\n  },\n\n  flatten2dArrayTo(array, target) {\n    let offset = 0;\n    for (let y = 0; y < array.length; y++) {\n      target.set(array[y], offset);\n      offset += array[y].length;\n    }\n  },\n\n  flatten3dArrayTo(array, target) {\n    let offset = 0;\n    for (let z = 0; z < array.length; z++) {\n      for (let y = 0; y < array[z].length; y++) {\n        target.set(array[z][y], offset);\n        offset += array[z][y].length;\n      }\n    }\n  },\n\n  flatten4dArrayTo(array, target) {\n    let offset = 0;\n    for (let l = 0; l < array.length; l++) {\n      for (let z = 0; z < array[l].length; z++) {\n        for (let y = 0; y < array[l][z].length; y++) {\n          target.set(array[l][z][y], offset);\n          offset += array[l][z][y].length;\n        }\n      }\n    }\n  },\n\n  flattenTo(array, target) {\n    if (utils.isArray(array[0])) {\n      if (utils.isArray(array[0][0])) {\n        if (utils.isArray(array[0][0][0])) {\n          utils.flatten4dArrayTo(array, target);\n        } else {\n          utils.flatten3dArrayTo(array, target);\n        }\n      } else {\n        utils.flatten2dArrayTo(array, target);\n      }\n    } else {\n      target.set(array);\n    }\n  },\n\n  splitArray(array, part) {\n    const result = [];\n    for (let i = 0; i < array.length; i += part) {\n      result.push(new array.constructor(array.buffer, i * 4 + array.byteOffset, part));\n    }\n    return result;\n  },\n\n  getAstString(source, ast) {\n    const lines = Array.isArray(source) ? source : source.split(/\\r?\\n/g);\n    const start = ast.loc.start;\n    const end = ast.loc.end;\n    const result = [];\n    if (start.line === end.line) {\n      result.push(lines[start.line - 1].substring(start.column, end.column));\n    } else {\n      result.push(lines[start.line - 1].slice(start.column));\n      for (let i = start.line; i < end.line; i++) {\n        result.push(lines[i]);\n      }\n      result.push(lines[end.line - 1].slice(0, end.column));\n    }\n    return result.join('\\n');\n  },\n\n  allPropertiesOf(obj) {\n    const props = [];\n\n    do {\n      props.push.apply(props, Object.getOwnPropertyNames(obj));\n    } while (obj = Object.getPrototypeOf(obj));\n\n    return props;\n  },\n\n  linesToString(lines) {\n    if (lines.length > 0) {\n      return lines.join(';\\n') + ';\\n';\n    } else {\n      return '\\n';\n    }\n  },\n  warnDeprecated(type, oldName, newName) {\n    if (newName) {\n      console.warn(`You are using a deprecated ${ type } \"${ oldName }\". It has been replaced with \"${ newName }\". Fixing, but please upgrade as it will soon be removed.`);\n    } else {\n      console.warn(`You are using a deprecated ${ type } \"${ oldName }\". It has been removed. Fixing, but please upgrade as it will soon be removed.`);\n    }\n  },\n  flipPixels: (pixels, width, height) => {\n    const halfHeight = height / 2 | 0; \n    const bytesPerRow = width * 4;\n    const temp = new Uint8ClampedArray(width * 4);\n    const result = pixels.slice(0);\n    for (let y = 0; y < halfHeight; ++y) {\n      const topOffset = y * bytesPerRow;\n      const bottomOffset = (height - y - 1) * bytesPerRow;\n\n      temp.set(result.subarray(topOffset, topOffset + bytesPerRow));\n\n      result.copyWithin(topOffset, bottomOffset, bottomOffset + bytesPerRow);\n\n      result.set(temp, bottomOffset);\n    }\n    return result;\n  },\n  erectPackedFloat: (array, width) => {\n    return array.subarray(0, width);\n  },\n  erect2DPackedFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xStart = y * width;\n      const xEnd = xStart + width;\n      yResults[y] = array.subarray(xStart, xEnd);\n    }\n    return yResults;\n  },\n  erect3DPackedFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xStart = (z * height * width) + y * width;\n        const xEnd = xStart + width;\n        yResults[y] = array.subarray(xStart, xEnd);\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectMemoryOptimizedFloat: (array, width) => {\n    return array.subarray(0, width);\n  },\n  erectMemoryOptimized2DFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const offset = y * width;\n      yResults[y] = array.subarray(offset, offset + width);\n    }\n    return yResults;\n  },\n  erectMemoryOptimized3DFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const offset = (z * height * width) + (y * width);\n        yResults[y] = array.subarray(offset, offset + width);\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectFloat: (array, width) => {\n    const xResults = new Float32Array(width);\n    let i = 0;\n    for (let x = 0; x < width; x++) {\n      xResults[x] = array[i];\n      i += 4;\n    }\n    return xResults;\n  },\n  erect2DFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    let i = 0;\n    for (let y = 0; y < height; y++) {\n      const xResults = new Float32Array(width);\n      for (let x = 0; x < width; x++) {\n        xResults[x] = array[i];\n        i += 4;\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    let i = 0;\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Float32Array(width);\n        for (let x = 0; x < width; x++) {\n          xResults[x] = array[i];\n          i += 4;\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray2: (array, width) => {\n    const xResults = new Array(width);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 2);\n    }\n    return xResults;\n  },\n  erect2DArray2: (array, width, height) => {\n    const yResults = new Array(height);\n    const XResultsMax = width * 4;\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * XResultsMax;\n      let i = 0;\n      for (let x = 0; x < XResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 2);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray2: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 2);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray3: (array, width) => {\n    const xResults = new Array(width);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 3);\n    }\n    return xResults;\n  },\n  erect2DArray3: (array, width, height) => {\n    const xResultsMax = width * 4;\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * xResultsMax;\n      let i = 0;\n      for (let x = 0; x < xResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 3);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray3: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 3);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray4: (array, width) => {\n    const xResults = new Array(array);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 4);\n    }\n    return xResults;\n  },\n  erect2DArray4: (array, width, height) => {\n    const xResultsMax = width * 4;\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * xResultsMax;\n      let i = 0;\n      for (let x = 0; x < xResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 4);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray4: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 4);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n\n  flattenFunctionToString: (source, settings) => {\n    const { findDependency, thisLookup, doNotDefine } = settings;\n    let flattened = settings.flattened;\n    if (!flattened) {\n      flattened = settings.flattened = {};\n    }\n    const ast = acorn.parse(source);\n    const functionDependencies = [];\n    let indent = 0;\n\n    function flatten(ast) {\n      if (Array.isArray(ast)) {\n        const results = [];\n        for (let i = 0; i < ast.length; i++) {\n          results.push(flatten(ast[i]));\n        }\n        return results.join('');\n      }\n      switch (ast.type) {\n        case 'Program':\n          return flatten(ast.body) + (ast.body[0].type === 'VariableDeclaration' ? ';' : '');\n        case 'FunctionDeclaration':\n          return `function ${ast.id.name}(${ast.params.map(flatten).join(', ')}) ${ flatten(ast.body) }`;\n        case 'BlockStatement': {\n          const result = [];\n          indent += 2;\n          for (let i = 0; i < ast.body.length; i++) {\n            const flat = flatten(ast.body[i]);\n            if (flat) {\n              result.push(' '.repeat(indent) + flat, ';\\n');\n            }\n          }\n          indent -= 2;\n          return `{\\n${result.join('')}}`;\n        }\n        case 'VariableDeclaration':\n          const declarations = utils.normalizeDeclarations(ast)\n            .map(flatten)\n            .filter(r => r !== null);\n          if (declarations.length < 1) {\n            return '';\n          } else {\n            return `${ast.kind} ${declarations.join(',')}`;\n          }\n          case 'VariableDeclarator':\n            if (ast.init.object && ast.init.object.type === 'ThisExpression') {\n              const lookup = thisLookup(ast.init.property.name, true);\n              if (lookup) {\n                return `${ast.id.name} = ${flatten(ast.init)}`;\n              } else {\n                return null;\n              }\n            } else {\n              return `${ast.id.name} = ${flatten(ast.init)}`;\n            }\n            case 'CallExpression': {\n              if (ast.callee.property.name === 'subarray') {\n                return `${flatten(ast.callee.object)}.${flatten(ast.callee.property)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              }\n              if (ast.callee.object.name === 'gl' || ast.callee.object.name === 'context') {\n                return `${flatten(ast.callee.object)}.${flatten(ast.callee.property)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              }\n              if (ast.callee.object.type === 'ThisExpression') {\n                functionDependencies.push(findDependency('this', ast.callee.property.name));\n                return `${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              } else if (ast.callee.object.name) {\n                const foundSource = findDependency(ast.callee.object.name, ast.callee.property.name);\n                if (foundSource === null) {\n                  return `${ast.callee.object.name}.${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n                } else {\n                  functionDependencies.push(foundSource);\n                  return `${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n                }\n              } else if (ast.callee.object.type === 'MemberExpression') {\n                return `${flatten(ast.callee.object)}.${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              } else {\n                throw new Error('unknown ast.callee');\n              }\n            }\n            case 'ReturnStatement':\n              return `return ${flatten(ast.argument)}`;\n            case 'BinaryExpression':\n              return `(${flatten(ast.left)}${ast.operator}${flatten(ast.right)})`;\n            case 'UnaryExpression':\n              if (ast.prefix) {\n                return `${ast.operator} ${flatten(ast.argument)}`;\n              } else {\n                return `${flatten(ast.argument)} ${ast.operator}`;\n              }\n              case 'ExpressionStatement':\n                return `${flatten(ast.expression)}`;\n              case 'SequenceExpression':\n                return `(${flatten(ast.expressions)})`;\n              case 'ArrowFunctionExpression':\n                return `(${ast.params.map(flatten).join(', ')}) => ${flatten(ast.body)}`;\n              case 'Literal':\n                return ast.raw;\n              case 'Identifier':\n                return ast.name;\n              case 'MemberExpression':\n                if (ast.object.type === 'ThisExpression') {\n                  return thisLookup(ast.property.name);\n                }\n                if (ast.computed) {\n                  return `${flatten(ast.object)}[${flatten(ast.property)}]`;\n                }\n                return flatten(ast.object) + '.' + flatten(ast.property);\n              case 'ThisExpression':\n                return 'this';\n              case 'NewExpression':\n                return `new ${flatten(ast.callee)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              case 'ForStatement':\n                return `for (${flatten(ast.init)};${flatten(ast.test)};${flatten(ast.update)}) ${flatten(ast.body)}`;\n              case 'AssignmentExpression':\n                return `${flatten(ast.left)}${ast.operator}${flatten(ast.right)}`;\n              case 'UpdateExpression':\n                return `${flatten(ast.argument)}${ast.operator}`;\n              case 'IfStatement':\n                return `if (${flatten(ast.test)}) ${flatten(ast.consequent)}`;\n              case 'ThrowStatement':\n                return `throw ${flatten(ast.argument)}`;\n              case 'ObjectPattern':\n                return ast.properties.map(flatten).join(', ');\n              case 'ArrayPattern':\n                return ast.elements.map(flatten).join(', ');\n              case 'DebuggerStatement':\n                return 'debugger;';\n              case 'ConditionalExpression':\n                return `${flatten(ast.test)}?${flatten(ast.consequent)}:${flatten(ast.alternate)}`;\n              case 'Property':\n                if (ast.kind === 'init') {\n                  return flatten(ast.key);\n                }\n      }\n      throw new Error(`unhandled ast.type of ${ ast.type }`);\n    }\n    const result = flatten(ast);\n    if (functionDependencies.length > 0) {\n      const flattenedFunctionDependencies = [];\n      for (let i = 0; i < functionDependencies.length; i++) {\n        const functionDependency = functionDependencies[i];\n        if (!flattened[functionDependency]) {\n          flattened[functionDependency] = true;\n        }\n        functionDependency ? flattenedFunctionDependencies.push(utils.flattenFunctionToString(functionDependency, settings) + '\\n') : '';\n      }\n      return flattenedFunctionDependencies.join('') + result;\n    }\n    return result;\n  },\n\n  normalizeDeclarations: (ast) => {\n    if (ast.type !== 'VariableDeclaration') throw new Error('Ast is not of type \"VariableDeclaration\"');\n    const normalizedDeclarations = [];\n    for (let declarationIndex = 0; declarationIndex < ast.declarations.length; declarationIndex++) {\n      const declaration = ast.declarations[declarationIndex];\n      if (declaration.id && declaration.id.type === 'ObjectPattern' && declaration.id.properties) {\n        const { properties } = declaration.id;\n        for (let propertyIndex = 0; propertyIndex < properties.length; propertyIndex++) {\n          const property = properties[propertyIndex];\n          if (property.value.type === 'ObjectPattern' && property.value.properties) {\n            for (let subPropertyIndex = 0; subPropertyIndex < property.value.properties.length; subPropertyIndex++) {\n              const subProperty = property.value.properties[subPropertyIndex];\n              if (subProperty.type === 'Property') {\n                normalizedDeclarations.push({\n                  type: 'VariableDeclarator',\n                  id: {\n                    type: 'Identifier',\n                    name: subProperty.key.name\n                  },\n                  init: {\n                    type: 'MemberExpression',\n                    object: {\n                      type: 'MemberExpression',\n                      object: declaration.init,\n                      property: {\n                        type: 'Identifier',\n                        name: property.key.name\n                      },\n                      computed: false\n                    },\n                    property: {\n                      type: 'Identifier',\n                      name: subProperty.key.name\n                    },\n                    computed: false\n                  }\n                });\n              } else {\n                throw new Error('unexpected state');\n              }\n            }\n          } else if (property.value.type === 'Identifier') {\n            normalizedDeclarations.push({\n              type: 'VariableDeclarator',\n              id: {\n                type: 'Identifier',\n                name: property.value && property.value.name ? property.value.name : property.key.name\n              },\n              init: {\n                type: 'MemberExpression',\n                object: declaration.init,\n                property: {\n                  type: 'Identifier',\n                  name: property.key.name\n                },\n                computed: false\n              }\n            });\n          } else {\n            throw new Error('unexpected state');\n          }\n        }\n      } else if (declaration.id && declaration.id.type === 'ArrayPattern' && declaration.id.elements) {\n        const { elements } = declaration.id;\n        for (let elementIndex = 0; elementIndex < elements.length; elementIndex++) {\n          const element = elements[elementIndex];\n          if (element.type === 'Identifier') {\n            normalizedDeclarations.push({\n              type: 'VariableDeclarator',\n              id: {\n                type: 'Identifier',\n                name: element.name\n              },\n              init: {\n                type: 'MemberExpression',\n                object: declaration.init,\n                property: {\n                  type: 'Literal',\n                  value: elementIndex,\n                  raw: elementIndex.toString(),\n                  start: element.start,\n                  end: element.end\n                },\n                computed: true\n              }\n            });\n          } else {\n            throw new Error('unexpected state');\n          }\n        }\n      } else {\n        normalizedDeclarations.push(declaration);\n      }\n    }\n    return normalizedDeclarations;\n  },\n\n  splitHTMLImageToRGB: (gpu, image) => {\n    const rKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.r * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const gKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.g * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const bKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.b * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const aKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.a * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const result = [\n      rKernel(image),\n      gKernel(image),\n      bKernel(image),\n      aKernel(image),\n    ];\n    result.rKernel = rKernel;\n    result.gKernel = gKernel;\n    result.bKernel = bKernel;\n    result.aKernel = aKernel;\n    result.gpu = gpu;\n    return result;\n  },\n\n  splitRGBAToCanvases: (gpu, rgba, width, height) => {\n    const visualKernelR = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(pixel.r / 255, 0, 0, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelR(rgba);\n\n    const visualKernelG = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(0, pixel.g / 255, 0, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelG(rgba);\n\n    const visualKernelB = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(0, 0, pixel.b / 255, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelB(rgba);\n\n    const visualKernelA = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(255, 255, 255, pixel.a / 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelA(rgba);\n    return [\n      visualKernelR.canvas,\n      visualKernelG.canvas,\n      visualKernelB.canvas,\n      visualKernelA.canvas,\n    ];\n  },\n\n  getMinifySafeName: (fn) => {\n    try {\n      const ast = acorn.parse(`const value = ${fn.toString()}`);\n      const { init } = ast.body[0].declarations[0];\n      return init.body.name || init.body.body[0].argument.name;\n    } catch (e) {\n      throw new Error('Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }');\n    }\n  },\n  sanitizeName: function(name) {\n    if (dollarSign.test(name)) {\n      name = name.replace(dollarSign, 'S_S');\n    }\n    if (doubleUnderscore.test(name)) {\n      name = name.replace(doubleUnderscore, 'U_U');\n    } else if (singleUnderscore.test(name)) {\n      name = name.replace(singleUnderscore, 'u_u');\n    }\n    return name;\n  }\n};\n\nconst dollarSign = /\\$/;\nconst doubleUnderscore = /__/;\nconst singleUnderscore = /_/;\n\nconst _systemEndianness = utils.getSystemEndianness();\n\nmodule.exports = {\n  utils\n};\n},{\"./input\":110,\"./texture\":113,\"acorn\":1}]},{},[107])(107)\n});\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","/**\n * Leaky Relu Activation, aka Leaky Rectified Linear Unit Activation\n * @description https://en.wikipedia.org/wiki/Rectifier_(neural_networks)\n * @param weight\n * @returns {number}\n */\nfunction activate(weight) {\n  return weight > 0 ? weight : 0.01 * weight;\n}\n\n/**\n * Leaky Relu derivative\n * @param weight\n * @param error\n * @returns {number}\n */\nfunction measure(weight, error) {\n  return weight > 0 ? error : 0.01 * error;\n}\n\nmodule.exports = { activate, measure };\n","/**\n * Relu Activation, aka Rectified Linear Unit Activation\n * @description https://en.wikipedia.org/wiki/Rectifier_(neural_networks)\n * @param weight\n * @returns {number}\n */\nfunction activate(weight) {\n  return Math.max(0, weight);\n}\n\n/**\n * Relu derivative\n * @param weight\n * @param delta\n * @returns {number}\n */\nfunction measure(weight, delta) {\n  if (weight <= 0) {\n    return 0;\n  }\n  return delta;\n}\n\nmodule.exports = { activate, measure };\n","/**\n * sigmoid activation\n * @param value\n * @returns {number}\n */\nfunction activate(value) {\n  return 1 / (1 + Math.exp(-value));\n}\n\n/**\n * sigmoid derivative\n * @param weight\n * @param error\n * @returns {number}\n */\nfunction measure(weight, error) {\n  return weight * (1 - weight) * error;\n}\n\nmodule.exports = { activate, measure };\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var nativeExpm1 = Math.expm1;\nvar exp = Math.exp;\n\n// `Math.expm1` method implementation\n// https://tc39.github.io/ecma262/#sec-math.expm1\nmodule.exports = (!nativeExpm1\n  // Old FF bug\n  || nativeExpm1(10) > 22025.465794806719 || nativeExpm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || nativeExpm1(-2e-17) != -2e-17\n) ? function expm1(x) {\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : exp(x) - 1;\n} : nativeExpm1;\n","var $ = require('../internals/export');\nvar expm1 = require('../internals/math-expm1');\n\nvar exp = Math.exp;\n\n// `Math.tanh` method\n// https://tc39.github.io/ecma262/#sec-math.tanh\n$({ target: 'Math', stat: true }, {\n  tanh: function tanh(x) {\n    var a = expm1(x = +x);\n    var b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n","/**\n *\n * @param weight\n * @returns {number}\n */\nfunction activate(weight) {\n  return Math.tanh(weight);\n}\n\n/**\n * @description grad for z = tanh(x) is (1 - z^2)\n * @param weight\n * @param error\n * @returns {number}\n */\nfunction measure(weight, error) {\n  return (1 - weight * weight) * error;\n}\n\nmodule.exports = { activate, measure };\n","const leakyRelu = require('./leaky-relu');\nconst relu = require('./relu');\nconst sigmoid = require('./sigmoid');\nconst tanh = require('./tanh');\n\nmodule.exports = { leakyRelu, relu, sigmoid, tanh };\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\n$({ target: 'URL', proto: true, enumerable: true }, {\n  toJSON: function toJSON() {\n    return URL.prototype.toString.call(this);\n  }\n});\n","class CrossValidate {\n  /**\n   *\n   * @param {NeuralNetwork|constructor} Classifier\n   * @param {object} [options]\n   */\n  constructor(Classifier, options) {\n    this.Classifier = Classifier;\n    this.options = options;\n    this.json = null;\n  }\n\n  /**\n   *\n   * @param {object} trainOpts\n   * @param {object} trainSet\n   * @param {object} testSet\n   * @returns {void|*}\n   */\n  testPartition(trainOpts, trainSet, testSet) {\n    const classifier = new this.Classifier(this.options);\n    const beginTrain = Date.now();\n    const trainingStats = classifier.train(trainSet, trainOpts);\n    const beginTest = Date.now();\n    const testStats = classifier.test(testSet);\n    const endTest = Date.now();\n    const stats = Object.assign({}, testStats, {\n      trainTime: beginTest - beginTrain,\n      testTime: endTest - beginTest,\n      iterations: trainingStats.iterations,\n      error: trainingStats.error,\n      total: testStats.total,\n      learningRate: classifier.trainOpts.learningRate,\n      hiddenLayers: classifier.hiddenLayers,\n      network: classifier.toJSON(),\n    });\n\n    return stats;\n  }\n\n  /**\n   * Randomize array element order in-place.\n   * Using Durstenfeld shuffle algorithm.\n   * source: http://stackoverflow.com/a/12646864/1324039\n   */\n  shuffleArray(array) {\n    for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      const temp = array[i];\n      array[i] = array[j];\n      array[j] = temp;\n    }\n    return array;\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} trainOpts\n   * @param {number} [k]\n   * @returns {\n   *  {\n   *    avgs: {\n   *      error: number,\n   *      trainTime: number,\n   *      testTime: number,\n   *      iterations: number,\n   *      error: number\n   *    },\n   *    stats: {\n   *      truePos: number,\n   *      trueNeg: number,\n   *      falsePos: number,\n   *      falseNeg: number,\n   *      total: number\n   *    },\n   *    sets: Array\n   *  }\n   * }\n   */\n  train(data, trainOpts = {}, k = 4) {\n    if (data.length < k) {\n      throw new Error(\n        `Training set size is too small for ${data.length} k folds of ${k}`\n      );\n    }\n\n    const size = data.length / k;\n\n    if (data.constructor === Array) {\n      this.shuffleArray(data);\n    } else {\n      const newData = {};\n      this.shuffleArray(Object.keys(data)).forEach((key) => {\n        newData[key] = data[key];\n      });\n      data = newData;\n    }\n\n    const avgs = {\n      trainTime: 0,\n      testTime: 0,\n      iterations: 0,\n      error: 0,\n    };\n\n    const stats = {\n      total: 0,\n    };\n\n    const binaryStats = {\n      total: 0,\n      truePos: 0,\n      trueNeg: 0,\n      falsePos: 0,\n      falseNeg: 0,\n    };\n\n    const results = [];\n    let stat;\n    let isBinary = null;\n\n    for (let i = 0; i < k; i++) {\n      const dclone = data.slice(0);\n      const testSet = dclone.splice(i * size, size);\n      const trainSet = dclone;\n      const result = this.testPartition(trainOpts, trainSet, testSet);\n\n      if (isBinary === null) {\n        isBinary =\n          result.hasOwnProperty('falseNeg') &&\n          result.hasOwnProperty('falsePos') &&\n          result.hasOwnProperty('trueNeg') &&\n          result.hasOwnProperty('truePos');\n        if (isBinary) {\n          Object.assign(stats, binaryStats);\n        }\n      }\n\n      for (stat in avgs) {\n        if (stat in avgs) {\n          avgs[stat] += result[stat];\n        }\n      }\n\n      for (stat in stats) {\n        if (stat in stats) {\n          stats[stat] += result[stat];\n        }\n      }\n\n      results.push(result);\n    }\n\n    for (stat in avgs) {\n      if (stat in avgs) {\n        avgs[stat] /= k;\n      }\n    }\n\n    if (isBinary) {\n      stats.precision = stats.truePos / (stats.truePos + stats.falsePos);\n      stats.recall = stats.truePos / (stats.truePos + stats.falseNeg);\n      stats.accuracy = (stats.trueNeg + stats.truePos) / stats.total;\n    }\n\n    stats.testSize = size;\n    stats.trainSize = data.length - size;\n\n    return (this.json = {\n      avgs: avgs,\n      stats: stats,\n      sets: results,\n    });\n  }\n\n  toNeuralNetwork() {\n    return this.fromJSON(this.json);\n  }\n\n  toJSON() {\n    return this.json;\n  }\n\n  fromJSON(crossValidateJson) {\n    const Classifier = this.Classifier;\n    const json = crossValidateJson.sets.reduce(\n      (prev, cur) => (prev.error < cur.error ? prev : cur),\n      { error: Infinity }\n    ).network;\n    if (Classifier.fromJSON) {\n      return Classifier.fromJSON(json);\n    }\n    const instance = new Classifier();\n    instance.fromJSON(json);\n    return instance;\n  }\n}\n\nmodule.exports = CrossValidate;\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","module.exports = {};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","module.exports = typeof ArrayBuffer !== 'undefined' && typeof DataView !== 'undefined';\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\n\n// `ToIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-toindex\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length or index');\n  return length;\n};\n","// IEEE754 conversions based on https://github.com/feross/ieee754\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = 1 / 0;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\nvar pack = function (number, mantissaLength, bytes) {\n  var buffer = new Array(bytes);\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;\n  var index = 0;\n  var exponent, mantissa, c;\n  number = abs(number);\n  // eslint-disable-next-line no-self-compare\n  if (number != number || number === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    mantissa = number != number ? 1 : 0;\n    exponent = eMax;\n  } else {\n    exponent = floor(log(number) / LN2);\n    if (number * (c = pow(2, -exponent)) < 1) {\n      exponent--;\n      c *= 2;\n    }\n    if (exponent + eBias >= 1) {\n      number += rt / c;\n    } else {\n      number += rt * pow(2, 1 - eBias);\n    }\n    if (number * c >= 2) {\n      exponent++;\n      c /= 2;\n    }\n    if (exponent + eBias >= eMax) {\n      mantissa = 0;\n      exponent = eMax;\n    } else if (exponent + eBias >= 1) {\n      mantissa = (number * c - 1) * pow(2, mantissaLength);\n      exponent = exponent + eBias;\n    } else {\n      mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);\n      exponent = 0;\n    }\n  }\n  for (; mantissaLength >= 8; buffer[index++] = mantissa & 255, mantissa /= 256, mantissaLength -= 8);\n  exponent = exponent << mantissaLength | mantissa;\n  exponentLength += mantissaLength;\n  for (; exponentLength > 0; buffer[index++] = exponent & 255, exponent /= 256, exponentLength -= 8);\n  buffer[--index] |= sign * 128;\n  return buffer;\n};\n\nvar unpack = function (buffer, mantissaLength) {\n  var bytes = buffer.length;\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var nBits = exponentLength - 7;\n  var index = bytes - 1;\n  var sign = buffer[index--];\n  var exponent = sign & 127;\n  var mantissa;\n  sign >>= 7;\n  for (; nBits > 0; exponent = exponent * 256 + buffer[index], index--, nBits -= 8);\n  mantissa = exponent & (1 << -nBits) - 1;\n  exponent >>= -nBits;\n  nBits += mantissaLength;\n  for (; nBits > 0; mantissa = mantissa * 256 + buffer[index], index--, nBits -= 8);\n  if (exponent === 0) {\n    exponent = 1 - eBias;\n  } else if (exponent === eMax) {\n    return mantissa ? NaN : sign ? -Infinity : Infinity;\n  } else {\n    mantissa = mantissa + pow(2, mantissaLength);\n    exponent = exponent - eBias;\n  } return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);\n};\n\nmodule.exports = {\n  pack: pack,\n  unpack: unpack\n};\n","'use strict';\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefineAll = require('../internals/redefine-all');\nvar fails = require('../internals/fails');\nvar anInstance = require('../internals/an-instance');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar IEEE754 = require('../internals/ieee754');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar arrayFill = require('../internals/array-fill');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length';\nvar WRONG_INDEX = 'Wrong index';\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\nvar $ArrayBuffer = NativeArrayBuffer;\nvar $DataView = global[DATA_VIEW];\nvar $DataViewPrototype = $DataView && $DataView[PROTOTYPE];\nvar ObjectPrototype = Object.prototype;\nvar RangeError = global.RangeError;\n\nvar packIEEE754 = IEEE754.pack;\nvar unpackIEEE754 = IEEE754.unpack;\n\nvar packInt8 = function (number) {\n  return [number & 0xFF];\n};\n\nvar packInt16 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF];\n};\n\nvar packInt32 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF, number >> 16 & 0xFF, number >> 24 & 0xFF];\n};\n\nvar unpackInt32 = function (buffer) {\n  return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];\n};\n\nvar packFloat32 = function (number) {\n  return packIEEE754(number, 23, 4);\n};\n\nvar packFloat64 = function (number) {\n  return packIEEE754(number, 52, 8);\n};\n\nvar addGetter = function (Constructor, key) {\n  defineProperty(Constructor[PROTOTYPE], key, { get: function () { return getInternalState(this)[key]; } });\n};\n\nvar get = function (view, count, index, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = bytes.slice(start, start + count);\n  return isLittleEndian ? pack : pack.reverse();\n};\n\nvar set = function (view, count, index, conversion, value, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = conversion(+value);\n  for (var i = 0; i < count; i++) bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];\n};\n\nif (!NATIVE_ARRAY_BUFFER) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    setInternalState(this, {\n      bytes: arrayFill.call(new Array(byteLength), 0),\n      byteLength: byteLength\n    });\n    if (!DESCRIPTORS) this.byteLength = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = getInternalState(buffer).byteLength;\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    setInternalState(this, {\n      buffer: buffer,\n      byteLength: byteLength,\n      byteOffset: offset\n    });\n    if (!DESCRIPTORS) {\n      this.buffer = buffer;\n      this.byteLength = byteLength;\n      this.byteOffset = offset;\n    }\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, 'byteLength');\n    addGetter($DataView, 'buffer');\n    addGetter($DataView, 'byteLength');\n    addGetter($DataView, 'byteOffset');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined)) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 23);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 52);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : undefined);\n    }\n  });\n} else {\n  if (!fails(function () {\n    NativeArrayBuffer(1);\n  }) || !fails(function () {\n    new NativeArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new NativeArrayBuffer(); // eslint-disable-line no-new\n    new NativeArrayBuffer(1.5); // eslint-disable-line no-new\n    new NativeArrayBuffer(NaN); // eslint-disable-line no-new\n    return NativeArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new NativeArrayBuffer(toIndex(length));\n    };\n    var ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer[PROTOTYPE];\n    for (var keys = getOwnPropertyNames(NativeArrayBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) {\n        createNonEnumerableProperty($ArrayBuffer, key, NativeArrayBuffer[key]);\n      }\n    }\n    ArrayBufferPrototype.constructor = $ArrayBuffer;\n  }\n\n  // WebKit bug - the same parent prototype for typed arrays and data view\n  if (setPrototypeOf && getPrototypeOf($DataViewPrototype) !== ObjectPrototype) {\n    setPrototypeOf($DataViewPrototype, ObjectPrototype);\n  }\n\n  // iOS Safari 7.x bug\n  var testView = new $DataView(new $ArrayBuffer(2));\n  var nativeSetInt8 = $DataViewPrototype.setInt8;\n  testView.setInt8(0, 2147483648);\n  testView.setInt8(1, 2147483649);\n  if (testView.getInt8(0) || !testView.getInt8(1)) redefineAll($DataViewPrototype, {\n    setInt8: function setInt8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, { unsafe: true });\n}\n\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\n\nmodule.exports = {\n  ArrayBuffer: $ArrayBuffer,\n  DataView: $DataView\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anObject = require('../internals/an-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar nativeArrayBufferSlice = ArrayBuffer.prototype.slice;\n\nvar INCORRECT_SLICE = fails(function () {\n  return !new ArrayBuffer(2).slice(1, undefined).byteLength;\n});\n\n// `ArrayBuffer.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-arraybuffer.prototype.slice\n$({ target: 'ArrayBuffer', proto: true, unsafe: true, forced: INCORRECT_SLICE }, {\n  slice: function slice(start, end) {\n    if (nativeArrayBufferSlice !== undefined && end === undefined) {\n      return nativeArrayBufferSlice.call(anObject(this), start); // FF fix\n    }\n    var length = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    var result = new (speciesConstructor(this, ArrayBuffer))(toLength(fin - first));\n    var viewSource = new DataView(this);\n    var viewTarget = new DataView(result);\n    var index = 0;\n    while (first < fin) {\n      viewTarget.setUint8(index++, viewSource.getUint8(first++));\n    } return result;\n  }\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\n\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar isPrototypeOf = ObjectPrototype.isPrototypeOf;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQIRED = false;\nvar NAME;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar isView = function isView(it) {\n  var klass = classof(it);\n  return klass === 'DataView' || has(TypedArrayConstructorsList, klass);\n};\n\nvar isTypedArray = function (it) {\n  return isObject(it) && has(TypedArrayConstructorsList, classof(it));\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (setPrototypeOf) {\n    if (isPrototypeOf.call(TypedArray, C)) return C;\n  } else for (var ARRAY in TypedArrayConstructorsList) if (has(TypedArrayConstructorsList, NAME)) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (C === TypedArrayConstructor || isPrototypeOf.call(TypedArrayConstructor, C))) {\n      return C;\n    }\n  } throw TypeError('Target is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && has(TypedArrayConstructor.prototype, KEY)) {\n      delete TypedArrayConstructor.prototype[KEY];\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    redefine(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && has(TypedArrayConstructor, KEY)) {\n        delete TypedArrayConstructor[KEY];\n      }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && Int8Array[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      redefine(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  if (!global[NAME]) NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || typeof TypedArray != 'function' || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !has(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","/* eslint-disable no-new */\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar NATIVE_ARRAY_BUFFER_VIEWS = require('../internals/array-buffer-view-core').NATIVE_ARRAY_BUFFER_VIEWS;\n\nvar ArrayBuffer = global.ArrayBuffer;\nvar Int8Array = global.Int8Array;\n\nmodule.exports = !NATIVE_ARRAY_BUFFER_VIEWS || !fails(function () {\n  Int8Array(1);\n}) || !fails(function () {\n  new Int8Array(-1);\n}) || !checkCorrectnessOfIteration(function (iterable) {\n  new Int8Array();\n  new Int8Array(null);\n  new Int8Array(1.5);\n  new Int8Array(iterable);\n}, true) || fails(function () {\n  // Safari (11+) bug - a reason why even Safari 13 should load a typed array polyfill\n  return new Int8Array(new ArrayBuffer(2), 1, undefined).length !== 1;\n});\n","var toInteger = require('../internals/to-integer');\n\nmodule.exports = function (it) {\n  var result = toInteger(it);\n  if (result < 0) throw RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n","var toPositiveInteger = require('../internals/to-positive-integer');\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw RangeError('Wrong offset');\n  return offset;\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar bind = require('../internals/function-bind-context');\nvar aTypedArrayConstructor = require('../internals/array-buffer-view-core').aTypedArrayConstructor;\n\nmodule.exports = function from(source /* , mapfn, thisArg */) {\n  var O = toObject(source);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var i, length, result, step, iterator, next;\n  if (iteratorMethod != undefined && !isArrayIteratorMethod(iteratorMethod)) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    O = [];\n    while (!(step = next.call(iterator)).done) {\n      O.push(step.value);\n    }\n  }\n  if (mapping && argumentsLength > 2) {\n    mapfn = bind(mapfn, arguments[2], 2);\n  }\n  length = toLength(O.length);\n  result = new (aTypedArrayConstructor(this))(length);\n  for (i = 0; length > i; i++) {\n    result[i] = mapping ? mapfn(O[i], i) : O[i];\n  }\n  return result;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-array-constructors-require-wrappers');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anInstance = require('../internals/an-instance');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar toOffset = require('../internals/to-offset');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar typedArrayFrom = require('../internals/typed-array-from');\nvar forEach = require('../internals/array-iteration').forEach;\nvar setSpecies = require('../internals/set-species');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar InternalStateModule = require('../internals/internal-state');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar round = Math.round;\nvar RangeError = global.RangeError;\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\nvar TYPED_ARRAY_TAG = ArrayBufferViewCore.TYPED_ARRAY_TAG;\nvar TypedArray = ArrayBufferViewCore.TypedArray;\nvar TypedArrayPrototype = ArrayBufferViewCore.TypedArrayPrototype;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar isTypedArray = ArrayBufferViewCore.isTypedArray;\nvar BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\nvar WRONG_LENGTH = 'Wrong length';\n\nvar fromList = function (C, list) {\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n\nvar addGetter = function (it, key) {\n  nativeDefineProperty(it, key, { get: function () {\n    return getInternalState(this)[key];\n  } });\n};\n\nvar isArrayBuffer = function (it) {\n  var klass;\n  return it instanceof ArrayBuffer || (klass = classof(it)) == 'ArrayBuffer' || klass == 'SharedArrayBuffer';\n};\n\nvar isTypedArrayIndex = function (target, key) {\n  return isTypedArray(target)\n    && typeof key != 'symbol'\n    && key in target\n    && String(+key) == String(key);\n};\n\nvar wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {\n  return isTypedArrayIndex(target, key = toPrimitive(key, true))\n    ? createPropertyDescriptor(2, target[key])\n    : nativeGetOwnPropertyDescriptor(target, key);\n};\n\nvar wrappedDefineProperty = function defineProperty(target, key, descriptor) {\n  if (isTypedArrayIndex(target, key = toPrimitive(key, true))\n    && isObject(descriptor)\n    && has(descriptor, 'value')\n    && !has(descriptor, 'get')\n    && !has(descriptor, 'set')\n    // TODO: add validation descriptor w/o calling accessors\n    && !descriptor.configurable\n    && (!has(descriptor, 'writable') || descriptor.writable)\n    && (!has(descriptor, 'enumerable') || descriptor.enumerable)\n  ) {\n    target[key] = descriptor.value;\n    return target;\n  } return nativeDefineProperty(target, key, descriptor);\n};\n\nif (DESCRIPTORS) {\n  if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n    getOwnPropertyDescriptorModule.f = wrappedGetOwnPropertyDescriptor;\n    definePropertyModule.f = wrappedDefineProperty;\n    addGetter(TypedArrayPrototype, 'buffer');\n    addGetter(TypedArrayPrototype, 'byteOffset');\n    addGetter(TypedArrayPrototype, 'byteLength');\n    addGetter(TypedArrayPrototype, 'length');\n  }\n\n  $({ target: 'Object', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {\n    getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,\n    defineProperty: wrappedDefineProperty\n  });\n\n  module.exports = function (TYPE, wrapper, CLAMPED) {\n    var BYTES = TYPE.match(/\\d+$/)[0] / 8;\n    var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + TYPE;\n    var SETTER = 'set' + TYPE;\n    var NativeTypedArrayConstructor = global[CONSTRUCTOR_NAME];\n    var TypedArrayConstructor = NativeTypedArrayConstructor;\n    var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;\n    var exported = {};\n\n    var getter = function (that, index) {\n      var data = getInternalState(that);\n      return data.view[GETTER](index * BYTES + data.byteOffset, true);\n    };\n\n    var setter = function (that, index, value) {\n      var data = getInternalState(that);\n      if (CLAMPED) value = (value = round(value)) < 0 ? 0 : value > 0xFF ? 0xFF : value & 0xFF;\n      data.view[SETTER](index * BYTES + data.byteOffset, value, true);\n    };\n\n    var addElement = function (that, index) {\n      nativeDefineProperty(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n\n    if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n      TypedArrayConstructor = wrapper(function (that, data, offset, $length) {\n        anInstance(that, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        var index = 0;\n        var byteOffset = 0;\n        var buffer, byteLength, length;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new ArrayBuffer(byteLength);\n        } else if (isArrayBuffer(data)) {\n          buffer = data;\n          byteOffset = toOffset(offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - byteOffset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + byteOffset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (isTypedArray(data)) {\n          return fromList(TypedArrayConstructor, data);\n        } else {\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }\n        setInternalState(that, {\n          buffer: buffer,\n          byteOffset: byteOffset,\n          byteLength: byteLength,\n          length: length,\n          view: new DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create(TypedArrayPrototype);\n    } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS) {\n      TypedArrayConstructor = wrapper(function (dummy, data, typedArrayOffset, $length) {\n        anInstance(dummy, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        return inheritIfRequired(function () {\n          if (!isObject(data)) return new NativeTypedArrayConstructor(toIndex(data));\n          if (isArrayBuffer(data)) return $length !== undefined\n            ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES), $length)\n            : typedArrayOffset !== undefined\n              ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES))\n              : new NativeTypedArrayConstructor(data);\n          if (isTypedArray(data)) return fromList(TypedArrayConstructor, data);\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }(), dummy, TypedArrayConstructor);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      forEach(getOwnPropertyNames(NativeTypedArrayConstructor), function (key) {\n        if (!(key in TypedArrayConstructor)) {\n          createNonEnumerableProperty(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);\n        }\n      });\n      TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;\n    }\n\n    if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, 'constructor', TypedArrayConstructor);\n    }\n\n    if (TYPED_ARRAY_TAG) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);\n    }\n\n    exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;\n\n    $({\n      global: true, forced: TypedArrayConstructor != NativeTypedArrayConstructor, sham: !NATIVE_ARRAY_BUFFER_VIEWS\n    }, exported);\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {\n      createNonEnumerableProperty(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    setSpecies(CONSTRUCTOR_NAME);\n  };\n} else module.exports = function () { /* empty */ };\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Float32Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Float32', function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\nvar min = Math.min;\n\n// `Array.prototype.copyWithin` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.copywithin\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $copyWithin = require('../internals/array-copy-within');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.copyWithin` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.copywithin\nexportTypedArrayMethod('copyWithin', function copyWithin(target, start /* , end */) {\n  return $copyWithin.call(aTypedArray(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $every = require('../internals/array-iteration').every;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.every\nexportTypedArrayMethod('every', function every(callbackfn /* , thisArg */) {\n  return $every(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $fill = require('../internals/array-fill');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.fill\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('fill', function fill(value /* , start, end */) {\n  return $fill.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $filter = require('../internals/array-iteration').filter;\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.filter\nexportTypedArrayMethod('filter', function filter(callbackfn /* , thisArg */) {\n  var list = $filter(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $find = require('../internals/array-iteration').find;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.find\nexportTypedArrayMethod('find', function find(predicate /* , thisArg */) {\n  return $find(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findIndex = require('../internals/array-iteration').findIndex;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.findindex\nexportTypedArrayMethod('findIndex', function findIndex(predicate /* , thisArg */) {\n  return $findIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.foreach\nexportTypedArrayMethod('forEach', function forEach(callbackfn /* , thisArg */) {\n  $forEach(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $includes = require('../internals/array-includes').includes;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.includes\nexportTypedArrayMethod('includes', function includes(searchElement /* , fromIndex */) {\n  return $includes(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $indexOf = require('../internals/array-includes').indexOf;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.indexof\nexportTypedArrayMethod('indexOf', function indexOf(searchElement /* , fromIndex */) {\n  return $indexOf(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayIterators = require('../modules/es.array.iterator');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar Uint8Array = global.Uint8Array;\nvar arrayValues = ArrayIterators.values;\nvar arrayKeys = ArrayIterators.keys;\nvar arrayEntries = ArrayIterators.entries;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar nativeTypedArrayIterator = Uint8Array && Uint8Array.prototype[ITERATOR];\n\nvar CORRECT_ITER_NAME = !!nativeTypedArrayIterator\n  && (nativeTypedArrayIterator.name == 'values' || nativeTypedArrayIterator.name == undefined);\n\nvar typedArrayValues = function values() {\n  return arrayValues.call(aTypedArray(this));\n};\n\n// `%TypedArray%.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.entries\nexportTypedArrayMethod('entries', function entries() {\n  return arrayEntries.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.keys\nexportTypedArrayMethod('keys', function keys() {\n  return arrayKeys.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.values\nexportTypedArrayMethod('values', typedArrayValues, !CORRECT_ITER_NAME);\n// `%TypedArray%.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype-@@iterator\nexportTypedArrayMethod(ITERATOR, typedArrayValues, !CORRECT_ITER_NAME);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $join = [].join;\n\n// `%TypedArray%.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.join\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('join', function join(separator) {\n  return $join.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $lastIndexOf = require('../internals/array-last-index-of');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.lastindexof\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('lastIndexOf', function lastIndexOf(searchElement /* , fromIndex */) {\n  return $lastIndexOf.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $map = require('../internals/array-iteration').map;\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.map\nexportTypedArrayMethod('map', function map(mapfn /* , thisArg */) {\n  return $map(aTypedArray(this), mapfn, arguments.length > 1 ? arguments[1] : undefined, function (O, length) {\n    return new (aTypedArrayConstructor(speciesConstructor(O, O.constructor)))(length);\n  });\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduce = require('../internals/array-reduce').left;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reduce\nexportTypedArrayMethod('reduce', function reduce(callbackfn /* , initialValue */) {\n  return $reduce(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduceRight = require('../internals/array-reduce').right;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduceRicht` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reduceright\nexportTypedArrayMethod('reduceRight', function reduceRight(callbackfn /* , initialValue */) {\n  return $reduceRight(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar floor = Math.floor;\n\n// `%TypedArray%.prototype.reverse` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reverse\nexportTypedArrayMethod('reverse', function reverse() {\n  var that = this;\n  var length = aTypedArray(that).length;\n  var middle = floor(length / 2);\n  var index = 0;\n  var value;\n  while (index < middle) {\n    value = that[index];\n    that[index++] = that[--length];\n    that[length] = value;\n  } return that;\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toOffset = require('../internals/to-offset');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line no-undef\n  new Int8Array(1).set({});\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var length = this.length;\n  var src = toObject(arrayLike);\n  var len = toLength(src.length);\n  var index = 0;\n  if (len + offset > length) throw RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, FORCED);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar speciesConstructor = require('../internals/species-constructor');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $slice = [].slice;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line no-undef\n  new Int8Array(1).slice();\n});\n\n// `%TypedArray%.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.slice\nexportTypedArrayMethod('slice', function slice(start, end) {\n  var list = $slice.call(aTypedArray(this), start, end);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n}, FORCED);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $some = require('../internals/array-iteration').some;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.some\nexportTypedArrayMethod('some', function some(callbackfn /* , thisArg */) {\n  return $some(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $sort = [].sort;\n\n// `%TypedArray%.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.sort\nexportTypedArrayMethod('sort', function sort(comparefn) {\n  return $sort.call(aTypedArray(this), comparefn);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.subarray` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.subarray\nexportTypedArrayMethod('subarray', function subarray(begin, end) {\n  var O = aTypedArray(this);\n  var length = O.length;\n  var beginIndex = toAbsoluteIndex(begin, length);\n  return new (speciesConstructor(O, O.constructor))(\n    O.buffer,\n    O.byteOffset + beginIndex * O.BYTES_PER_ELEMENT,\n    toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - beginIndex)\n  );\n});\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar fails = require('../internals/fails');\n\nvar Int8Array = global.Int8Array;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $toLocaleString = [].toLocaleString;\nvar $slice = [].slice;\n\n// iOS Safari 6.x fails here\nvar TO_LOCALE_STRING_BUG = !!Int8Array && fails(function () {\n  $toLocaleString.call(new Int8Array(1));\n});\n\nvar FORCED = fails(function () {\n  return [1, 2].toLocaleString() != new Int8Array([1, 2]).toLocaleString();\n}) || !fails(function () {\n  Int8Array.prototype.toLocaleString.call([1, 2]);\n});\n\n// `%TypedArray%.prototype.toLocaleString` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.tolocalestring\nexportTypedArrayMethod('toLocaleString', function toLocaleString() {\n  return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray(this)) : aTypedArray(this), arguments);\n}, FORCED);\n","'use strict';\nvar exportTypedArrayMethod = require('../internals/array-buffer-view-core').exportTypedArrayMethod;\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar Uint8Array = global.Uint8Array;\nvar Uint8ArrayPrototype = Uint8Array && Uint8Array.prototype || {};\nvar arrayToString = [].toString;\nvar arrayJoin = [].join;\n\nif (fails(function () { arrayToString.call({}); })) {\n  arrayToString = function toString() {\n    return arrayJoin.call(this);\n  };\n}\n\nvar IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString != arrayToString;\n\n// `%TypedArray%.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.tostring\nexportTypedArrayMethod('toString', arrayToString, IS_NOT_ARRAY_METHOD);\n","const { GPU, input } = require('gpu.js');\n\nlet gpuInstance = null;\n\nfunction setup(value) {\n  gpuInstance = value;\n}\n\nfunction teardown() {\n  if (gpuInstance) {\n    gpuInstance.destroy();\n  }\n  gpuInstance = null;\n}\n\nfunction makeKernel(fn, settings) {\n  if (gpuInstance === null) {\n    setup(new GPU({ mode: 'gpu' }));\n  }\n  if (settings.hasOwnProperty('map')) {\n    return gpuInstance\n      .createKernelMap(settings.map, fn, settings)\n      .setPipeline(true);\n  }\n  return gpuInstance.createKernel(fn, settings).setPipeline(true);\n}\n\nfunction makeDevKernel(fn, settings) {\n  if (settings && settings.map) {\n    throw new Error('map kernels are not supported by dev kernels');\n  }\n  const gpu = new GPU({ mode: 'dev' });\n  return gpu.createKernel(fn, settings);\n}\n\nfunction kernelInput(value, size) {\n  return input(value, size);\n}\n\nfunction release(texture) {\n  if (texture && texture.delete) {\n    texture.delete();\n  }\n}\n\nfunction clear(texture) {\n  if (texture.clear) {\n    texture.clear();\n    return;\n  }\n  if (texture instanceof Float32Array) {\n    texture.fill(0);\n  } else if (texture[0] instanceof Float32Array) {\n    for (let x = 0; x < texture.length; x++) {\n      texture[x].fill(0);\n    }\n  } else if (texture[0][0] instanceof Float32Array) {\n    for (let y = 0; y < texture.length; y++) {\n      const row = texture[y];\n      for (let x = 0; x < row.length; x++) {\n        row[x].fill(0);\n      }\n    }\n  }\n}\n\nfunction clone(texture) {\n  if (texture.clone) {\n    return texture.clone();\n  }\n  if (typeof texture[0] === 'number') {\n    return texture.slice(0);\n  } else if (typeof texture[0][0] === 'number') {\n    const matrix = new Array(texture.length);\n    for (let x = 0; x < texture.length; x++) {\n      matrix[x] = texture[x].slice(0);\n    }\n    return matrix;\n  } else if (typeof texture[0][0][0] === 'number') {\n    const cube = new Array(texture.length);\n    for (let y = 0; y < texture.length; y++) {\n      const row = texture[y];\n      const matrix = new Array(row.length);\n      for (let x = 0; x < row.length; x++) {\n        matrix[x] = row[x].slice(0);\n      }\n    }\n    return cube;\n  }\n  throw new Error('unknown state!');\n}\n\nmodule.exports = {\n  setup,\n  teardown,\n  makeKernel,\n  makeDevKernel,\n  kernelInput,\n  release,\n  clone,\n  clear,\n};\n","module.exports = function zeros(size) {\n  return new Float32Array(size);\n};\n","const zeros = require('./zeros');\n\nmodule.exports = function zeros2D(width, height) {\n  const result = new Array(height);\n  for (let y = 0; y < height; y++) {\n    result[y] = zeros(width);\n  }\n  return result;\n};\n","/**\n *\n * @param {Base} layer1\n * @param {Base} layer2\n */\nfunction checkSameSize(layer1, layer2) {\n  if (layer1.width !== layer2.width) {\n    throw new Error(\n      `Layer width mismatch of ${layer1.width} and ${layer2.width}`\n    );\n  }\n\n  if (layer1.height !== layer2.height) {\n    throw new Error(\n      `Layer height mismatch of ${layer1.height} and ${layer2.height}`\n    );\n  }\n}\n\nmodule.exports = {\n  checkSameSize,\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var $ = require('../internals/export');\n\n// `Number.isNaN` method\n// https://tc39.github.io/ecma262/#sec-number.isnan\n$({ target: 'Number', stat: true }, {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","const { release, clear } = require('../utilities/kernel');\n\nclass Base {\n  static get defaults() {\n    return {\n      width: 1,\n      height: 1,\n      depth: null,\n      weights: null,\n      deltas: null,\n      name: null,\n      praxisOpts: null,\n    };\n  }\n\n  constructor(settings) {\n    // size\n    this.width = null;\n    this.height = null;\n    this.depth = null;\n\n    // what matters :P\n    this.deltas = null;\n    this.weights = null;\n\n    this.praxis = null;\n    this.praxisOpts = null;\n\n    if (this.constructor !== Base) {\n      Object.assign(this, Base.defaults, settings);\n    }\n    Object.assign(this, this.constructor.defaults, settings);\n\n    // special settings\n    this.setupPraxis(settings);\n  }\n\n  setupPraxis(settings) {\n    if (!settings) return;\n    if (settings.hasOwnProperty('praxis')) {\n      if (typeof settings.praxis === 'function') {\n        this.praxis = settings.praxis(this, settings.praxisOpts);\n      } else {\n        this.praxis = settings.praxis;\n      }\n    }\n  }\n\n  /*\n  get weights() {\n    return this._weights;\n  }\n\n  set weights(value) {\n    if (value) {\n      if (value.dimensions) {\n        if (value.dimensions[0] !== this.width) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value width`);\n        }\n        if (value.dimensions[1] !== this.height) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value height`);\n        }\n      } else {\n        if (value[0].length !== this.width) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value width`);\n        }\n        if (value.length !== this.height) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value height`);\n        }\n      }\n    }\n    this._weights = value;\n  }\n\n  get deltas() {\n    return this._deltas;\n  }\n\n  set deltas(value) {\n    if (value) {\n      if (value.dimensions) {\n        if (value.dimensions[0] !== this.width) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value width`);\n        }\n        if (value.dimensions[1] !== this.height) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value height`);\n        }\n      } else {\n        if (value[0].length !== this.width) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value width`);\n        }\n        if (value.length !== this.height) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value height`);\n        }\n      }\n    }\n    this._deltas = value;\n  } */\n\n  validate() {\n    if (Number.isNaN(this.height)) {\n      throw new Error(`${this.constructor.name} layer height is not a number`);\n    }\n    if (Number.isNaN(this.width)) {\n      throw new Error(`${this.constructor.name} layer width is not a number`);\n    }\n    if (this.height < 1) {\n      throw new Error(`${this.constructor.name} layer height is less than 1`);\n    }\n    if (this.width < 1) {\n      throw new Error(`${this.constructor.name} layer width is less than 1`);\n    }\n  }\n\n  setupKernels() {\n    // console.log(`${this.constructor.name}-setupKernels is not yet implemented`)\n  }\n\n  reuseKernels(layer) {\n    if (layer.width !== this.width) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${layer.width} is not ${this.width}`\n      );\n    }\n    if (layer.height !== this.height) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${layer.height} is not ${this.height}`\n      );\n    }\n    if (layer.hasOwnProperty('predictKernel')) {\n      if (!layer.predictKernel.immutable) {\n        throw new Error(\n          `${layer.constructor.name}.predictKernel is not reusable, set kernel.immutable = true`\n        );\n      }\n      this.predictKernel = layer.predictKernel;\n    }\n    if (layer.hasOwnProperty('compareKernel')) {\n      if (!layer.compareKernel.immutable) {\n        throw new Error(\n          `${layer.constructor.name}.compareKernel is not reusable, set kernel.immutable = true`\n        );\n      }\n      this.compareKernel = layer.compareKernel;\n    }\n    this.praxis = layer.praxis;\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  // eslint-disable-next-line\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn(previousLayer, nextLayer, learningRate) {\n    // TODO: do we need to release here?\n    const { weights: oldWeights } = this;\n    this.weights = this.praxis.run(\n      this,\n      previousLayer,\n      nextLayer,\n      learningRate\n    );\n    release(oldWeights);\n    clear(this.deltas);\n  }\n\n  toArray() {\n    return this.weights.toArray();\n  }\n\n  toJSON() {\n    const jsonLayer = {};\n    const { defaults, name } = this.constructor;\n    if (this.constructor !== Base) {\n      Object.assign(defaults, Base.defaults, defaults);\n    }\n    const keys = Object.keys(defaults);\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      if (key === 'deltas') continue;\n      if (key === 'name' && this[key] === null) continue;\n      jsonLayer[key] = this[key];\n    }\n    jsonLayer.type = name;\n    return jsonLayer;\n  }\n}\n\nmodule.exports = {\n  Base,\n};\n","const zeros2D = require('./zeros-2d');\n\nmodule.exports = function zeros3D(width, height, depth) {\n  const result = new Array(depth);\n  for (let z = 0; z < depth; z++) {\n    result[z] = zeros2D(width, height);\n  }\n  return result;\n};\n","const { Base } = require('./base');\nconst zeros2D = require('../utilities/zeros-2d');\nconst zeros3D = require('../utilities/zeros-3d');\n\nclass Activation extends Base {\n  constructor(inputLayer, settings) {\n    super();\n    this.inputLayer = inputLayer;\n\n    const { width, height, depth } = inputLayer;\n    this.predictKernel = null;\n    this.compareKernel = null;\n    this.width = width;\n    this.height = height;\n    this.validate();\n    if (depth > 0) {\n      this.depth = depth;\n      this.weights = zeros3D(width, height, depth);\n      this.deltas = zeros3D(width, height, depth);\n    } else {\n      this.weights = zeros2D(width, height);\n      this.deltas = zeros2D(width, height);\n    }\n    this.setupPraxis(settings);\n  }\n}\n\nmodule.exports = { Activation };\n","const { Base } = require('./base');\nconst { Activation } = require('./activation');\n\nclass Internal {}\nclass InternalModel {}\nclass EntryPoint extends Base {}\nclass Filter extends Base {}\nclass Model extends Base {}\nclass Modifier extends Base {}\nclass Operator extends Base {}\n\nmodule.exports = {\n  Activation,\n  Internal,\n  InternalModel,\n  EntryPoint,\n  Filter,\n  Model,\n  Modifier,\n  Operator,\n};\n","const { makeKernel, release, clone, clear } = require('../utilities/kernel');\nconst zeros2D = require('../utilities/zeros-2d');\nconst { checkSameSize } = require('../utilities/layer-size');\nconst { Operator } = require('./types');\n\nfunction predict(inputWeights1, inputWeights2) {\n  return (\n    inputWeights1[this.thread.y][this.thread.x] +\n    inputWeights2[this.thread.y][this.thread.x]\n  );\n}\n\nclass Add extends Operator {\n  constructor(inputLayer1, inputLayer2, settings) {\n    super();\n    this.inputLayer1 = inputLayer1;\n    this.inputLayer2 = inputLayer2;\n    this.width = this.inputLayer1.width;\n    this.height = this.inputLayer1.height;\n    this.validate();\n    this.weights = zeros2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n    this.setupPraxis(settings);\n  }\n\n  validate() {\n    super.validate();\n    checkSameSize(this.inputLayer1, this.inputLayer2);\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(\n      this.inputLayer1.weights,\n      this.inputLayer2.weights\n    );\n    clear(this.deltas);\n  }\n\n  compare() {\n    // TODO: Do we need release and clone here?\n    release(this.inputLayer1.deltas);\n    release(this.inputLayer2.deltas);\n    this.inputLayer1.deltas = clone(this.deltas);\n    this.inputLayer2.deltas = clone(this.deltas);\n  }\n\n  /**\n   * @abstract\n   */\n  learn() {}\n}\n\nfunction add(inputLayer1, inputLayer2, settings) {\n  return new Add(inputLayer1, inputLayer2, settings);\n}\n\nmodule.exports = { Add, add, predict };\n","class Base {\n  static get defaults() {\n    return {};\n  }\n\n  constructor(layerTemplate, settings = {}) {\n    this.layerTemplate = layerTemplate;\n    this.width = layerTemplate.width || null;\n    this.height = layerTemplate.height || null;\n    this.depth = layerTemplate.depth || null;\n    Object.assign(this, this.constructor.defaults, settings);\n  }\n\n  setupKernels() {}\n\n  reuseKernels(praxis) {\n    if (praxis.width !== this.width) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${praxis.width} is not ${this.width}`\n      );\n    }\n    if (praxis.height !== this.height) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${praxis.height} is not ${this.height}`\n      );\n    }\n    if (praxis.hasOwnProperty('kernel')) {\n      this.kernel = praxis.kernel;\n    }\n  }\n\n  run() {}\n}\n\nmodule.exports = {\n  Base,\n};\n","const { makeKernel } = require('../utilities/kernel');\nconst zeros2D = require('../utilities/zeros-2d');\nconst { Base } = require('./base');\n\nfunction updateChange(value) {\n  return value;\n}\n\nfunction update(changes, weights, incomingWeights, inputDeltas) {\n  const lastChange = changes[this.thread.y][this.thread.x];\n  const inputDelta = inputDeltas[this.thread.y][0];\n  const weight = weights[this.thread.y][this.thread.x];\n  const incoming = incomingWeights[this.thread.x][0];\n\n  const change =\n    this.constants.learningRate * inputDelta * incoming +\n    this.constants.momentum * lastChange;\n  updateChange(change);\n  return weight + change;\n}\n\nclass ArthurDeviationWeights extends Base {\n  static get defaults() {\n    return {\n      learningRate: 0.3,\n      momentum: 0.1,\n    };\n  }\n\n  constructor(layer, settings) {\n    super(layer, settings);\n    this.weightsLayer = null;\n    this.incomingLayer = null;\n    this.deltaLayer = null;\n\n    if (settings) {\n      if (settings.weightsLayer) {\n        this.weightsLayer = settings.weightsLayer;\n      }\n      if (settings.incomingLayer) {\n        this.incomingLayer = settings.incomingLayer;\n      }\n      if (settings.deltaLayer) {\n        this.deltaLayer = settings.deltaLayer;\n      }\n    }\n\n    this.changes = zeros2D(layer.width, layer.height);\n  }\n\n  run() {\n    const output = this.kernel(\n      this.changes,\n      this.weightsLayer.weights,\n      this.incomingLayer.weights,\n      this.deltaLayer.deltas\n    );\n    this.changes = output.changes;\n    return output.result;\n  }\n\n  setupKernels() {\n    this.kernel = makeKernel(update, {\n      map: {\n        changes: updateChange,\n      },\n      output: [this.width, this.height],\n      constants: {\n        learningRate: this.learningRate,\n        momentum: this.momentum,\n      },\n    });\n  }\n}\n\nfunction arthurDeviationWeights(layer, settings) {\n  return new ArthurDeviationWeights(layer, settings);\n}\n\nmodule.exports = {\n  ArthurDeviationWeights,\n  arthurDeviationWeights,\n  update,\n  updateChange,\n};\n","const { makeKernel } = require('../utilities/kernel');\nconst { Base } = require('./base');\n\nfunction update(weights, deltas) {\n  return (\n    weights[this.thread.y][this.thread.x] +\n    this.constants.learningRate * deltas[this.thread.y][this.thread.x]\n  );\n}\n\nclass ArthurDeviationBiases extends Base {\n  static get defaults() {\n    return {\n      learningRate: 0.3,\n    };\n  }\n\n  constructor(layer, settings) {\n    super(layer, settings);\n    this.kernel = null;\n  }\n\n  run(layer) {\n    const output = this.kernel(layer.weights, layer.deltas);\n    return output;\n  }\n\n  setupKernels() {\n    this.kernel = makeKernel(update, {\n      output: [this.width, this.height],\n      constants: {\n        learningRate: this.learningRate,\n      },\n    });\n  }\n}\n\nfunction arthurDeviationBiases(layer, settings) {\n  return new ArthurDeviationBiases(layer, settings);\n}\n\nmodule.exports = {\n  ArthurDeviationBiases,\n  arthurDeviationBiases,\n  update,\n};\n","module.exports = function randomWeight() {\n  return Math.random() * 0.4 - 0.2;\n};\n","function randomFloat(a, b) {\n  return Math.random() * (b - a) + a;\n}\n\n// Random numbers utils\nfunction gaussRandom() {\n  if (gaussRandom.returnV) {\n    gaussRandom.returnV = false;\n    return gaussRandom.vVal;\n  }\n  const u = 2 * Math.random() - 1;\n  const v = 2 * Math.random() - 1;\n  const r = u * u + v * v;\n  if (r === 0 || r > 1) {\n    return gaussRandom();\n  }\n  const c = Math.sqrt((-2 * Math.log(r)) / r);\n  gaussRandom.vVal = v * c; // cache this\n  gaussRandom.returnV = true;\n  return u * c;\n}\n\nfunction randomInteger(a, b) {\n  return Math.floor(Math.random() * (b - a) + a);\n}\n\nfunction randomN(mu, std) {\n  return mu + gaussRandom() * std;\n}\n\ngaussRandom.returnV = false;\ngaussRandom.vVal = 0;\n\nmodule.exports = { randomFloat, randomInteger, randomN };\n","const randomWeight = require('./random-weight');\nconst { randomFloat } = require('./random');\n\nmodule.exports = function randos(size, std) {\n  const array = new Float32Array(size);\n  if (std) {\n    for (let i = 0; i < size; i++) {\n      array[i] = randomFloat(-std, std);\n    }\n  } else {\n    for (let i = 0; i < size; i++) {\n      array[i] = randomWeight();\n    }\n  }\n  return array;\n};\n","const randos = require('./randos');\n\nmodule.exports = function randos2D(width, height, std = null) {\n  const result = new Array(height);\n  for (let y = 0; y < height; y++) {\n    result[y] = randos(width, std);\n  }\n  return result;\n};\n","const { Model } = require('./types');\nconst randos2D = require('../utilities/randos-2d');\nconst zeros2D = require('../utilities/zeros-2d');\n\nclass Random extends Model {\n  static get defaults() {\n    return {\n      std: null, // standard deviation\n    };\n  }\n\n  constructor(settings) {\n    super(settings);\n    this.validate();\n\n    if (!this.weights) {\n      this.weights = settings.std\n        ? randos2D(this.width, this.height, settings.std)\n        : randos2D(this.width, this.height);\n    }\n    if (!this.deltas) {\n      this.deltas = zeros2D(this.width, this.height);\n    }\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n}\n\nfunction random(settings) {\n  return new Random(settings);\n}\n\nmodule.exports = {\n  Random,\n  random,\n};\n","const { makeKernel, release, clear } = require('../utilities/kernel');\nconst zeros2D = require('../utilities/zeros-2d');\nconst { Operator } = require('./types');\n\nfunction predict(weights1, weights2) {\n  let sum = 0;\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += weights1[this.thread.y][i] * weights2[i][this.thread.x];\n  }\n  return sum;\n}\n\nfunction compareFromX(deltas, inputDeltas, inputWeights) {\n  let sum = inputDeltas[this.thread.y][this.thread.x];\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += deltas[this.thread.y][i] * inputWeights[this.thread.x][i];\n  }\n  return sum;\n}\n\nfunction compareFromY(deltas, inputDeltas, inputWeights) {\n  let sum = inputDeltas[this.thread.y][this.thread.x];\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += deltas[i][this.thread.x] * inputWeights[i][this.thread.y];\n  }\n  return sum;\n}\n\nclass Multiply extends Operator {\n  constructor(inputLayer1, inputLayer2, settings = {}) {\n    super();\n    this.inputLayer1 = inputLayer1;\n    this.inputLayer2 = inputLayer2;\n    this.compareKernel1 = null;\n    this.compareKernel2 = null;\n\n    this.width = inputLayer2.width;\n    this.height = inputLayer1.height;\n    this.validate();\n    this.weights = zeros2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n\n    if (settings && settings.name) {\n      this.name = settings.name;\n    }\n    this.setupPraxis(settings);\n  }\n\n  validate() {\n    super.validate();\n    if (this.inputLayer1.width !== this.inputLayer2.height) {\n      throw new Error(\n        `Layer width mismatch of ${this.inputLayer1.width} and ${this.inputLayer2.height}`\n      );\n    }\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n      constants: {\n        size: this.inputLayer2.height,\n      },\n      immutable: true,\n    });\n    this.compareKernel1 = makeKernel(compareFromX, {\n      output: [this.inputLayer1.width, this.inputLayer1.height],\n      constants: {\n        size: this.inputLayer2.width,\n      },\n      immutable: true,\n    });\n    this.compareKernel2 = makeKernel(compareFromY, {\n      output: [this.inputLayer2.width, this.inputLayer2.height],\n      constants: {\n        size: this.inputLayer1.height,\n      },\n      immutable: true,\n    });\n  }\n\n  reuseKernels(layer) {\n    super.reuseKernels(layer);\n    this.compareKernel1 = layer.compareKernel1;\n    this.compareKernel2 = layer.compareKernel2;\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(\n      this.inputLayer1.weights,\n      this.inputLayer2.weights\n    );\n    clear(this.deltas);\n  }\n\n  compare() {\n    const inputLayer1Deltas = this.inputLayer1.deltas;\n    const inputLayer2Deltas = this.inputLayer2.deltas;\n\n    const newDeltas1 = this.compareKernel1(\n      this.deltas,\n      this.inputLayer1.deltas,\n      this.inputLayer2.weights\n    );\n    const newDeltas2 = this.compareKernel2(\n      this.deltas,\n      this.inputLayer2.deltas,\n      this.inputLayer1.weights\n    );\n\n    this.inputLayer2.deltas = newDeltas2;\n    this.inputLayer1.deltas = newDeltas1;\n\n    release(inputLayer1Deltas);\n    release(inputLayer2Deltas);\n  }\n\n  learn() {}\n}\n\nfunction multiply(inputLayer1, inputLayer2, settings) {\n  return new Multiply(inputLayer1, inputLayer2, settings);\n}\n\nmodule.exports = { Multiply, multiply, predict, compareFromX, compareFromY };\n","const { Activation } = require('./types');\nconst { makeKernel, release, clear } = require('../utilities/kernel');\nconst { activate, measure } = require('../activation/sigmoid');\n\nfunction predict2D(inputs) {\n  return 1 / (1 + Math.exp(-inputs[this.thread.y][this.thread.x]));\n}\n\nfunction predict3D(inputs) {\n  return (\n    1 / (1 + Math.exp(-inputs[this.thread.z][this.thread.y][this.thread.x]))\n  );\n}\n\nfunction compare2D(weights, deltas) {\n  const weight = weights[this.thread.y][this.thread.x];\n  const delta = deltas[this.thread.y][this.thread.x];\n  return weight * (1 - weight) * delta;\n}\n\nfunction compare3D(weights, deltas) {\n  const weight = weights[this.thread.z][this.thread.y][this.thread.x];\n  const delta = deltas[this.thread.z][this.thread.y][this.thread.x];\n  return weight * (1 - weight) * delta;\n}\n\nclass Sigmoid extends Activation {\n  setupKernels() {\n    if (this.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [this.width, this.height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [this.width, this.height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    release(this.inputLayer.deltas);\n    this.inputLayer.deltas = this.compareKernel(this.weights, this.deltas);\n  }\n}\n\nfunction sigmoid(inputLayer, settings) {\n  return new Sigmoid(inputLayer, settings);\n}\n\nmodule.exports = {\n  Sigmoid,\n  sigmoid,\n  predict2D,\n  predict3D,\n  compare2D,\n  compare3D,\n};\n","const {\n  arthurDeviationWeights,\n} = require('../praxis/arthur-deviation-weights');\nconst { arthurDeviationBiases } = require('../praxis/arthur-deviation-biases');\nconst { add } = require('./add');\nconst { random } = require('./random');\nconst { multiply } = require('./multiply');\nconst { sigmoid } = require('./sigmoid');\n\nfunction arthurFeedForward(settings, inputLayer) {\n  const { height } = settings;\n  function weightsPraxis(layer, settings) {\n    const praxis = arthurDeviationWeights(layer, settings);\n    praxis.setupKernels();\n    return praxis;\n  }\n  function biasesPraxis(layer, settings) {\n    const praxis = arthurDeviationBiases(layer, settings);\n    praxis.setupKernels();\n    return praxis;\n  }\n  const weightsLayer = random({\n    name: 'weights',\n    height,\n    width: inputLayer.height,\n    praxis: weightsPraxis,\n  });\n\n  const biasesLayer = random({\n    name: 'biases',\n    height,\n    praxis: biasesPraxis,\n  });\n\n  const multiplyLayer = multiply(weightsLayer, inputLayer);\n  const addLayer = add(multiplyLayer, biasesLayer);\n  const sigmoidLayer = sigmoid(addLayer);\n\n  weightsLayer.praxis.weightsLayer = weightsLayer;\n  weightsLayer.praxis.incomingLayer = inputLayer;\n  weightsLayer.praxis.deltaLayer = sigmoidLayer;\n  return sigmoidLayer;\n}\n\nmodule.exports = {\n  arthurFeedForward,\n};\n","function setStride(layer, settings) {\n  const { defaults } = layer.constructor;\n\n  if (settings.hasOwnProperty('stride')) {\n    layer.strideX = settings.stride;\n    layer.strideY = settings.stride;\n  } else {\n    if (settings.hasOwnProperty('strideX')) {\n      layer.strideX = settings.strideX;\n    } else {\n      layer.strideX = defaults.stride;\n    }\n\n    if (settings.hasOwnProperty('strideY')) {\n      layer.strideY = settings.strideY;\n    } else {\n      layer.strideY = defaults.stride;\n    }\n  }\n}\n\nfunction setPadding(layer, settings) {\n  const { defaults } = layer.constructor;\n\n  if (settings.hasOwnProperty('padding')) {\n    layer.paddingX = settings.padding;\n    layer.paddingY = settings.padding;\n  } else {\n    if (settings.hasOwnProperty('paddingX')) {\n      layer.paddingX = settings.paddingX;\n    } else {\n      layer.paddingX = defaults.padding;\n    }\n\n    if (settings.hasOwnProperty('paddingY')) {\n      layer.paddingY = settings.paddingY;\n    } else {\n      layer.paddingY = defaults.padding;\n    }\n  }\n}\n\nmodule.exports = { setStride, setPadding };\n","const rondos2D = require('./randos-2d');\n\nmodule.exports = function randos3D(width, height, depth) {\n  const result = new Array(depth);\n  for (let z = 0; z < depth; z++) {\n    result[z] = rondos2D(width, height);\n  }\n  return result;\n};\n","module.exports = function values(size, value) {\n  return new Float32Array(size).fill(value);\n};\n","const { makeKernel, release, clone, clear } = require('../utilities/kernel');\nconst { setStride, setPadding } = require('../utilities/layer-setup');\nconst { Filter } = require('./types');\nconst randos = require('../utilities/randos');\nconst randos3D = require('../utilities/randos-3d');\nconst zeros3D = require('../utilities/zeros-3d');\nconst values = require('../utilities/values');\n\nfunction predict(inputs, filters, biases) {\n  const startFilterX =\n    this.constants.paddingX - this.thread.x * this.constants.strideX;\n  const startInputX =\n    this.thread.x * this.constants.strideX - this.constants.paddingX;\n  const endFilterX = Math.min(\n    this.constants.filterWidth,\n    startFilterX + this.constants.inputWidth\n  );\n\n  const startFilterY =\n    this.constants.paddingY - this.thread.y * this.constants.strideY;\n  const startInputY =\n    this.thread.y * this.constants.strideY - this.constants.paddingY;\n  const endFilterY = Math.min(\n    this.constants.filterHeight,\n    startFilterY + this.constants.inputHeight\n  );\n\n  let sum = 0;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (\n      let filterY = Math.max(0, startFilterY),\n        inputY = Math.max(0, startInputY);\n      filterY < endFilterY;\n      filterY++, inputY++\n    ) {\n      for (\n        let filterX = Math.max(0, startFilterX),\n          inputX = Math.max(0, startInputX);\n        filterX < endFilterX;\n        filterX++, inputX++\n      ) {\n        sum += filters[z][filterY][filterX] * inputs[z][inputY][inputX];\n      }\n    }\n  }\n  return sum + biases[this.thread.z];\n}\n\nfunction compareFilterDeltas(filterDeltas, inputs, deltas) {\n  const startDeltaX = Math.max(\n    0,\n    Math.ceil(\n      (this.constants.paddingX - this.thread.x) / this.constants.strideX\n    )\n  );\n  const startInputX =\n    startDeltaX * this.constants.strideX +\n    this.thread.x -\n    this.constants.paddingX;\n  const endDeltaX = Math.min(\n    this.constants.deltaWidth,\n    Math.floor(\n      (this.constants.inputWidth -\n        1 -\n        this.thread.x +\n        this.constants.paddingX) /\n        this.constants.strideX\n    ) + 1\n  );\n\n  const startDeltaY = Math.max(\n    0,\n    Math.ceil(\n      (this.constants.paddingY - this.thread.y) / this.constants.strideY\n    )\n  );\n  const startInputY =\n    startDeltaY * this.constants.strideY +\n    this.thread.y -\n    this.constants.paddingY;\n  const endDeltaY = Math.min(\n    this.constants.deltaHeight,\n    Math.floor(\n      (this.constants.inputHeight -\n        1 -\n        this.thread.y +\n        this.constants.paddingY) /\n        this.constants.strideY\n    ) + 1\n  );\n\n  let sum = filterDeltas[this.thread.z][this.thread.y][this.thread.x];\n  for (\n    let deltaY = startDeltaY, inputY = startInputY;\n    deltaY < endDeltaY;\n    deltaY++, inputY += this.constants.strideY\n  ) {\n    for (\n      let deltaX = startDeltaX, inputX = startInputX;\n      deltaX < endDeltaX;\n      deltaX++, inputX += this.constants.strideX\n    ) {\n      sum +=\n        inputs[this.thread.z][inputY][inputX] *\n        deltas[this.constants.deltaZ][deltaY][deltaX];\n    }\n  }\n  return sum;\n}\n\nfunction compareInputDeltas(inputDeltas, filters, deltas) {\n  const x = this.thread.x + this.constants.paddingX;\n  const startDeltaX =\n    x < this.constants.filterWidth\n      ? 0\n      : Math.floor(\n          (x - this.constants.filterWidth + this.constants.strideX) /\n            this.constants.strideX\n        );\n  const startFilterX = x - startDeltaX * this.constants.strideX;\n  const endDeltaX = Math.min(\n    startDeltaX + Math.floor(startFilterX / this.constants.strideX) + 1,\n    this.constants.deltaWidth\n  );\n\n  const y = this.thread.y + this.constants.paddingY;\n  const startDeltaY =\n    y < this.constants.filterHeight\n      ? 0\n      : Math.floor(\n          (y - this.constants.filterHeight + this.constants.strideY) /\n            this.constants.strideY\n        );\n  const startFilterY = y - startDeltaY * this.constants.strideY;\n  const endDeltaY = Math.min(\n    startDeltaY + Math.floor(startFilterY / this.constants.strideY) + 1,\n    this.constants.deltaHeight\n  );\n\n  let sum = inputDeltas[this.thread.z][this.thread.y][this.thread.x];\n  let deltaY = startDeltaY;\n  for (\n    let filterY = startFilterY;\n    deltaY < endDeltaY;\n    filterY -= this.constants.strideY, deltaY++\n  ) {\n    let deltaX = startDeltaX;\n    for (\n      let filterX = startFilterX;\n      deltaX < endDeltaX;\n      filterX -= this.constants.strideX, deltaX++\n    ) {\n      sum +=\n        filters[this.thread.z][filterY][filterX] *\n        deltas[this.constants.deltaZ][deltaY][deltaX];\n    }\n  }\n  return sum;\n}\n\nfunction compareBiases(biasDeltas, deltas) {\n  let sum = 0;\n  for (let y = 0; y < this.constants.deltaHeight; y++) {\n    for (let x = 0; x < this.constants.deltaWidth; x++) {\n      sum += deltas[this.thread.z][y][x];\n    }\n  }\n  return biasDeltas[this.thread.z][this.thread.y][this.thread.x] + sum;\n}\n\nclass Convolution extends Filter {\n  static get defaults() {\n    return {\n      stride: 0,\n      padding: 0,\n      bias: 0.1,\n      filterCount: 1,\n      filterWidth: 0,\n      filterHeight: 0,\n    };\n  }\n\n  constructor(settings, inputLayer) {\n    super(settings);\n\n    this.stride = null;\n    this.strideX = null;\n    this.strideY = null;\n    setStride(this, settings);\n\n    this.padding = null;\n    this.paddingX = null;\n    this.paddingY = null;\n    setPadding(this, settings);\n\n    this.filterCount = settings.filterCount;\n    this.filterWidth = settings.filterWidth;\n    this.filterHeight = settings.filterHeight;\n\n    this.width = Math.floor(\n      (inputLayer.width + this.paddingX * 2 - this.filterWidth) / this.strideX +\n        1\n    );\n    this.height = Math.floor(\n      (inputLayer.height + this.paddingY * 2 - this.filterHeight) /\n        this.strideY +\n        1\n    );\n    this.depth = this.filterCount;\n    this.weights = randos3D(this.width, this.height, this.depth);\n    this.deltas = zeros3D(this.width, this.height, this.depth);\n\n    this.biases = values(this.depth, this.bias);\n    this.biasDeltas = randos(this.depth);\n\n    this.filters = randos3D(\n      this.filterWidth,\n      this.filterHeight,\n      this.filterCount\n    );\n    this.filterDeltas = zeros3D(\n      this.filterWidth,\n      this.filterHeight,\n      this.filterCount\n    );\n\n    this.learnFilters = null;\n    this.learnInputs = null;\n    this.inputLayer = inputLayer;\n    this.validate();\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      constants: {\n        inputWidth: this.inputLayer.width,\n        inputHeight: this.inputLayer.height,\n        inputDepth: this.inputLayer.depth,\n        strideX: this.strideX,\n        strideY: this.strideY,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n        filterWidth: this.filterWidth,\n        filterHeight: this.filterHeight,\n      },\n      output: [this.width, this.height, this.depth],\n      immutable: true,\n    });\n\n    this.compareFilterDeltasKernel = makeKernel(compareFilterDeltas, {\n      constants: {\n        deltasWidth: this.width,\n        deltasHeight: this.height,\n        deltasDepth: this.depth,\n        inputWidth: this.inputLayer.width,\n        inputHeight: this.inputLayer.height,\n        inputDepth: this.inputLayer.depth,\n        strideX: this.strideX,\n        strideY: this.strideY,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n        filterWidth: this.filterWidth,\n        filterHeight: this.filterHeight,\n      },\n      output: [this.width, this.height, this.depth],\n      immutable: true,\n    });\n\n    this.compareInputDeltasKernel = makeKernel(compareInputDeltas, {\n      constants: {\n        filterCount: this.filterCount,\n      },\n      output: [\n        this.inputLayer.width,\n        this.inputLayer.height,\n        this.inputLayer.depth,\n      ],\n      immutable: true,\n    });\n\n    this.compareBiasesKernel = makeKernel(compareBiases, {\n      output: [1, 1, this.depth],\n      constants: {\n        deltaWidth: this.width,\n        deltaHeight: this.height,\n      },\n      immutable: true,\n    });\n  }\n\n  predict() {\n    this.weights = this.predictKernel(\n      this.inputLayer.weights,\n      this.filters,\n      this.biases\n    );\n  }\n\n  compare() {\n    const { filterDeltas, biasDeltas } = this;\n    this.filterDeltas = this.compareFilterDeltasKernel(\n      filterDeltas,\n      this.inputLayer.weights,\n      this.deltas\n    );\n    release(filterDeltas);\n    this.biasDeltas = this.compareBiasesKernel(biasDeltas, this.deltas);\n    release(biasDeltas);\n    release(this.deltas);\n    this.deltas = this.compareInputDeltasKernel(\n      this.filters,\n      this.inputLayer.deltas\n    );\n\n    release(this.inputLayer.deltas);\n    // TODO: do we need to clone here?\n    this.inputLayer.deltas = clone(this.deltas);\n  }\n\n  learn(previousLayer, nextLayer, learningRate) {\n    // TODO: handle filters\n    // TODO: do we need to release here?\n    const { weights: oldWeights } = this;\n    this.weights = this.praxis.run(\n      this,\n      previousLayer,\n      nextLayer,\n      learningRate\n    );\n    release(oldWeights);\n    clear(this.deltas);\n  }\n}\n\nfunction convolution(settings, inputLayer) {\n  return new Convolution(settings, inputLayer);\n}\n\nmodule.exports = {\n  Convolution,\n  convolution,\n  predict,\n  compareFilterDeltas,\n  compareInputDeltas,\n  compareBiases,\n};\n","const { Filter } = require('./types');\nconst { makeKernel, release } = require('../utilities/kernel');\n\nfunction setDropout(dropout) {\n  return dropout;\n}\nfunction trainingPredict(inputs) {\n  if (setDropout(Math.random()) < this.constants.probability) {\n    return 0;\n  }\n  return inputs[this.thread.y][this.thread.x];\n}\n\nfunction predict(inputs) {\n  return inputs[this.thread.y][this.thread.x] * this.constants.probability;\n}\n\nfunction compare(dropouts, deltas) {\n  if (dropouts[this.thread.y][this.thread.x] === 0) {\n    return 0;\n  }\n  return deltas[this.thread.y][this.thread.x];\n}\n\nclass Dropout extends Filter {\n  static get defaults() {\n    return {\n      width: 1,\n      height: 1,\n      depth: null,\n      probability: 0.5,\n    };\n  }\n\n  constructor(inputLayer, settings) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    this.height = inputLayer.height;\n    this.width = inputLayer.width;\n    this.dropouts = null;\n    this.validate();\n  }\n\n  setupKernels(isTraining) {\n    const output = [this.width, this.height];\n\n    if (isTraining) {\n      this.predictKernel = makeKernel(trainingPredict, {\n        output,\n        map: { dropouts: setDropout },\n        immutable: true,\n      });\n      this.compareKernel = makeKernel(compare, { output, immutable: true });\n    } else {\n      this.predictKernel = makeKernel(predict, { output, immutable: true });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    release(this.dropouts);\n    const { result, dropouts } = this.predictKernel(this.inputLayer.weights);\n    this.weights = result;\n    this.dropouts = dropouts;\n  }\n\n  compare() {\n    release(this.deltas);\n    this.deltas = this.compareKernel(this.dropouts, this.inputLayer.deltas);\n  }\n}\n\nfunction dropout(settings, inputLayer) {\n  return new Dropout(settings, inputLayer);\n}\n\nmodule.exports = {\n  Dropout,\n  dropout,\n  setDropout,\n  trainingPredict,\n  predict,\n  compare,\n};\n","const { random } = require('./random');\nconst { add } = require('./add');\nconst { multiply } = require('./multiply');\nconst { sigmoid } = require('./sigmoid');\n\nfunction feedForward(settings, input) {\n  const { height, praxisOpts } = settings;\n  const weights = random({\n    name: 'weights',\n    height,\n    width: input.height,\n    praxisOpts,\n  });\n  const biases = random({ name: 'biases', height, praxisOpts });\n  return sigmoid(\n    add(multiply(weights, input, { praxisOpts }), biases, { praxisOpts }),\n    { praxisOpts }\n  );\n}\n\nmodule.exports = {\n  feedForward,\n};\n","const { Filter } = require('./types');\nconst { makeKernel, release } = require('../utilities/kernel');\nconst values = require('../utilities/values');\nconst randos2D = require('../utilities/randos-2d');\nconst randos3D = require('../utilities/randos-3d');\nconst zeros = require('../utilities/zeros');\nconst zeros2D = require('../utilities/zeros-2d');\nconst zeros3D = require('../utilities/zeros-3d');\n\nfunction predict(inputs, filters, biases) {\n  let output = 0;\n  let i = 0;\n  for (let y = 0; y < this.constants.inputHeight; y++) {\n    for (let x = 0; x < this.constants.inputWidth; x++) {\n      output += inputs[y][x] * filters[this.thread.x][i];\n      i++;\n    }\n  }\n  return output + biases[this.thread.x];\n}\n\nfunction predict3D(inputs, filters, biases) {\n  let output = 0;\n  let i = 0;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (let y = 0; y < this.constants.inputHeight; y++) {\n      for (let x = 0; x < this.constants.inputWidth; x++) {\n        output += inputs[z][y][x] * filters[this.thread.x][i];\n        i++;\n      }\n    }\n  }\n  return output + biases[this.thread.x];\n}\n\nfunction compareInputDeltas(inputDeltas, deltas, filters) {\n  let sum = 0;\n  const filterX = this.thread.x + this.thread.y * this.output.x;\n  for (let filterY = 0; filterY < this.constants.filterCount; filterY++) {\n    sum += filters[filterY][filterX] * deltas[0][filterY];\n  }\n  return sum + inputDeltas[this.thread.y][this.thread.x];\n}\n\nfunction compareInputDeltas3D(inputDeltas, deltas, filters) {\n  let sum = 0;\n  const filterX = this.thread.x + this.thread.y * this.output.x;\n  for (let filterY = 0; filterY < this.constants.filterCount; filterY++) {\n    sum += filters[filterY][filterX] * deltas[0][filterY];\n  }\n  return sum + inputDeltas[this.thread.z][this.thread.y][this.thread.x];\n}\n\nfunction compareBiases(biases, deltas) {\n  return biases[this.thread.x] + deltas[this.thread.y][this.thread.x];\n}\n\nfunction compareFilterDeltas(filterDeltas, inputWeights, deltas) {\n  return (\n    filterDeltas[this.thread.y][this.thread.x] +\n    inputWeights[this.thread.y][this.thread.x] *\n      deltas[this.constants.deltaY][this.constants.deltaX]\n  );\n}\n\nfunction compareFilterDeltas3D(filterDeltas, inputWeights, deltas) {\n  const inputZ = Math.floor(\n    this.thread.x / (this.constants.inputWidth * this.constants.inputHeight)\n  );\n  const inputY = Math.floor(\n    (this.thread.x -\n      inputZ * this.constants.inputWidth * this.constants.inputHeight) /\n      this.constants.inputWidth\n  );\n  const inputX =\n    this.thread.x -\n    this.constants.inputWidth * (inputY + this.constants.inputHeight * inputZ);\n  return (\n    filterDeltas[this.thread.y][this.thread.x] +\n    inputWeights[inputZ][inputY][inputX] * deltas[0][this.thread.y]\n  );\n}\n\nclass FullyConnected extends Filter {\n  static get defaults() {\n    return {\n      bias: 0.1,\n    };\n  }\n\n  constructor(settings, inputLayer) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    this.validate();\n    this.compareFilterDeltasKernel = null;\n    this.compareInputDeltasKernel = null;\n    this.compareBiasesKernel = null;\n\n    const connectionCount =\n      inputLayer.width * inputLayer.height * inputLayer.depth;\n\n    this.biases = values(this.height, this.bias);\n    this.biasDeltas = zeros(this.height);\n\n    this.filters = randos2D(connectionCount, this.height);\n    this.filterDeltas = zeros2D(connectionCount, this.height);\n\n    if (this.depth > 0) {\n      this.weights = randos3D(this.width, this.height);\n      this.deltas = zeros3D(this.width, this.height);\n    } else if (this.height > 0) {\n      this.weights = randos2D(this.width, this.height);\n      this.deltas = zeros2D(this.width, this.height);\n    }\n  }\n\n  validate() {\n    super.validate();\n    if (this.depth > 0) throw new Error('depth not supported');\n  }\n\n  setupKernels() {\n    const { inputLayer } = this;\n    const connectionCount =\n      inputLayer.width * inputLayer.height * inputLayer.depth;\n    if (inputLayer.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [this.width, this.height],\n        constants: {\n          inputHeight: inputLayer.height,\n          inputWidth: inputLayer.width,\n          inputDepth: inputLayer.depth,\n        },\n      });\n\n      this.compareFilterDeltasKernel = makeKernel(compareFilterDeltas3D, {\n        output: [connectionCount, this.height],\n        constants: {\n          inputWidth: inputLayer.width,\n          inputHeight: inputLayer.height,\n        },\n        immutable: true,\n      });\n\n      this.compareInputDeltasKernel = makeKernel(compareInputDeltas3D, {\n        output: [inputLayer.width, inputLayer.height, inputLayer.depth],\n        constants: {\n          filterCount: this.height,\n        },\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict, {\n        output: [this.width, this.height],\n        constants: {\n          inputHeight: inputLayer.height,\n          inputWidth: inputLayer.width,\n        },\n      });\n\n      this.compareFilterDeltasKernel = makeKernel(compareFilterDeltas, {\n        output: [connectionCount, this.height],\n        constants: {\n          inputWidth: inputLayer.width,\n        },\n      });\n\n      this.compareInputDeltasKernel = makeKernel(compareInputDeltas, {\n        output: [inputLayer.width, inputLayer.height],\n        constants: {\n          filterCount: this.height,\n        },\n      });\n    }\n\n    this.compareBiasesKernel = makeKernel(compareBiases, {\n      output: [this.width, this.height],\n    });\n  }\n\n  predict() {\n    this.weights = this.predictKernel(\n      this.inputLayer.weights,\n      this.filters,\n      this.biases\n    );\n  }\n\n  compare() {\n    const inputLayerDeltas = this.inputLayer.deltas;\n    this.inputLayer.deltas = this.compareInputDeltasKernel(\n      inputLayerDeltas,\n      this.deltas,\n      this.filters\n    );\n    release(inputLayerDeltas);\n\n    const { biasDeltas, filterDeltas } = this;\n    // TODO: handle biasDeltas learn\n    this.biasDeltas = this.compareBiasesKernel(this.biases, this.deltas);\n\n    // TODO: handle filterDeltas learn\n    this.filterDeltas = this.compareFilterDeltasKernel(\n      filterDeltas,\n      this.inputLayer.weights,\n      this.deltas\n    );\n    release(biasDeltas);\n    release(filterDeltas);\n  }\n}\n\nfunction fullyConnected(settings, inputLayer) {\n  return new FullyConnected(settings, inputLayer);\n}\n\nmodule.exports = {\n  FullyConnected,\n  fullyConnected,\n  predict,\n  predict3D,\n  compareInputDeltas,\n  compareInputDeltas3D,\n  compareBiases,\n  compareFilterDeltas,\n  compareFilterDeltas3D,\n};\n","const { makeKernel } = require('../utilities/kernel');\nconst { Modifier } = require('./types');\n\nfunction predict(weights) {\n  return -weights[this.thread.y][this.thread.x];\n}\n\nclass Negative extends Modifier {\n  constructor(settings, inputLayer) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    this.validate();\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n    });\n  }\n\n  predict() {\n    this.weights = this.predictKernel(this.inputLayer.weights);\n  }\n}\n\nfunction negative(settings, inputLayer) {\n  return new Negative(settings, inputLayer);\n}\n\nmodule.exports = { Negative, negative, predict };\n","const { makeKernel, release, clear } = require('../utilities/kernel');\nconst { Operator } = require('./types');\nconst zeros2D = require('../utilities/zeros-2d');\nconst { checkSameSize } = require('../utilities/layer-size');\n\nfunction predict(inputLayerWeights1, inputLayerWeights2) {\n  return (\n    inputLayerWeights1[this.thread.y][this.thread.x] *\n    inputLayerWeights2[this.thread.y][this.thread.x]\n  );\n}\n\nfunction compare(weights, deltas) {\n  return (\n    weights[this.thread.y][this.thread.x] * deltas[this.thread.y][this.thread.x]\n  );\n}\n\nclass MultiplyElement extends Operator {\n  constructor(inputLayer1, inputLayer2) {\n    super();\n    this.inputLayer1 = inputLayer1;\n    this.inputLayer2 = inputLayer2;\n\n    this.width = inputLayer1.width;\n    this.height = inputLayer1.height;\n    this.validate();\n    this.weights = zeros2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n  }\n\n  validate() {\n    super.validate();\n    checkSameSize(this.inputLayer1, this.inputLayer2);\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n\n    this.compareKernel = makeKernel(compare, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(\n      this.inputLayer1.weights,\n      this.inputLayer2.weights\n    );\n    clear(this.deltas);\n  }\n\n  compare() {\n    release(this.inputLayer1.deltas);\n    release(this.inputLayer2.deltas);\n    this.inputLayer1.deltas = this.compareKernel(\n      this.inputLayer2.weights,\n      this.deltas\n    );\n    this.inputLayer2.deltas = this.compareKernel(\n      this.inputLayer1.weights,\n      this.deltas\n    );\n  }\n}\n\nfunction multiplyElement(inputLayer1, inputLayer2) {\n  return new MultiplyElement(inputLayer1, inputLayer2);\n}\n\nmodule.exports = { MultiplyElement, multiplyElement, predict, compare };\n","module.exports = function ones(size) {\n  return new Float32Array(size).fill(1);\n};\n","const ones = require('./ones');\n\nmodule.exports = function ones2D(width, height) {\n  const result = new Array(height);\n  for (let y = 0; y < height; y++) {\n    result[y] = ones(width);\n  }\n  return result;\n};\n","const ones2D = require('../utilities/ones-2d');\nconst zeros2D = require('../utilities/zeros-2d');\nconst { Model } = require('./types');\n\nclass Ones extends Model {\n  constructor(settings) {\n    super(settings);\n    this.validate();\n    this.weights = ones2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n  }\n}\n\nfunction ones(settings) {\n  return new Ones(settings);\n}\n\nmodule.exports = {\n  Ones,\n  ones,\n};\n","const { Activation } = require('./activation');\nconst { makeKernel } = require('../utilities/kernel');\nconst { activate, measure } = require('../activation/tanh');\nconst { release, clear } = require('../utilities/kernel');\n\nfunction predict2D(inputs) {\n  return activate(inputs[this.thread.y][this.thread.x]);\n}\n\nfunction predict3D(inputs) {\n  return activate(inputs[this.thread.z][this.thread.y][this.thread.x]);\n}\n\nfunction compare2D(weights, errors) {\n  return measure(\n    weights[this.thread.y][this.thread.x],\n    errors[this.thread.y][this.thread.x]\n  );\n}\n\nfunction compare3D(weights, errors) {\n  return measure(\n    weights[this.thread.z][this.thread.y][this.thread.x],\n    errors[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nclass Tanh extends Activation {\n  setupKernels() {\n    if (this.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [this.width, this.height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [this.width, this.height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    release(this.inputLayer.deltas);\n    this.inputLayer.deltas = this.compareKernel(this.weights, this.deltas);\n  }\n}\n\nfunction tanh(inputLayer, settings) {\n  return new Tanh(inputLayer, settings);\n}\n\nmodule.exports = { Tanh, tanh, predict2D, predict3D, compare2D, compare3D };\n","const zeros2D = require('../utilities/zeros-2d');\nconst { Model } = require('./types');\n\nclass Zeros extends Model {\n  constructor(settings) {\n    super(settings);\n    this.validate();\n    this.weights = zeros2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n}\n\nfunction zeros(settings) {\n  return new Zeros(settings);\n}\n\nmodule.exports = {\n  Zeros,\n  zeros,\n};\n","const { add } = require('./add');\nconst { negative } = require('./negative');\nconst { multiply } = require('./multiply');\nconst { multiplyElement } = require('./multiply-element');\nconst { ones } = require('./ones');\nconst { sigmoid } = require('./sigmoid');\nconst { random } = require('./random');\nconst { tanh } = require('./tanh');\nconst { zeros } = require('./zeros');\n\nfunction gru(settings, recurrentInput, input) {\n  const { height } = settings;\n  const updateGateWeights = random({ height, width: input.height });\n  const updateGatePeepholes = random({ width: height, height });\n  const updateGateBias = zeros({ height });\n  const updateGate = sigmoid(\n    add(\n      add(\n        multiply(updateGateWeights, input),\n        multiply(updateGatePeepholes, recurrentInput)\n      ),\n      updateGateBias\n    )\n  );\n\n  const resetGateWeights = random({ height, width: input.height });\n  const resetGatePeepholes = random({ width: height, height });\n  const resetGateBias = zeros({ height });\n  const resetGate = sigmoid(\n    add(\n      add(\n        multiply(resetGateWeights, input),\n        multiply(resetGatePeepholes, recurrentInput)\n      ),\n      resetGateBias\n    )\n  );\n\n  const cellWeights = random({ height, width: input.height });\n  const cellPeepholes = random({ width: height, height });\n  const cellBias = zeros({ height });\n  const cell = tanh(\n    add(\n      add(\n        multiply(cellWeights, input),\n        multiply(cellPeepholes, multiplyElement(resetGate, recurrentInput))\n      ),\n      cellBias\n    )\n  );\n\n  // compute hidden state as gated, saturated cell activations\n  // negate updateGate\n  return add(\n    multiplyElement(\n      add(ones(updateGate.rows, updateGate.columns), negative(updateGate)),\n      cell\n    ),\n    multiplyElement(recurrentInput, updateGate)\n  );\n}\n\nmodule.exports = {\n  gru,\n};\n","const { EntryPoint } = require('./types');\nconst zeros2D = require('../utilities/zeros-2d');\nconst {\n  makeKernel,\n  release,\n  kernelInput,\n  clear,\n  clone,\n} = require('../utilities/kernel');\n\nclass Input extends EntryPoint {\n  constructor(settings) {\n    super(settings);\n    this.validate();\n    this.weights = null;\n    this.reshapeInput = null;\n    this.deltas = zeros2D(this.width, this.height);\n  }\n\n  setupKernels() {\n    if (this.width === 1) {\n      this.predict = this.predict1D;\n      this.reshapeInput = makeKernel(\n        function (value) {\n          return value[this.thread.y];\n        },\n        {\n          output: [1, this.height],\n          immutable: true,\n        }\n      );\n    } else {\n      this.reshapeInput = (inputs) => inputs;\n    }\n  }\n\n  reuseKernels(layer) {\n    super.reuseKernels(layer);\n    this.reshapeInput = layer.reshapeInput;\n  }\n\n  predict(inputs) {\n    if (\n      typeof inputs[0] !== 'object' &&\n      inputs.length === this.height * this.width\n    ) {\n      release(this.weights);\n      this.weights = kernelInput(inputs, [this.width, this.height]);\n    } else if (\n      inputs.length === this.height &&\n      inputs[0].length === this.width\n    ) {\n      this.weights = clone(inputs);\n    } else {\n      throw new Error('Inputs are not of sized correctly');\n    }\n    clear(this.deltas);\n  }\n\n  predict1D(inputs) {\n    if (this.weights) release(this.weights);\n    this.weights = this.reshapeInput(inputs);\n    clear(this.deltas);\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  toJSON() {\n    const jsonLayer = {};\n    const { defaults, name } = this.constructor;\n    const keys = Object.keys(defaults);\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n\n      if (key === 'deltas' || key === 'weights') continue;\n      jsonLayer[key] = this[key];\n    }\n    jsonLayer.type = name;\n    return jsonLayer;\n  }\n}\n\nfunction input(settings) {\n  return new Input(settings);\n}\n\nmodule.exports = {\n  Input,\n  input,\n};\n","const { Activation } = require('./types');\nconst { makeKernel, release, clear } = require('../utilities/kernel');\nconst { activate, measure } = require('../activation/leaky-relu');\n\nfunction predict2D(inputs) {\n  return activate(inputs[this.thread.y][this.thread.x]);\n}\n\nfunction predict3D(inputs) {\n  return activate(inputs[this.thread.z][this.thread.y][this.thread.x]);\n}\n\nfunction compare2D(weights, deltas) {\n  return measure(\n    weights[this.thread.y][this.thread.x],\n    deltas[this.thread.y][this.thread.x]\n  );\n}\n\nfunction compare3D(weights, deltas) {\n  return measure(\n    weights[this.thread.z][this.thread.y][this.thread.x],\n    deltas[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nclass LeakyRelu extends Activation {\n  setupKernels() {\n    const { width, height, depth } = this.inputLayer;\n    if (this.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [width, height, depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [width, height, depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [width, height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [width, height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    const { deltas } = this;\n    this.deltas = this.compareKernel(this.weights, deltas);\n    release(deltas);\n  }\n}\n\nfunction leakyRelu(inputLayer, settings) {\n  return new LeakyRelu(inputLayer, settings);\n}\n\nmodule.exports = {\n  LeakyRelu,\n  leakyRelu,\n  predict2D,\n  predict3D,\n  compare2D,\n  compare3D,\n};\n","const { add } = require('./add');\nconst { multiply } = require('./multiply');\nconst { multiplyElement } = require('./multiply-element');\nconst { random } = require('./random');\nconst { sigmoid } = require('./sigmoid');\nconst { tanh } = require('./tanh');\nconst { zeros } = require('./zeros');\n\nfunction lstmCell(settings, input, recurrentInput) {\n  const { height } = settings;\n\n  if (recurrentInput.setDimensions) recurrentInput.setDimensions(1, height);\n\n  const inputGateWeights = random({ height, width: input.height, std: 0.08 });\n  const inputGatePeepholes = random({ width: height, height, std: 0.08 });\n  const inputGateBias = zeros({ height });\n  const inputGate = sigmoid(\n    add(\n      add(\n        multiply(inputGateWeights, input),\n        multiply(inputGatePeepholes, recurrentInput)\n      ),\n      inputGateBias\n    )\n  );\n\n  const forgetGateWeights = random({ height, width: input.height, std: 0.08 });\n  const forgetGatePeepholes = random({ width: height, height, std: 0.08 });\n  const forgetGateBias = zeros({ height });\n  const forgetGate = sigmoid(\n    add(\n      add(\n        multiply(forgetGateWeights, input),\n        multiply(forgetGatePeepholes, recurrentInput)\n      ),\n      forgetGateBias\n    )\n  );\n\n  const outputGateWeights = random({ height, width: input.height, std: 0.08 });\n  const outputGatePeepholes = random({ width: height, height, std: 0.08 });\n  const outputGateBias = zeros({ height });\n  const outputGate = sigmoid(\n    add(\n      add(\n        multiply(outputGateWeights, input),\n        multiply(outputGatePeepholes, recurrentInput)\n      ),\n      outputGateBias\n    )\n  );\n\n  const memoryWeights = random({ height, width: input.height, std: 0.08 });\n  const memoryPeepholes = random({ width: height, height, std: 0.08 });\n  const memoryBias = zeros({ height });\n  const memory = tanh(\n    add(\n      add(\n        multiply(memoryWeights, input),\n        multiply(memoryPeepholes, recurrentInput)\n      ),\n      memoryBias\n    )\n  );\n\n  // compute new cell activation\n  const retainCell = multiplyElement(forgetGate, recurrentInput); // what do we keep from cell\n  const writeCell = multiplyElement(inputGate, memory); // what do we write to cell\n  const cell = add(retainCell, writeCell); // new cell contents\n\n  // compute hidden state as gated, saturated cell activations\n  return multiplyElement(outputGate, tanh(cell));\n}\n\nmodule.exports = {\n  lstmCell,\n};\n","const { makeKernel, release, clone, clear } = require('../utilities/kernel');\nconst zeros = require('../utilities/zeros');\nconst zeros2D = require('../utilities/zeros-2d');\n// const zeros3D = require('../utilities/zeros-3d');\nconst { Filter } = require('./types');\n\nfunction compare1D(weights, targetValues) {\n  // return targetValues[this.thread.x] - weights[this.thread.y][this.thread.x];\n  return weights[this.thread.y][this.thread.x] - targetValues[this.thread.x];\n}\n\nfunction compare2D(weights, targetValues) {\n  // return targetValues[this.thread.y][this.thread.x] - weights[this.thread.y][this.thread.x];\n  return (\n    weights[this.thread.y][this.thread.x] -\n    targetValues[this.thread.y][this.thread.x]\n  );\n}\n\nclass Target extends Filter {\n  constructor(settings, inputLayer) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    this.width = inputLayer.width;\n    this.height = inputLayer.height;\n    this.depth = inputLayer.depth;\n    this.validate();\n    if (this.depth) {\n      throw new Error('Target layer not implemented for depth');\n    } else if (this.height) {\n      this.weights = zeros2D(this.width, this.height);\n      this.deltas = zeros2D(this.width, this.height);\n      this.errors = zeros2D(this.width, this.height);\n    } else {\n      this.weights = zeros(this.width);\n      this.deltas = zeros(this.width);\n      this.errors = zeros(this.width);\n    }\n  }\n\n  setupKernels() {\n    const compareFn = this.width === 1 ? compare1D : compare2D;\n    this.compareKernel = makeKernel(compareFn, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n  }\n\n  predict() {\n    // TODO: should we clone here?\n    // NOTE: this looks like it shouldn't be, but the weights are immutable, and this is where they are reused.\n    release(this.weights);\n    this.weights = clone(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare(targetValues) {\n    // this is where weights attach to deltas\n    // deltas will be zero on learn, so save it in error for comparing to mse later\n    release(this.deltas);\n    release(this.errors);\n    release(this.inputLayer.deltas);\n    this.deltas = this.compareKernel(this.weights, targetValues);\n    this.inputLayer.deltas = clone(this.deltas);\n    this.errors = clone(this.deltas);\n  }\n\n  setupPraxis() {}\n}\n\nfunction target(settings, inputLayer) {\n  return new Target(settings, inputLayer);\n}\n\nmodule.exports = {\n  Target,\n  target,\n};\n","const { add } = require('./add');\nconst { multiply } = require('./multiply');\nconst { random } = require('./random');\nconst { target } = require('./target');\n\nfunction output(settings, inputLayer) {\n  const { height } = settings;\n  const outputGate = random({\n    height,\n    width: inputLayer.height,\n    name: 'outputGate',\n    std: 0.08,\n  });\n  const output = random({ height, name: 'output', std: 0.08 });\n  const outputGateConnector = multiply(outputGate, inputLayer, {\n    name: 'outputGateConnected',\n  });\n  return target(\n    { name: 'target', ...settings },\n    add(outputGateConnector, output)\n  );\n}\n\nmodule.exports = {\n  output,\n};\n","const { Filter } = require('./types');\nconst { makeKernel, release } = require('../utilities/kernel');\nconst { setPadding, setStride } = require('../utilities/layer-setup');\nconst zeros3D = require('../utilities/zeros-3d');\nconst randos3D = require('../utilities/randos-3d');\n\nfunction setSwitchY(value) {\n  return value;\n}\n\nfunction setSwitchX(value) {\n  return value;\n}\n\nfunction predict(inputs) {\n  const x = Math.floor(\n    (this.thread.x / this.output.x) * this.constants.inputWidth -\n      this.constants.paddingX\n  );\n  const y = Math.floor(\n    (this.thread.y / this.output.y) * this.constants.inputHeight -\n      this.constants.paddingY\n  );\n  let largestValue = -Infinity;\n  let largestX = -1;\n  let largestY = -1;\n\n  // convolve centered at this particular location\n  for (let filterY = 0; filterY < this.constants.filterHeight; filterY++) {\n    // coordinates in the original input array coordinates\n    const inputY = filterY + y;\n    for (let filterX = 0; filterX < this.constants.filterWidth; filterX++) {\n      const inputX = filterX + x;\n      if (\n        inputY >= 0 &&\n        inputY < this.constants.inputHeight &&\n        inputX >= 0 &&\n        inputX < this.constants.inputWidth\n      ) {\n        const input = inputs[this.thread.z][inputY][inputX];\n        if (input > largestValue) {\n          largestValue = input;\n          largestY = inputY;\n          largestX = inputX;\n        }\n      }\n    }\n  }\n  setSwitchY(largestY);\n  setSwitchX(largestX);\n  return largestValue;\n}\n\nfunction compare(deltas, switchY, switchX) {\n  const x = Math.floor(\n    (this.thread.x / this.output.x) * this.constants.outputWidth\n  );\n  const y = Math.floor(\n    (this.thread.y / this.output.y) * this.constants.outputHeight\n  );\n\n  let value = 0;\n\n  for (let deltasY = 0; deltasY < this.constants.inputHeight; deltasY++) {\n    for (let deltasX = 0; deltasX < this.constants.inputWidth; deltasX++) {\n      const switchXValue = switchX[deltasY][deltasX];\n      const switchYValue = switchY[deltasY][deltasX];\n      if (switchXValue === x && switchYValue === y) {\n        value += deltas[deltasY][deltasX];\n      }\n    }\n  }\n\n  return value;\n}\n\nfunction compare3D(deltas, switchY, switchX) {\n  const x = Math.floor(\n    (this.thread.x / this.output.x) * this.constants.outputWidth\n  );\n  const y = Math.floor(\n    (this.thread.y / this.output.y) * this.constants.outputHeight\n  );\n\n  let value = 0;\n\n  for (let deltasY = 0; deltasY < this.constants.inputHeight; deltasY++) {\n    for (let deltasX = 0; deltasX < this.constants.inputWidth; deltasX++) {\n      const switchXValue = switchX[this.thread.z][deltasY][deltasX];\n      const switchYValue = switchY[this.thread.z][deltasY][deltasX];\n      if (switchXValue === x && switchYValue === y) {\n        value += deltas[this.thread.z][deltasY][deltasX];\n      }\n    }\n  }\n\n  return value;\n}\n\nclass Pool extends Filter {\n  static get defaults() {\n    return {\n      padding: 0,\n      bias: 0,\n      filterWidth: 0,\n      filterHeight: 0,\n      filterCount: 0,\n    };\n  }\n\n  constructor(settings, inputLayer) {\n    super(settings);\n\n    this.stride = null;\n    this.strideX = null;\n    this.strideY = null;\n    setStride(this, settings);\n\n    this.padding = null;\n    this.paddingX = null;\n    this.paddingY = null;\n    setPadding(this, settings);\n\n    this.filterCount = settings.filterCount;\n    this.filterWidth = settings.filterWidth;\n    this.filterHeight = settings.filterHeight;\n\n    this.width = Math.floor(\n      (inputLayer.width + this.paddingX * 2 - this.filterWidth) / this.strideX +\n        1\n    );\n    this.height = Math.floor(\n      (inputLayer.height + this.paddingY * 2 - this.filterHeight) /\n        this.strideY +\n        1\n    );\n    // TODO: handle 1 depth?\n    this.depth = this.filterCount;\n\n    this.weights = randos3D(this.width, this.height, this.depth);\n    this.deltas = zeros3D(this.width, this.height, this.depth);\n\n    this.filters = randos3D(\n      this.filterWidth,\n      this.filterHeight,\n      this.filterCount\n    );\n    this.filterDeltas = zeros3D(\n      this.filterWidth,\n      this.filterHeight,\n      this.filterCount\n    );\n\n    this.learnFilters = null;\n    this.learnInputs = null;\n    this.inputLayer = inputLayer;\n    this.validate();\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height, this.depth],\n      map: {\n        switchX: setSwitchX,\n        switchY: setSwitchY,\n      },\n      constants: {\n        inputWidth: this.inputLayer.width,\n        inputHeight: this.inputLayer.height,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n        filterHeight: this.filterHeight,\n        filterWidth: this.filterWidth,\n      },\n    });\n\n    this.compareKernel = makeKernel(compare, {\n      output: [\n        this.inputLayer.width,\n        this.inputLayer.height,\n        this.inputLayer.depth,\n      ],\n      constants: {\n        outputWidth: this.width,\n        outputHeight: this.height,\n        outputDepth: this.depth,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n      },\n    });\n  }\n\n  predict() {\n    const { result: weights, switchX, switchY } = this.predictKernel(\n      this.inputLayer.weights\n    );\n    this.switchX = switchX;\n    this.switchY = switchY;\n    this.weights = weights;\n    return this.weights;\n  }\n\n  compare() {\n    // debugger;\n    // const depth = this.inputLayer.deltas.length;\n    // const height = this.inputLayer.deltas[0].length;\n    // const width = this.inputLayer.deltas[0][0].length;\n    // const type = typeof this.inputLayer.deltas[0][0][0];\n    const inputLayerDeltas = this.inputLayer.deltas;\n    this.inputLayer.deltas = this.compareKernel(\n      this.deltas,\n      this.switchX,\n      this.switchY\n    );\n    release(inputLayerDeltas);\n    // debugger;\n    // if (depth !== this.inputLayer.deltas.length) debugger;\n    // if (height !== this.inputLayer.deltas[0].length) debugger;\n    // if (width !== this.inputLayer.deltas[0][0].length) debugger;\n    // if (type !== typeof this.inputLayer.deltas[0][0][0]) debugger;\n  }\n}\n\nfunction pool(settings, inputLayer) {\n  return new Pool(settings, inputLayer);\n}\n\nmodule.exports = { Pool, pool, predict, compare, compare3D };\n","const { Activation } = require('./types');\nconst { makeKernel, release, clear } = require('../utilities/kernel');\nconst { activate, measure } = require('../activation/relu');\n// const zeros2D = require('../utilities/zeros-2d');\n\nfunction predict2D(inputs) {\n  return activate(inputs[this.thread.y][this.thread.x]);\n}\n\nfunction compare2D(weights, deltas) {\n  return measure(\n    weights[this.thread.y][this.thread.x],\n    deltas[this.thread.y][this.thread.x]\n  );\n}\n\nfunction predict3D(inputs) {\n  return activate(inputs[this.thread.z][this.thread.y][this.thread.x]);\n}\n\nfunction compare3D(weights, deltas) {\n  return measure(\n    weights[this.thread.z][this.thread.y][this.thread.x],\n    deltas[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nclass Relu extends Activation {\n  setupKernels() {\n    const { width, height, depth } = this.inputLayer;\n    if (depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [width, height, depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [width, height, depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [width, height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [width, height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    release(this.inputLayer.deltas);\n    this.inputLayer.deltas = this.compareKernel(this.weights, this.deltas);\n  }\n}\n\nfunction relu(inputLayer, settings) {\n  return new Relu(inputLayer, settings);\n}\n\nmodule.exports = { Relu, relu, predict2D, compare2D, predict3D, compare3D };\n","const { relu } = require('./relu');\nconst { add } = require('./add');\nconst { multiply } = require('./multiply');\nconst { random } = require('./random');\nconst { zeros } = require('./zeros');\n\nfunction rnnCell(settings, input, recurrentInput) {\n  const { height } = settings;\n\n  if (recurrentInput.setDimensions) recurrentInput.setDimensions(1, height);\n\n  // wxh\n  const weight = random({\n    name: 'weight',\n    height,\n    width: input.height,\n    std: 0.08,\n  });\n  // whh\n  const transition = random({\n    name: 'transition',\n    height,\n    width: height,\n    std: 0.08,\n  });\n  // bhh\n  const bias = zeros({ name: 'bias', height });\n\n  return relu(\n    add(\n      add(multiply(weight, input), multiply(transition, recurrentInput)),\n      bias\n    )\n  );\n}\n\nmodule.exports = {\n  rnnCell,\n};\n","const { Base } = require('./base');\n\nclass Regression extends Base {\n  constructor(settings) {\n    super(settings);\n    this.validate();\n  }\n\n  predict() {\n    this.weights = this.inputs;\n  }\n\n  learn() {\n    // throw new Error(`${this.constructor.name}-learn is not yet implemented`)\n  }\n}\n\nfunction learn(inputs, targets) {\n  return inputs[this.thread.x] - targets[this.thread.x];\n}\n\n// TODO: handle `loss += 0.5*dy*dy;` total and sum in learn\nfunction regression(settings, inputLayer) {\n  return new Regression(settings, inputLayer);\n}\n\nmodule.exports = {\n  Regression,\n  regression,\n  learn,\n};\n","const { makeKernel, release, clone } = require('../utilities/kernel');\nconst { Filter } = require('./types');\nconst randos = require('../utilities/randos');\nconst randos2D = require('../utilities/randos-2d');\nconst randos3D = require('../utilities/randos-3d');\nconst zeros = require('../utilities/zeros');\nconst zeros2D = require('../utilities/zeros-2d');\nconst zeros3D = require('../utilities/zeros-3d');\n\nfunction getMaxValue(inputs) {\n  let maxInput = -Infinity;\n  for (let x = 0; x < this.constants.inputWidth; x++) {\n    const input = inputs[x];\n    if (input > maxInput) {\n      maxInput = input;\n    }\n  }\n  return maxInput;\n}\n\nfunction getMaxValue2D(inputs) {\n  let maxInput = -Infinity;\n  for (let y = 0; y < this.constants.inputHeight; y++) {\n    for (let x = 0; x < this.constants.inputWidth; x++) {\n      const input = inputs[y][x];\n      if (input > maxInput) {\n        maxInput = input;\n      }\n    }\n  }\n  return maxInput;\n}\n\nfunction getMaxValue3D(inputs) {\n  let maxInput = -Infinity;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (let y = 0; y < this.constants.inputHeight; y++) {\n      for (let x = 0; x < this.constants.inputWidth; x++) {\n        const input = inputs[z][y][x];\n        if (input > maxInput) {\n          maxInput = input;\n        }\n      }\n    }\n  }\n  return maxInput;\n}\n\nfunction getSum(inputs) {\n  let sum = 0;\n  for (let x = 0; x < this.constants.inputWidth; x++) {\n    sum += inputs[x];\n  }\n  return sum;\n}\n\nfunction getSum2D(inputs) {\n  let sum = 0;\n  for (let y = 0; y < this.constants.inputHeight; y++) {\n    for (let x = 0; x < this.constants.inputWidth; x++) {\n      sum += inputs[y][x];\n    }\n  }\n  return sum;\n}\n\nfunction getSum3D(inputs) {\n  let sum = 0;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (let y = 0; y < this.constants.inputHeight; y++) {\n      for (let x = 0; x < this.constants.inputWidth; x++) {\n        sum += inputs[z][y][x];\n      }\n    }\n  }\n  return sum;\n}\n\nfunction getExponentials(inputs, maxInput) {\n  return Math.exp(inputs[this.thread.x] - maxInput[0]);\n}\n\nfunction getExponentials2D(inputs, maxInput) {\n  return Math.exp(inputs[this.thread.y][this.thread.x] - maxInput[0]);\n}\n\nfunction getExponentials3D(inputs, maxInput) {\n  return Math.exp(\n    inputs[this.thread.z][this.thread.y][this.thread.x] - maxInput[0]\n  );\n}\n\nfunction predict(exponentials, exponentialsSum) {\n  return exponentials[this.thread.x] / exponentialsSum[0];\n}\n\nfunction predict2D(exponentials, exponentialsSum) {\n  return exponentials[this.thread.y][this.thread.x] / exponentialsSum[0];\n}\n\nfunction predict3D(exponentials, exponentialsSum) {\n  return (\n    exponentials[this.thread.z][this.thread.y][this.thread.x] /\n    exponentialsSum[0]\n  );\n}\n\nfunction compare(target, exponentials) {\n  let indicator = 0;\n  if (this.thread.x === target) {\n    indicator = 1;\n  }\n  return -(indicator - exponentials[this.thread.x]);\n}\n\nfunction compare2D(target, exponentials) {\n  let indicator = 0;\n  const index = this.thread.x + this.thread.y * this.output.x;\n  if (index === target) {\n    indicator = 1;\n  }\n  return -(indicator - exponentials[this.thread.y][this.thread.x]);\n}\n\nfunction compare3D(target, exponentials) {\n  let indicator = 0;\n  const index =\n    this.thread.x +\n    this.thread.y * this.output.x +\n    this.thread.z * this.output.x * this.output.y;\n  if (index === target) {\n    indicator = 1;\n  }\n  return -(\n    indicator - exponentials[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nfunction loss() {\n  return -Math.log();\n}\n\n// TODO: handle: `return -Math.log(this.es[y]);` in learn\n\nclass SoftMax extends Filter {\n  constructor(inputLayer) {\n    super();\n    this.width = inputLayer.width;\n    this.height = inputLayer.height;\n    this.depth = inputLayer.depth;\n    this.getExponentialsKernel = null;\n    this.getMaxValueKernel = null;\n    this.getSumKernel = null;\n    this.inputLayer = inputLayer;\n    this.validate();\n\n    if (this.depth > 0) {\n      this.weights = randos3D(this.width, this.height, this.depth);\n      this.deltas = zeros3D(this.width, this.height, this.depth);\n    } else if (this.height > 0) {\n      this.weights = randos2D(this.width, this.height);\n      this.deltas = zeros2D(this.width, this.height);\n    } else {\n      this.weights = randos(this.width);\n      this.deltas = zeros(this.width);\n    }\n  }\n\n  setupKernels() {\n    const { width, height, depth } = this;\n    if (depth > 0) {\n      this.getExponentialsKernel = makeKernel(getExponentials3D, {\n        output: [width, height, depth],\n      });\n      this.getMaxValueKernel = makeKernel(getMaxValue3D, {\n        output: [1, 1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n          inputDepth: depth,\n        },\n      });\n      this.getSumKernel = makeKernel(getSum3D, {\n        output: [1, 1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n          inputDepth: depth,\n        },\n      });\n      this.predictKernel = makeKernel(predict3D, {\n        output: [width, height, depth],\n      });\n      this.compareKernel = makeKernel(compare3D, {\n        output: [width, height, depth],\n        immutable: true,\n      });\n    } else {\n      this.getExponentialsKernel = makeKernel(getExponentials, {\n        output: [width, height],\n      });\n      this.getMaxValueKernel = makeKernel(getMaxValue2D, {\n        output: [1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n        },\n      });\n      this.getSumKernel = makeKernel(getSum2D, {\n        output: [1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n        },\n      });\n      this.predictKernel = makeKernel(predict2D, {\n        output: [width, height],\n      });\n      this.compareKernel = makeKernel(compare2D, {\n        output: [width, height],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    const maxValue = this.getMaxValueKernel(this.inputLayer.weights);\n    const exponentials = this.getExponentialsKernel(\n      this.inputLayer.weights,\n      maxValue\n    );\n    const exponentialsSum = this.getSumKernel(exponentials);\n    this.weights = this.predictKernel(exponentials, exponentialsSum);\n  }\n\n  compare(targetValues) {\n    const { deltas, errors } = this;\n    this.errors = this.compareKernel(targetValues[0], deltas);\n    this.deltas = clone(this.errors);\n    release(deltas);\n    release(errors);\n\n    const inputLayerDeltas = this.inputLayer.deltas;\n    this.inputLayer.deltas = clone(this.deltas);\n    release(inputLayerDeltas);\n  }\n}\n\nfunction softMax(settings, inputLayer) {\n  return new SoftMax(settings, inputLayer);\n}\n\nmodule.exports = {\n  SoftMax,\n  softMax,\n  getMaxValue,\n  getMaxValue2D,\n  getMaxValue3D,\n  getSum,\n  getSum2D,\n  getSum3D,\n  getExponentials,\n  getExponentials2D,\n  getExponentials3D,\n  predict,\n  predict2D,\n  predict3D,\n  compare,\n  compare2D,\n  compare3D,\n  loss,\n};\n","const { Base } = require('./base');\n\nclass SVM extends Base {\n  predict() {\n    this.weights = this.inputs;\n    this.validate();\n  }\n\n  learn() {\n    // throw new Error(`${this.constructor.name}-learn is not yet implemented`)\n  }\n}\n\n// function learn(target) {\n//   if (y === i) {\n//     continue;\n//   }\n//   const ydiff = -yscore + x.w[i] + margin;\n//   if (ydiff > 0) {\n//     // violating dimension, apply loss\n//     x.dw[i] += 1;\n//     x.dw[y] -= 1;\n//     loss += ydiff;\n//   }\n// }\n\nfunction svm(settings, inputLayer) {\n  return new SVM(settings, inputLayer);\n}\n\nmodule.exports = {\n  SVM,\n  svm,\n};\n","const { Modifier } = require('./types');\nconst { makeKernel, clear } = require('../utilities/kernel');\n\nfunction predict(array) {\n  return array[this.thread.x][this.thread.y];\n}\n\nconst compare = predict;\n\nclass Transpose extends Modifier {\n  constructor(inputLayer) {\n    super();\n    this.inputLayer = inputLayer;\n    this.width = this.inputLayer.height;\n    this.height = this.inputLayer.width;\n    this.validate();\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.height, this.width],\n    });\n    this.compareKernel = makeKernel(compare, {\n      output: [this.width, this.height],\n    });\n  }\n\n  predict() {\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    // TODO: needs switched to this.compareKernel?\n    this.inputLayer.deltas = this.predictKernel(this.deltas);\n  }\n}\n\nfunction transpose(inputLayer) {\n  return new Transpose(inputLayer);\n}\n\nmodule.exports = {\n  Transpose,\n  transpose,\n};\n","const { Add, add } = require('./add');\nconst { arthurFeedForward } = require('./arthur-feed-forward');\nconst { Base } = require('./base');\nconst { Convolution, convolution } = require('./convolution');\nconst { Dropout, dropout } = require('./dropout');\nconst { feedForward } = require('./feed-forward');\nconst { FullyConnected, fullyConnected } = require('./fully-connected');\nconst { gru } = require('./gru');\nconst { Input, input } = require('./input');\nconst { LeakyRelu, leakyRelu } = require('./leaky-relu');\nconst { lstmCell } = require('./lstm-cell');\nconst { Multiply, multiply } = require('./multiply');\nconst { MultiplyElement, multiplyElement } = require('./multiply-element');\nconst { Negative, negative } = require('./negative');\nconst { Ones, ones } = require('./ones');\nconst { output } = require('./output');\nconst { Pool, pool } = require('./pool');\nconst { Random, random } = require('./random');\nconst { rnnCell } = require('./rnn-cell');\nconst { Regression, regression } = require('./regression');\nconst { Relu, relu } = require('./relu');\nconst { Sigmoid, sigmoid } = require('./sigmoid');\nconst { SoftMax, softMax } = require('./soft-max');\nconst { SVM, svm } = require('./svm');\nconst { Tanh, tanh } = require('./tanh');\nconst { Target, target } = require('./target');\nconst { Transpose, transpose } = require('./transpose');\nconst { Zeros, zeros } = require('./zeros');\nconst types = require('./types');\n\n/**\n * @description Layer API, to make it easier to use layers for the world\n */\nmodule.exports = {\n  Add,\n  add,\n  arthurFeedForward,\n  Base,\n  Convolution,\n  convolution,\n  Dropout,\n  dropout,\n  feedForward,\n  FullyConnected,\n  fullyConnected,\n  gru,\n  Input,\n  input,\n  LeakyRelu,\n  leakyRelu,\n  lstmCell,\n  Multiply,\n  multiply,\n  MultiplyElement,\n  multiplyElement,\n  Negative,\n  negative,\n  Ones,\n  ones,\n  output,\n  Pool,\n  pool,\n  Random,\n  random,\n  Regression,\n  regression,\n  Relu,\n  relu,\n  rnnCell,\n  Sigmoid,\n  sigmoid,\n  SoftMax,\n  softMax,\n  SVM,\n  svm,\n  Tanh,\n  tanh,\n  Target,\n  target,\n  Transpose,\n  transpose,\n  Zeros,\n  zeros,\n\n  types,\n};\n","/**\n *\n * @param {*} input\n * @param {brain.NeuralNetwork} net\n * @returns {*}\n */\nmodule.exports = function likely(input, net) {\n  if (!net) {\n    throw new TypeError(\n      `Required parameter 'net' is of type ${typeof net}. Must be of type 'brain.NeuralNetwork'`\n    );\n  }\n\n  const output = net.run(input);\n  let maxProp = null;\n  let maxValue = -1;\n\n  Object.keys(output).forEach((key) => {\n    const value = output[key];\n    if (value > maxValue) {\n      maxProp = key;\n      maxValue = value;\n    }\n  });\n\n  return maxProp;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar arrayBufferModule = require('../internals/array-buffer');\nvar setSpecies = require('../internals/set-species');\n\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\n\n// `ArrayBuffer` constructor\n// https://tc39.github.io/ecma262/#sec-arraybuffer-constructor\n$({ global: true, forced: NativeArrayBuffer !== ArrayBuffer }, {\n  ArrayBuffer: ArrayBuffer\n});\n\nsetSpecies(ARRAY_BUFFER);\n","'use strict';\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-array-constructors-require-wrappers');\nvar exportTypedArrayStaticMethod = require('../internals/array-buffer-view-core').exportTypedArrayStaticMethod;\nvar typedArrayFrom = require('../internals/typed-array-from');\n\n// `%TypedArray%.from` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.from\nexportTypedArrayStaticMethod('from', typedArrayFrom, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);\n","/* Functions for turning sparse hashes into arrays and vice versa */\nclass Lookup {\n  /**\n   * Performs `[{a: 1}, {b: 6, c: 7}] -> {a: 0, b: 1, c: 2}`\n   * @param {Object} hashes\n   * @returns {Object}\n   */\n  static toTable(hashes) {\n    const hash = hashes.reduce((memo, hash) => {\n      return Object.assign(memo, hash);\n    }, {});\n\n    return Lookup.toHash(hash);\n  }\n\n  /**\n   * Performs `[{a: 1}, {b: 6, c: 7}] -> {a: 0, b: 1, c: 2}`\n   * @param {Object} objects2D\n   * @returns {Object}\n   */\n  static toTable2D(objects2D) {\n    const table = {};\n    let valueIndex = 0;\n    for (let i = 0; i < objects2D.length; i++) {\n      const objects = objects2D[i];\n      for (let j = 0; j < objects.length; j++) {\n        const object = objects[j];\n        for (const p in object) {\n          if (object.hasOwnProperty(p) && !table.hasOwnProperty(p)) {\n            table[p] = valueIndex++;\n          }\n        }\n      }\n    }\n    return table;\n  }\n\n  static toInputTable(data) {\n    const table = {};\n    let tableIndex = 0;\n    for (let dataIndex = 0; dataIndex < data.length; dataIndex++) {\n      for (const p in data[dataIndex].input) {\n        if (!table.hasOwnProperty(p)) {\n          table[p] = tableIndex++;\n        }\n      }\n    }\n    return table;\n  }\n\n  static toInputTable2D(data) {\n    const table = {};\n    let tableIndex = 0;\n    for (let dataIndex = 0; dataIndex < data.length; dataIndex++) {\n      const input = data[dataIndex].input;\n      for (let i = 0; i < input.length; i++) {\n        const object = input[i];\n        for (const p in object) {\n          if (!table.hasOwnProperty(p)) {\n            table[p] = tableIndex++;\n          }\n        }\n      }\n    }\n    return table;\n  }\n\n  static toOutputTable(data) {\n    const table = {};\n    let tableIndex = 0;\n    for (let dataIndex = 0; dataIndex < data.length; dataIndex++) {\n      for (const p in data[dataIndex].output) {\n        if (!table.hasOwnProperty(p)) {\n          table[p] = tableIndex++;\n        }\n      }\n    }\n    return table;\n  }\n\n  static toOutputTable2D(data) {\n    const table = {};\n    let tableIndex = 0;\n    for (let dataIndex = 0; dataIndex < data.length; dataIndex++) {\n      const output = data[dataIndex].output;\n      for (let i = 0; i < output.length; i++) {\n        const object = output[i];\n        for (const p in object) {\n          if (!table.hasOwnProperty(p)) {\n            table[p] = tableIndex++;\n          }\n        }\n      }\n    }\n    return table;\n  }\n\n  /**\n   * performs `{a: 6, b: 7} -> {a: 0, b: 1}`\n   * @param {Object} hash\n   * @returns {Object}\n   */\n  static toHash(hash) {\n    const lookup = {};\n    let index = 0;\n    for (const i in hash) {\n      lookup[i] = index++;\n    }\n    return lookup;\n  }\n\n  /**\n   * performs `{a: 0, b: 1}, {a: 6} -> [6, 0]`\n   * @param {*} lookup\n   * @param {*} object\n   * @param {*} arrayLength\n   * @returns {Float32Array}\n   */\n  static toArray(lookup, object, arrayLength) {\n    const result = new Float32Array(arrayLength);\n    for (const p in lookup) {\n      result[lookup[p]] = object.hasOwnProperty(p) ? object[p] : 0;\n    }\n    return result;\n  }\n\n  static toArrayShort(lookup, object) {\n    const result = [];\n    for (const p in lookup) {\n      if (!object.hasOwnProperty(p)) break;\n      result[lookup[p]] = object[p];\n    }\n    return Float32Array.from(result);\n  }\n\n  static toArrays(lookup, objects, arrayLength) {\n    const result = [];\n    for (let i = 0; i < objects.length; i++) {\n      result.push(this.toArray(lookup, objects[i], arrayLength));\n    }\n    return result;\n  }\n\n  /**\n   * performs `{a: 0, b: 1}, [6, 7] -> {a: 6, b: 7}`\n   * @param {Object} lookup\n   * @param {Array} array\n   * @returns {Object}\n   */\n  static toObject(lookup, array) {\n    const object = {};\n    for (const p in lookup) {\n      object[p] = array[lookup[p]];\n    }\n    return object;\n  }\n\n  static toObjectPartial(lookup, array, offset = 0, limit = 0) {\n    const object = {};\n    let i = 0;\n    for (const p in lookup) {\n      if (offset > 0) {\n        if (i++ < offset) continue;\n      }\n      if (limit > 0) {\n        if (i++ >= limit) continue;\n      }\n      object[p] = array[lookup[p] - offset];\n    }\n    return object;\n  }\n\n  /**\n   *\n   * @param {Array} array\n   * @returns {*}\n   */\n  static lookupFromArray(array) {\n    const lookup = {};\n    let z = 0;\n    let i = array.length;\n    while (i-- > 0) {\n      lookup[array[i]] = z++;\n    }\n    return lookup;\n  }\n\n  static dataShape(data) {\n    const shape = [];\n\n    if (data.input) {\n      shape.push('datum');\n      data = data.input;\n    } else if (Array.isArray(data)) {\n      if (data[0].input) {\n        shape.push('array', 'datum');\n        data = data[0].input;\n      } else {\n        shape.push('array');\n        data = data[0];\n      }\n    }\n\n    let p;\n    while (data) {\n      for (p in data) {\n        break;\n      }\n      if (!data.hasOwnProperty(p)) break;\n      if (Array.isArray(data) || data.buffer instanceof ArrayBuffer) {\n        shape.push('array');\n        data = data[p];\n      } else if (typeof data === 'object') {\n        shape.push('object');\n        data = data[p];\n      } else {\n        throw new Error('unhandled signature');\n      }\n    }\n    shape.push(typeof data);\n    return shape;\n  }\n\n  static addKeys(value, table) {\n    if (Array.isArray(value)) return;\n    table = table || {};\n    let i = Object.keys(table).length;\n    for (const p in value) {\n      if (!value.hasOwnProperty(p)) continue;\n      if (table.hasOwnProperty(p)) continue;\n      table[p] = i++;\n    }\n    return table;\n  }\n}\n\nmodule.exports = Lookup;\n","// TODO: implement and test\nclass Adam {}\n\nfunction adam() {\n  // gradient = grad_fun(theta)\n  //\n  //           # Update moment estimates\n  // moment1 = beta1 * moment1 + (1 - beta1) * gradient\n  // moment2 = beta2 * moment2 + (1 - beta2) * np.square(gradient)\n  //\n  //           # Yield adapted gradient\n  // theta = ( theta - alpha * (1 - beta2**t)**0.5 / (1 - beta1**t) *\n  //   moment1 / (epsilon + np.sqrt(moment2)) )\n  // yield theta\n  // t += 1\n  // adam update\n  // gsumi[j] = gsumi[j] * this.beta1 + (1- this.beta1) * gij; // update biased first moment estimate\n  // xsumi[j] = xsumi[j] * this.beta2 + (1-this.beta2) * gij * gij; // update biased second moment estimate\n  // var biasCorr1 = gsumi[j] * (1 - Math.pow(this.beta1, this.k)); // correct bias first moment estimate\n  // var biasCorr2 = xsumi[j] * (1 - Math.pow(this.beta2, this.k)); // correct bias second moment estimate\n  // var dx =  - this.learning_rate * biasCorr1 / (Math.sqrt(biasCorr2) + this.eps);\n  // p[j] += dx;\n}\n\nmodule.exports = {\n  Adam,\n  adam,\n};\n","const { makeKernel, release } = require('../utilities/kernel');\nconst zeros2D = require('../utilities/zeros-2d');\n\nconst { Base } = require('./base');\n\nfunction getMomentum(delta, decay, previousMomentum) {\n  return previousMomentum * decay + (1 - decay) * delta * delta;\n}\n\nfunction clipByValue(value, max, min) {\n  if (value > max) {\n    return max;\n  }\n  if (value < min) {\n    return min;\n  }\n  return value;\n}\n\n/**\n * @description Momentum Root Mean Square Propagation Function\n * @returns {number}\n */\nfunction update(weights, deltas, previousMomenta) {\n  const delta = deltas[this.thread.y][this.thread.x];\n  const clippedDelta = clipByValue(\n    delta,\n    this.constants.clipValue,\n    -this.constants.clipValue\n  );\n  const weight = weights[this.thread.y][this.thread.x];\n  const previousMomentum = previousMomenta[this.thread.y][this.thread.x];\n  const momentum = getMomentum(\n    delta,\n    this.constants.decayRate,\n    previousMomentum\n  );\n  return (\n    weight +\n    (-this.constants.learningRate * clippedDelta) /\n      Math.sqrt(momentum + this.constants.smoothEps) -\n    this.constants.regularizationStrength * weight\n  );\n}\n\nfunction isClippedByValue(value, max, min) {\n  if (value > max) {\n    return 1;\n  }\n  if (value < min) {\n    return 1;\n  }\n  return 0;\n}\n\nclass MomentumRootMeanSquaredPropagation extends Base {\n  static get defaults() {\n    return {\n      decayRate: 0.999,\n      regularizationStrength: 0.0001,\n      learningRate: 0.01,\n      smoothEps: 1e-8,\n      clipValue: 5,\n    };\n  }\n\n  constructor(layerTemplate, settings = {}) {\n    super(layerTemplate, settings);\n    this.momenta = zeros2D(layerTemplate.width, layerTemplate.height);\n  }\n\n  run(layer) {\n    const { momenta, result } = this.kernel(\n      layer.weights,\n      layer.deltas,\n      this.momenta\n    );\n    release(this.momenta);\n    this.momenta = momenta;\n    return result;\n  }\n\n  setupKernels() {\n    this.kernel = makeKernel(update, {\n      output: [this.width, this.height],\n      constants: {\n        clipValue: this.clipValue,\n        decayRate: this.decayRate,\n        learningRate: this.learningRate,\n        regularizationStrength: this.regularizationStrength,\n        smoothEps: this.smoothEps,\n      },\n      functions: [clipByValue],\n      map: {\n        momenta: getMomentum,\n      },\n      immutable: true,\n    });\n  }\n}\n\nfunction momentumRootMeanSquaredPropagation(layer, settings) {\n  return new MomentumRootMeanSquaredPropagation(layer, settings);\n}\n\n/**\n * @description Mathematician friendly name of MomentumRootMeanSquaredPropagation class. For those that are not mere mortals\n * @type {MomentumRootMeanSquaredPropagation}\n */\nconst MRmsProp = MomentumRootMeanSquaredPropagation;\nconst mRmsProp = momentumRootMeanSquaredPropagation;\n\nmodule.exports = {\n  MomentumRootMeanSquaredPropagation,\n  momentumRootMeanSquaredPropagation,\n  MRmsProp,\n  mRmsProp,\n  getMomentum,\n  clipByValue,\n  isClippedByValue,\n};\n","const { Adam, adam } = require('./adam');\nconst {\n  ArthurDeviationBiases,\n  arthurDeviationBiases,\n} = require('./arthur-deviation-biases');\nconst {\n  ArthurDeviationWeights,\n  arthurDeviationWeights,\n} = require('./arthur-deviation-weights');\nconst {\n  MomentumRootMeanSquaredPropagation,\n  momentumRootMeanSquaredPropagation,\n  MRmsProp,\n  mRmsProp,\n} = require('./momentum-root-mean-squared-propagation');\n\nmodule.exports = {\n  Adam,\n  adam,\n  ArthurDeviationBiases,\n  arthurDeviationBiases,\n  ArthurDeviationWeights,\n  arthurDeviationWeights,\n  MomentumRootMeanSquaredPropagation,\n  momentumRootMeanSquaredPropagation,\n  MRmsProp,\n  mRmsProp,\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar bind = require('../internals/function-bind');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\n\n// `Reflect.construct` method\n// https://tc39.github.io/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","const layer = require('../layer');\n\nmodule.exports = function layerFromJSON(jsonLayer) {\n  if (!layer.hasOwnProperty(jsonLayer.type)) return null;\n  const Layer = layer[jsonLayer.type];\n\n  // eslint-disable-next-line\n  const realLayer = Reflect.construct(Layer, arguments)\n\n  Object.keys(jsonLayer).forEach((p) => {\n    if (p !== 'type') {\n      realLayer[p] = jsonLayer[p];\n    }\n  });\n\n  return realLayer;\n};\n","module.exports = function traverseLayersFrom(layer, cb) {\n  if (layer.hasOwnProperty('inputLayer')) {\n    traverseLayersFrom(layer.inputLayer, cb);\n  } else {\n    if (layer.hasOwnProperty('inputLayer1')) {\n      traverseLayersFrom(layer.inputLayer1, cb);\n    }\n    if (layer.hasOwnProperty('inputLayer2')) {\n      traverseLayersFrom(layer.inputLayer2, cb);\n    }\n  }\n  cb(layer);\n};\n","const traverseLayersFrom = require('./traverse-layers-from');\n\nmodule.exports = function flattenLayers(layers) {\n  const result = layers.slice(0);\n  for (let i = 0; i < result.length; i++) {\n    let offset = 0;\n    traverseLayersFrom(result[i], (layer) => {\n      if (result.indexOf(layer) === -1) {\n        result.splice(i + offset, 0, layer);\n        offset++;\n      }\n    });\n  }\n  return result;\n};\n","const { makeKernel } = require('../utilities/kernel');\n\nfunction mse2d(errors) {\n  // mean squared error 2d\n  let sum = 0;\n  for (let y = 0; y < this.constants.height; y++) {\n    for (let x = 0; x < this.constants.width; x++) {\n      sum += errors[y][x] ** 2;\n    }\n  }\n  return sum / this.constants.length;\n}\n\nclass MeanSquaredError {\n  constructor({ width, height }) {\n    this.calculate = makeKernel(mse2d, {\n      output: [1],\n      constants: {\n        width,\n        height,\n        length: width * height,\n      },\n      immutable: true,\n    });\n    this.addAbsolute = makeKernel(\n      function (value1, value2) {\n        return value1[0] + Math.abs(value2[0][0]);\n      },\n      {\n        output: [1],\n        immutable: true,\n      }\n    );\n    this.add = makeKernel(\n      function (value1, value2) {\n        return value1[0] + value2[0];\n      },\n      {\n        output: [1],\n        immutable: true,\n      }\n    );\n    this.divide = makeKernel(\n      function (length, mseSum) {\n        const value = mseSum[0];\n        if (value > 0) {\n          return value / length;\n        }\n        return 0;\n      },\n      {\n        output: [1],\n        immutable: true,\n      }\n    );\n  }\n}\n\nmodule.exports = { MeanSquaredError };\n","const lookup = require('./lookup');\nconst layerFromJSON = require('./utilities/layer-from-json');\nconst praxis = require('./praxis');\nconst flattenLayers = require('./utilities/flatten-layers');\nconst { makeKernel, release } = require('./utilities/kernel');\nconst { MeanSquaredError } = require('./estimator/mean-squared-error');\nconst { Model } = require('./layer/types');\n\nclass FeedForward {\n  static get trainDefaults() {\n    return {\n      iterations: 20000,\n      errorThresh: 0.005,\n      log: false,\n      logPeriod: 10,\n      learningRate: 0.3,\n      callback: null,\n      callbackPeriod: 10,\n      errorCheckInterval: 100,\n      reinforce: false,\n    };\n  }\n\n  static get defaults() {\n    return {\n      learningRate: 0.3,\n      binaryThresh: 0.5,\n      hiddenLayers: null,\n      inputLayer: null,\n      outputLayer: null,\n      praxisOpts: null,\n      praxis: (layer, settings) =>\n        praxis.momentumRootMeanSquaredPropagation(\n          { ...layer },\n          layer.praxisOpts || settings\n        ),\n    };\n  }\n\n  /**\n   *\n   * @param options\n   * @private\n   */\n  static _validateTrainingOptions(options) {\n    const validations = {\n      iterations: (val) => typeof val === 'number' && val > 0,\n      errorThresh: (val) => typeof val === 'number' && val > 0 && val < 1,\n      log: (val) => typeof val === 'function' || typeof val === 'boolean',\n      logPeriod: (val) => typeof val === 'number' && val > 0,\n      learningRate: (val) => typeof val === 'number' && val > 0 && val < 1,\n      callback: (val) => typeof val === 'function' || val === null,\n      callbackPeriod: (val) => typeof val === 'number' && val > 0,\n      timeout: (val) => typeof val === 'number' && val > 0,\n    };\n    Object.keys(FeedForward.trainDefaults).forEach((key) => {\n      if (validations.hasOwnProperty(key) && !validations[key](options[key])) {\n        throw new Error(\n          `[${key}, ${options[key]}] is out of normal training range, your network will probably not train.`\n        );\n      }\n    });\n  }\n\n  /**\n   *\n   * @param log\n   * if a method is passed in method is used\n   * if false passed in nothing is logged\n   * @returns error\n   */\n  _setLogMethod(log) {\n    if (typeof log === 'function') {\n      this.trainOpts.log = log;\n    } else if (log) {\n      // eslint-disable-next-line\n      this.trainOpts.log = console.log;\n    } else {\n      this.trainOpts.log = false;\n    }\n  }\n\n  /**\n   *\n   * @param opts\n   *    Supports all `trainDefaults` properties\n   *    also supports:\n   *       learningRate: (number)\n   */\n  _updateTrainingOptions(opts) {\n    Object.keys(this.constructor.trainDefaults).forEach((opt) => {\n      this.trainOpts[opt] = opts.hasOwnProperty(opt)\n        ? opts[opt]\n        : this.trainOpts[opt];\n    });\n    this.constructor._validateTrainingOptions(this.trainOpts);\n    this._setLogMethod(opts.log || this.trainOpts.log);\n    if (\n      this.trainOpts.callback &&\n      this.trainOpts.callbackPeriod !== this.trainOpts.errorCheckInterval\n    ) {\n      console.warn(\n        `options.callbackPeriod with value of ${this.trainOpts.callbackPeriod} does not match options.errorCheckInterval with value of ${this.trainOpts.errorCheckInterval}, if logging error, it will repeat.  These values may need to match`\n      );\n    }\n  }\n\n  static get structure() {\n    return {\n      layers: null,\n      _inputLayer: null,\n      _outputLayer: null,\n      _model: null,\n    };\n  }\n\n  /**\n   *\n   * @param {object} options\n   * @constructor\n   */\n  constructor(options = {}) {\n    this.layers = null;\n    this.inputLayer = null;\n    this.hiddenLayers = null;\n    this.outputLayer = null;\n    this.praxisOpts = null;\n    this.praxis = null;\n    Object.assign(this, this.constructor.defaults, options);\n    this.trainOpts = {};\n    this._updateTrainingOptions({\n      ...this.constructor.trainDefaults,\n      ...options,\n    });\n    Object.assign(this, this.constructor.structure);\n    this._inputLayer = null;\n    this._hiddenLayers = null;\n    this._outputLayer = null;\n  }\n\n  _connectLayers() {\n    const layers = [];\n    this._inputLayer = this.inputLayer();\n    const hiddenLayers = this._connectHiddenLayers(this._inputLayer);\n    this._outputLayer = this.outputLayer(\n      hiddenLayers[hiddenLayers.length - 1],\n      hiddenLayers.length\n    );\n    layers.push(this._inputLayer);\n    layers.push(...hiddenLayers);\n    layers.push(this._outputLayer);\n    this.layers = flattenLayers(layers);\n  }\n\n  _connectHiddenLayers(previousLayer) {\n    this._hiddenLayers = [];\n    const hiddenLayers = [];\n    for (let i = 0; i < this.hiddenLayers.length; i++) {\n      const hiddenLayer = this.hiddenLayers[i](previousLayer, i);\n      hiddenLayers.push(hiddenLayer);\n      this._hiddenLayers.push(hiddenLayer);\n      previousLayer = hiddenLayer;\n    }\n    return hiddenLayers;\n  }\n\n  initialize() {\n    this._connectLayers();\n    this.initializeLayers(this.layers);\n    this._model = this.layers.filter((l) => l instanceof Model);\n  }\n\n  initializeLayers(layers) {\n    for (let i = 0; i < layers.length; i++) {\n      const layer = layers[i];\n      // TODO: optimize for when training or just running\n      layer.setupKernels(true);\n      if (\n        layer instanceof Model &&\n        layer.hasOwnProperty('praxis') &&\n        layer.praxis === null\n      ) {\n        layer.praxis = this.praxis(layer, layer.praxisOpts || this.praxisOpts);\n        layer.praxis.setupKernels();\n      }\n    }\n\n    const lastLayer = layers[layers.length - 1];\n    this.meanSquaredError = new MeanSquaredError({\n      width: lastLayer.width,\n      height: lastLayer.height,\n    });\n    // this._getMSE = makeKernel(mse2d, {\n    //   output: [1],\n    //   constants: {\n    //     width: this._outputLayer.width,\n    //     height: this._outputLayer.height,\n    //     length: this._outputLayer.width * this._outputLayer.height,\n    //   }\n    // });\n    // this._addMSE = makeKernel(function(value1, value2) {\n    //   return value1[0] + value2[0];\n    // }, {\n    //   output: [1]\n    // });\n    // this._divideMSESum = makeKernel(function(length, mseSum) {\n    //   const value = mseSum[0];\n    //   if (value > 0) {\n    //     return value / length;\n    //   }\n    //   return 0;\n    // }, {\n    //   output: [1]\n    // });\n  }\n\n  /**\n   *\n   * @param input\n   * @returns {*}\n   */\n  run(input) {\n    if (this.inputLookup) {\n      input = lookup.toArray(this.inputLookup, input);\n    }\n\n    let output = this.runInput(input);\n\n    if (output.toArray) {\n      output = output.toArray();\n    }\n\n    if (this.outputLookup) {\n      output = lookup.toHash(this.outputLookup, output);\n    }\n    return output;\n  }\n\n  runInput(input) {\n    this.layers[0].predict(input);\n    for (let i = 1; i < this.layers.length; i++) {\n      this.layers[i].predict();\n    }\n    return this.layers[this.layers.length - 1].weights;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @returns {{error: number, iterations: number}}\n   */\n  train(data, options = {}) {\n    let status;\n    let endTime;\n    ({ data, status, endTime } = this._prepTraining(data, options));\n\n    while (this._trainingTick(data, status, endTime));\n    return status;\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} status { iterations: number, error: number }\n   * @param {Number} endTime\n   */\n  _trainingTick(data, status, endTime) {\n    if (\n      status.iterations >= this.trainOpts.iterations ||\n      status.error <= this.trainOpts.errorThresh ||\n      Date.now() >= endTime\n    ) {\n      return false;\n    }\n\n    if (\n      this.trainOpts.log &&\n      status.iterations % this.trainOpts.logPeriod === 0\n    ) {\n      status.error = this._calculateTrainingError(data);\n      this.trainOpts.log(\n        `iterations: ${status.iterations}, training error: ${status.error}`\n      );\n    } else if (status.iterations % this.trainOpts.errorCheckInterval === 0) {\n      status.error = this._calculateTrainingError(data);\n    } else {\n      this._trainPatterns(data);\n    }\n\n    if (\n      this.trainOpts.callback &&\n      status.iterations % this.trainOpts.callbackPeriod === 0\n    ) {\n      this.trainOpts.callback(Object.assign(status));\n    }\n\n    status.iterations++;\n    return true;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @protected\n   * @return { data, status, endTime }\n   */\n  _prepTraining(data, options) {\n    this._updateTrainingOptions(options);\n\n    const formattedData = this.formatData(data);\n    const endTime = Date.now() + this.trainOpts.timeout;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized();\n\n    return {\n      data: this.transferData(formattedData),\n      status,\n      endTime,\n    };\n  }\n\n  verifyIsInitialized() {\n    if (!this._model) {\n      this.initialize();\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {Number} error\n   */\n  _calculateTrainingError(data) {\n    let sum = new Float32Array([0]);\n    for (let i = 0; i < data.length; ++i) {\n      const prevSum = sum;\n      const error = this._trainPattern(data[i].input, data[i].output, true);\n      sum = this.meanSquaredError.add(sum, error);\n      release(error);\n      release(prevSum);\n    }\n    const result = this.meanSquaredError.divide(data.length, sum);\n    release(sum);\n    if (result.toArray) {\n      const resultArray = result.toArray();\n      release(result);\n      return resultArray[0];\n    }\n    return result[0];\n  }\n\n  /**\n   * @param data\n   * @private\n   */\n  _trainPatterns(data) {\n    for (let i = 0; i < data.length; ++i) {\n      this._trainPattern(data[i].input, data[i].output, false);\n    }\n  }\n\n  /**\n   *\n   * @param input\n   * @param target\n   * @param {Boolean} logErrorRate\n   */\n  _trainPattern(input, target, logErrorRate) {\n    // forward propagate\n    this.runInput(input);\n\n    // back propagate\n    this._calculateDeltas(target);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return this.meanSquaredError.calculate(this._outputLayer.errors);\n    }\n    return null;\n  }\n\n  _calculateDeltas(target) {\n    for (let i = this.layers.length - 1; i > -1; i--) {\n      this.layers[i].compare(target);\n    }\n  }\n\n  /**\n   *\n   */\n  adjustWeights() {\n    const { _model } = this;\n    for (let i = 0; i < _model.length; i++) {\n      _model[i].learn(null, null, this.trainOpts.learningRate);\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {*}\n   */\n  formatData(data) {\n    if (!Array.isArray(data)) {\n      // turn stream datum into array\n      const tmp = [];\n      tmp.push(data);\n      data = tmp;\n    }\n\n    // turn sparse hash input into arrays with 0s as filler\n    const inputDatumCheck = data[0].input;\n    if (\n      !Array.isArray(inputDatumCheck) &&\n      !(inputDatumCheck instanceof Float32Array)\n    ) {\n      if (!this.inputLookup) {\n        this.inputLookup = lookup.buildLookup(data.map((value) => value.input));\n      }\n      data = data.map((datumParam) => {\n        const array = lookup.toArray(this.inputLookup, datumParam.input);\n        return { ...datumParam, input: array };\n      }, this);\n    }\n\n    const outputDatumCheck = data[0].output;\n    if (\n      !Array.isArray(outputDatumCheck) &&\n      !(outputDatumCheck instanceof Float32Array)\n    ) {\n      if (!this.outputLookup) {\n        this.outputLookup = lookup.buildLookup(\n          data.map((value) => value.output)\n        );\n      }\n      data = data.map((datumParam) => {\n        const array = lookup.toArray(this.outputLookup, datumParam.output);\n        return { ...datumParam, output: array };\n      }, this);\n    }\n    return data;\n  }\n\n  transferData(formattedData) {\n    const transferredData = new Array(formattedData.length);\n    const transferInput = makeKernel(\n      function (value) {\n        return value[this.thread.x];\n      },\n      {\n        output: [formattedData[0].input.length],\n        immutable: true,\n      }\n    );\n    const transferOutput = makeKernel(\n      function (value) {\n        return value[this.thread.x];\n      },\n      {\n        output: [formattedData[0].output.length],\n        immutable: true,\n      }\n    );\n\n    for (let i = 0; i < formattedData.length; i++) {\n      const formattedDatum = formattedData[i];\n      transferredData[i] = {\n        input: transferInput(formattedDatum.input),\n        output: transferOutput(formattedDatum.output),\n      };\n    }\n    return transferredData;\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {\n   *  {\n   *    error: number,\n   *    misclasses: Array\n   *  }\n   * }\n   */\n  test() {\n    throw new Error(`${this.constructor.name}-test is not yet implemented`);\n  }\n\n  /**\n   *\n   */\n  toJSON() {\n    if (!this.layers) {\n      this.initialize();\n    }\n    const jsonLayers = [];\n    for (let i = 0; i < this.layers.length; i++) {\n      const layer = this.layers[i];\n      const jsonLayer = layer.toJSON();\n      if (layer.hasOwnProperty('inputLayer')) {\n        jsonLayer.inputLayerIndex = this.layers.indexOf(layer.inputLayer);\n      } else if (\n        layer.hasOwnProperty('inputLayer1') &&\n        layer.hasOwnProperty('inputLayer2')\n      ) {\n        jsonLayer.inputLayer1Index = this.layers.indexOf(layer.inputLayer1);\n        jsonLayer.inputLayer2Index = this.layers.indexOf(layer.inputLayer2);\n      }\n      jsonLayers.push(jsonLayer);\n    }\n\n    return {\n      type: this.constructor.name,\n      sizes: [this._inputLayer.height]\n        .concat(this._hiddenLayers.map((l) => l.height))\n        .concat([this._outputLayer.height]),\n      layers: jsonLayers,\n    };\n  }\n\n  /**\n   *\n   * @param json\n   * @param [getLayer]\n   * @returns {FeedForward}\n   */\n  static fromJSON(json, getLayer) {\n    const jsonLayers = json.layers;\n    const layers = [];\n    const inputLayer = layerFromJSON(jsonLayers[0]) || getLayer(jsonLayers[0]);\n    layers.push(inputLayer);\n\n    for (let i = 1; i < jsonLayers.length; i++) {\n      const jsonLayer = jsonLayers[i];\n      if (jsonLayer.hasOwnProperty('inputLayerIndex')) {\n        const inputLayer1 = layers[jsonLayer.inputLayerIndex];\n        layers.push(\n          layerFromJSON(jsonLayer, inputLayer1) ||\n            getLayer(jsonLayer, inputLayer1)\n        );\n      } else {\n        if (!jsonLayer.hasOwnProperty('inputLayer1Index'))\n          throw new Error(\n            'Cannot create network from provided JOSN. inputLayer1Index not defined.'\n          );\n        if (!jsonLayer.hasOwnProperty('inputLayer2Index'))\n          throw new Error(\n            'Cannot create network from provided JOSN. inputLayer2Index not defined.'\n          );\n        const inputLayer1 = layers[jsonLayer.inputLayer1Index];\n        const inputLayer2 = layers[jsonLayer.inputLayer2Index];\n\n        if (inputLayer1 === undefined)\n          throw new Error(\n            `Cannot create network from provided JOSN. layer of index ${jsonLayer.inputLayer1Index} not found.`\n          );\n        if (inputLayer2 === undefined)\n          throw new Error(\n            `Cannot create network from provided JOSN. layer of index ${jsonLayer.inputLayer2Index} not found.`\n          );\n\n        layers.push(\n          layerFromJSON(jsonLayer, inputLayer) ||\n            getLayer(jsonLayer, inputLayer1, inputLayer2)\n        );\n      }\n    }\n\n    const net = new FeedForward(json);\n    net.layers = layers;\n    return net;\n  }\n\n  /**\n   *\n   * @returns {Function}\n   */\n  toFunction() {\n    throw new Error(\n      `${this.constructor.name}-toFunction is not yet implemented`\n    );\n  }\n\n  /**\n   * This will create a TrainStream (WriteStream) for us to send the training data to.\n   * @param opts training options\n   * @returns {TrainStream|*}\n   */\n  createTrainStream() {\n    throw new Error(\n      `${this.constructor.name}-createTrainStream is not yet implemented`\n    );\n  }\n}\n\nmodule.exports = {\n  FeedForward,\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var anObject = require('../internals/an-object');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    !fails(post) &&\n    location.protocol !== 'file:'\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar classof = require('../internals/classof-raw');\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar IS_NODE = classof(process) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver && !IS_IOS) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.thaw = exports.Thaw = void 0;\n/**\n * thaw an array of items\n */\nvar Thaw = /** @class */ (function () {\n    function Thaw(items, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        var _a = __assign(__assign({}, Thaw.defaultSettings), options), each = _a.each, done = _a.done;\n        this.i = 0;\n        this.isStopped = false;\n        this.items = items;\n        this.options = options;\n        this.tick = function () {\n            if (_this.isStopped)\n                return;\n            _this.timeout = setTimeout(_this.tick, 0);\n            if (Thaw.thawing)\n                return;\n            var item = _this.items[_this.i];\n            if (_this.i >= _this.items.length) {\n                if (done !== null) {\n                    Thaw.thawing = true;\n                    done();\n                    Thaw.thawing = false;\n                }\n                _this.isStopped = true;\n                clearTimeout(_this.timeout);\n                return;\n            }\n            if (each !== null) {\n                Thaw.thawing = true;\n                each(item, _this.i);\n                Thaw.thawing = false;\n            }\n            else if (item !== undefined) {\n                item();\n            }\n            _this.i++;\n        };\n        Thaw.thaws.push(this);\n        if (!options.delay) {\n            this.tick();\n        }\n    }\n    Object.defineProperty(Thaw, \"isThawing\", {\n        /**\n         * returns if Thaw.js is thawing\n         */\n        get: function () {\n            return Thaw.thawing;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Stops all Thaw instances\n     */\n    Thaw.stopAll = function () {\n        for (var i = 0; i < Thaw.thaws.length; i++) {\n            Thaw.thaws[i].stop();\n        }\n    };\n    /**\n     * readies thaw to continue\n     */\n    Thaw.prototype.makeReady = function () {\n        if (this.isStopped) {\n            this.isStopped = false;\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Adds an item to the end of this instance of Thaw and readies Thaw to process it\n     */\n    Thaw.prototype.add = function (item) {\n        this.items.push(item);\n        if (this.makeReady()) {\n            this.tick();\n        }\n        return this;\n    };\n    /**\n     * Inserts an item just after the current item being processed in Thaw and readies Thaw to process it\n     */\n    Thaw.prototype.insert = function (item) {\n        this.items.splice(this.i, 0, item);\n        if (this.makeReady()) {\n            this.tick();\n        }\n        return this;\n    };\n    /**\n     * Adds an Array to the end of this instance of Thaw and readies Thaw to process it\n     */\n    Thaw.prototype.addArray = function (items) {\n        this.items = this.items.concat(items);\n        if (this.makeReady()) {\n            this.tick();\n        }\n        return this;\n    };\n    /**\n     * Inserts an Array just after the current item being processed in Thaw and readies Thaw to process them\n     */\n    Thaw.prototype.insertArray = function (items) {\n        var before = this.items.splice(0, this.i);\n        var after = this.items;\n        this.items = before.concat(items, after);\n        if (this.makeReady()) {\n            this.tick();\n        }\n        return this;\n    };\n    /**\n     * Stops this instance of Thaw\n     */\n    Thaw.prototype.stop = function () {\n        this.isStopped = true;\n        clearTimeout(this.timeout);\n        if (this.options.done) {\n            this.options.done();\n        }\n        return this;\n    };\n    Thaw.thawing = false;\n    Thaw.thaws = [];\n    Thaw.defaultSettings = {\n        each: null,\n        done: null\n    };\n    return Thaw;\n}());\nexports.Thaw = Thaw;\n/**\n * simple thaw\n */\nfunction thaw(items, options) {\n    return new Thaw(items, options);\n}\nexports.thaw = thaw;\n//# sourceMappingURL=thaw.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Block = void 0;\nvar thaw_1 = require(\"./thaw\");\nvar Block = /** @class */ (function () {\n    function Block(options, count) {\n        if (count === void 0) { count = 200; }\n        this.index = 0;\n        this.thaws = [];\n        this.count = count;\n        this.options = options;\n    }\n    /**\n     * add an item to the end of items\n     */\n    Block.prototype.add = function (item) {\n        var next = this.next();\n        next.add(item);\n        return this;\n    };\n    /**\n     * add an Array to the end of items\n     */\n    Block.prototype.addArray = function (items) {\n        var next = this.next();\n        next.addArray(items);\n        return this;\n    };\n    /**\n     * insert an item into items @ current position\n     */\n    Block.prototype.insert = function (item) {\n        var next = this.next();\n        next.insert(item);\n        return this;\n    };\n    /**\n     * insert and array into items @ current position\n     */\n    Block.prototype.insertArray = function (items) {\n        var next = this.next();\n        next.insertArray(items);\n        return this;\n    };\n    /**\n     * Stops all thaws in this block\n     */\n    Block.prototype.stop = function () {\n        for (var i = 0; i < this.thaws.length; i++) {\n            this.thaws[i].stop();\n        }\n        return this;\n    };\n    /**\n     * Get next available in block\n     */\n    Block.prototype.next = function () {\n        var thaw;\n        var thaws = this.thaws;\n        if (thaws.length < this.count) {\n            thaw = new thaw_1.Thaw([], this.options);\n            thaws.push(thaw);\n        }\n        else {\n            thaw = thaws[this.index] || null;\n        }\n        this.index++;\n        if (this.index >= this.count) {\n            this.index = 0;\n        }\n        return thaw;\n    };\n    return Block;\n}());\nexports.Block = Block;\n//# sourceMappingURL=block.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Block = exports.thaw = exports.Thaw = void 0;\nvar thaw_1 = require(\"./thaw\");\nObject.defineProperty(exports, \"Thaw\", { enumerable: true, get: function () { return thaw_1.Thaw; } });\nObject.defineProperty(exports, \"thaw\", { enumerable: true, get: function () { return thaw_1.thaw; } });\nvar block_1 = require(\"./block\");\nObject.defineProperty(exports, \"Block\", { enumerable: true, get: function () { return block_1.Block; } });\nif (typeof window !== 'undefined') {\n    // @ts-ignore\n    window.Thaw = thaw_1.Thaw;\n    // @ts-ignore\n    window.thaw = thaw_1.thaw;\n    // @ts-ignore\n    window.Thaw.Block = block_1.Block;\n}\n//# sourceMappingURL=index.js.map","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","/**\n *\n * @param values\n * @returns {*}\n */\nmodule.exports = function toArray(values) {\n  if (Array.isArray(values)) {\n    return values;\n  }\n  return new Float32Array(Object.values(values));\n};\n","const toArray = require('./to-array');\n/**\n *\n * @param values\n * @returns {number}\n */\nmodule.exports = function max(values) {\n  return Math.max(...toArray(values));\n};\n","module.exports = function mse(errors) {\n  // mean squared error\n  let sum = 0;\n  for (let i = 0; i < errors.length; i++) {\n    sum += errors[i] ** 2;\n  }\n  return sum / errors.length;\n};\n","/**\n *\n * @param start\n * @param end\n * @returns {Array}\n */\nmodule.exports = function range(start, end) {\n  const result = [];\n  for (; start < end; start++) {\n    result.push(start);\n  }\n  return result;\n};\n","function LookupTable(data, prop) {\n  this.length = 0;\n  if (prop) {\n    this.prop = prop;\n    const table = (this.table = {});\n    for (let i = 0; i < data.length; i++) {\n      const datum = data[i];\n      const object = datum[prop];\n      for (const p in object) {\n        if (table.hasOwnProperty(p)) continue;\n        table[p] = this.length++;\n      }\n    }\n  } else if (Array.isArray(data[0])) {\n    const table = (this.table = {});\n    for (let i = 0; i < data.length; i++) {\n      const array = data[i];\n      for (let j = 0; j < array.length; j++) {\n        const object = array[j];\n        for (const p in object) {\n          if (table.hasOwnProperty(p)) continue;\n          table[p] = this.length++;\n        }\n      }\n    }\n  } else {\n    const table = (this.table = {});\n    for (let i = 0; i < data.length; i++) {\n      const object = data[i];\n      for (const p in object) {\n        if (table.hasOwnProperty(p)) continue;\n        table[p] = this.length++;\n      }\n    }\n  }\n}\n\nmodule.exports = LookupTable;\n","function arraysToFloat32Arrays(arrays) {\n  const result = [];\n  for (let i = 0; i < arrays.length; i++) {\n    result.push(Float32Array.from(arrays[i]));\n  }\n  return result;\n}\nfunction arrayToFloat32Arrays(array) {\n  const result = [];\n  for (let i = 0; i < array.length; i++) {\n    result.push(Float32Array.from([array[i]]));\n  }\n  return result;\n}\nfunction arrayToFloat32Array(array) {\n  return Float32Array.from(array);\n}\nfunction objectsToFloat32Arrays(objects, table, length) {\n  const results = [];\n  for (let i = 0; i < objects.length; i++) {\n    const object = objects[i];\n    const result = new Float32Array(length);\n    for (const p in object) {\n      if (object.hasOwnProperty(p)) {\n        result[table[p]] = object[p];\n      }\n    }\n    results.push(result);\n  }\n  return results;\n}\nfunction objectToFloat32Arrays(object) {\n  const result = [];\n  for (const p in object) {\n    result.push(Float32Array.from([object[p]]));\n  }\n  return result;\n}\nfunction objectToFloat32Array(object, table, length) {\n  const result = new Float32Array(length);\n  for (const p in object) {\n    if (object.hasOwnProperty(p)) {\n      result[table[p]] = object[p];\n    }\n  }\n  return result;\n}\n\nmodule.exports = {\n  arraysToFloat32Arrays,\n  arrayToFloat32Arrays,\n  arrayToFloat32Array,\n  objectsToFloat32Arrays,\n  objectToFloat32Arrays,\n  objectToFloat32Array,\n};\n","const { Thaw } = require('thaw.js');\nconst lookup = require('./lookup');\n// const TrainStream = require('./train-stream');\nconst max = require('./utilities/max');\nconst mse = require('./utilities/mse');\nconst randos = require('./utilities/randos');\nconst range = require('./utilities/range');\nconst toArray = require('./utilities/to-array');\nconst zeros = require('./utilities/zeros');\nconst LookupTable = require('./utilities/lookup-table');\nconst { arrayToFloat32Array } = require('./utilities/cast');\n\nfunction getTypedArrayFn(value, table) {\n  if (value.buffer instanceof ArrayBuffer) {\n    return null;\n  }\n  if (Array.isArray(value)) {\n    return arrayToFloat32Array;\n  }\n  const { length } = Object.keys(table);\n  return (v) => {\n    const array = new Float32Array(length);\n    for (const p in table) {\n      array[table[p]] = v[p] || 0;\n    }\n    return array;\n  };\n}\n\n/**\n * @param {object} options\n * @constructor\n */\nclass NeuralNetwork {\n  static get trainDefaults() {\n    return {\n      iterations: 20000, // the maximum times to iterate the training data\n      errorThresh: 0.005, // the acceptable error percentage from training data\n      log: false, // true to use console.log, when a function is supplied it is used\n      logPeriod: 10, // iterations between logging out\n      learningRate: 0.3, // multiply's against the input and the delta then adds to momentum\n      momentum: 0.1, // multiply's against the specified \"change\" then adds to learning rate for change\n      callback: null, // a periodic call back that can be triggered while training\n      callbackPeriod: 10, // the number of iterations through the training data between callback calls\n      timeout: Infinity, // the max number of milliseconds to train for\n      praxis: null,\n      beta1: 0.9,\n      beta2: 0.999,\n      epsilon: 1e-8,\n    };\n  }\n\n  static get defaults() {\n    return {\n      leakyReluAlpha: 0.01,\n      binaryThresh: 0.5,\n      hiddenLayers: null, // array of ints for the sizes of the hidden layers in the network\n      activation: 'sigmoid', // Supported activation types ['sigmoid', 'relu', 'leaky-relu', 'tanh']\n    };\n  }\n\n  constructor(options = {}) {\n    Object.assign(this, this.constructor.defaults, options);\n    this.trainOpts = {};\n    this.updateTrainingOptions({\n      ...this.constructor.trainDefaults,\n      ...options,\n    });\n\n    this.sizes = null;\n    this.outputLayer = null;\n    this.biases = null; // weights for bias nodes\n    this.weights = null;\n    this.outputs = null;\n\n    // state for training\n    this.deltas = null;\n    this.changes = null; // for momentum\n    this.errors = null;\n    this.errorCheckInterval = 1;\n    if (!this.constructor.prototype.hasOwnProperty('runInput')) {\n      this.runInput = null;\n    }\n    if (!this.constructor.prototype.hasOwnProperty('calculateDeltas')) {\n      this.calculateDeltas = null;\n    }\n    this.inputLookup = null;\n    this.inputLookupLength = null;\n    this.outputLookup = null;\n    this.outputLookupLength = null;\n\n    if (options.inputSize && options.hiddenLayers && options.outputSize) {\n      this.sizes = [options.inputSize]\n        .concat(options.hiddenLayers)\n        .concat([options.outputSize]);\n    }\n  }\n\n  /**\n   *\n   * Expects this.sizes to have been set\n   */\n  initialize() {\n    if (!this.sizes) throw new Error('Sizes must be set before initializing');\n\n    this.outputLayer = this.sizes.length - 1;\n    this.biases = []; // weights for bias nodes\n    this.weights = [];\n    this.outputs = [];\n\n    // state for training\n    this.deltas = [];\n    this.changes = []; // for momentum\n    this.errors = [];\n\n    for (let layer = 0; layer <= this.outputLayer; layer++) {\n      const size = this.sizes[layer];\n      this.deltas[layer] = zeros(size);\n      this.errors[layer] = zeros(size);\n      this.outputs[layer] = zeros(size);\n\n      if (layer > 0) {\n        this.biases[layer] = randos(size);\n        this.weights[layer] = new Array(size);\n        this.changes[layer] = new Array(size);\n\n        for (let node = 0; node < size; node++) {\n          const prevSize = this.sizes[layer - 1];\n          this.weights[layer][node] = randos(prevSize);\n          this.changes[layer][node] = zeros(prevSize);\n        }\n      }\n    }\n\n    this.setActivation();\n    if (this.trainOpts.praxis === 'adam') {\n      this._setupAdam();\n    }\n  }\n\n  /**\n   *\n   * @param activation supported inputs: 'sigmoid', 'relu', 'leaky-relu', 'tanh'\n   */\n  setActivation(activation) {\n    this.activation = activation || this.activation;\n    switch (this.activation) {\n      case 'sigmoid':\n        this.runInput = this.runInput || this._runInputSigmoid;\n        this.calculateDeltas =\n          this.calculateDeltas || this._calculateDeltasSigmoid;\n        break;\n      case 'relu':\n        this.runInput = this.runInput || this._runInputRelu;\n        this.calculateDeltas =\n          this.calculateDeltas || this._calculateDeltasRelu;\n        break;\n      case 'leaky-relu':\n        this.runInput = this.runInput || this._runInputLeakyRelu;\n        this.calculateDeltas =\n          this.calculateDeltas || this._calculateDeltasLeakyRelu;\n        break;\n      case 'tanh':\n        this.runInput = this.runInput || this._runInputTanh;\n        this.calculateDeltas =\n          this.calculateDeltas || this._calculateDeltasTanh;\n        break;\n      default:\n        throw new Error(\n          `Unknown activation ${this.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n        );\n    }\n  }\n\n  /**\n   *\n   * @returns boolean\n   */\n  get isRunnable() {\n    if (!this.runInput) {\n      console.error(\n        'Activation function has not been initialized, did you run train()?'\n      );\n      return false;\n    }\n\n    const checkFns = [\n      'sizes',\n      'outputLayer',\n      'biases',\n      'weights',\n      'outputs',\n      'deltas',\n      'changes',\n      'errors',\n    ].filter((c) => this[c] === null);\n\n    if (checkFns.length > 0) {\n      console.error(\n        `Some settings have not been initialized correctly, did you run train()? Found issues with: ${checkFns.join(\n          ', '\n        )}`\n      );\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   *\n   * @param input\n   * @returns {*}\n   */\n  run(input) {\n    if (!this.isRunnable) return null;\n    if (this.inputLookup) {\n      input = lookup.toArray(this.inputLookup, input, this.inputLookupLength);\n    }\n\n    let output = this.runInput(input).slice(0);\n\n    if (this.outputLookup) {\n      output = lookup.toObject(this.outputLookup, output);\n    }\n    return output;\n  }\n\n  /**\n   * trains via sigmoid\n   * @param input\n   * @returns {*}\n   */\n  _runInputSigmoid(input) {\n    this.outputs[0] = input; // set output state of input layer\n\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const activeLayer = this.sizes[layer];\n      const activeWeights = this.weights[layer];\n      const activeBiases = this.biases[layer];\n      const activeOutputs = this.outputs[layer];\n      for (let node = 0; node < activeLayer; node++) {\n        const weights = activeWeights[node];\n\n        let sum = activeBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // sigmoid\n        activeOutputs[node] = 1 / (1 + Math.exp(-sum));\n      }\n      output = input = this.outputs[layer];\n    }\n    return output;\n  }\n\n  _runInputRelu(input) {\n    this.outputs[0] = input; // set output state of input layer\n\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const currentSize = this.sizes[layer];\n      const currentWeights = this.weights[layer];\n      const currentBiases = this.biases[layer];\n      const currentOutputs = this.outputs[layer];\n      for (let node = 0; node < currentSize; node++) {\n        const weights = currentWeights[node];\n\n        let sum = currentBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // relu\n        currentOutputs[node] = sum < 0 ? 0 : sum;\n      }\n      output = input = currentOutputs;\n    }\n    return output;\n  }\n\n  _runInputLeakyRelu(input) {\n    this.outputs[0] = input; // set output state of input layer\n    const alpha = this.leakyReluAlpha;\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const currentSize = this.sizes[layer];\n      const currentWeights = this.weights[layer];\n      const currentBiases = this.biases[layer];\n      const currentOutputs = this.outputs[layer];\n      for (let node = 0; node < currentSize; node++) {\n        const weights = currentWeights[node];\n\n        let sum = currentBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // leaky relu\n        currentOutputs[node] = sum < 0 ? 0 : alpha * sum;\n      }\n      output = input = currentOutputs;\n    }\n    return output;\n  }\n\n  _runInputTanh(input) {\n    this.outputs[0] = input; // set output state of input layer\n\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const currentSize = this.sizes[layer];\n      const currentWeights = this.weights[layer];\n      const currentBiases = this.biases[layer];\n      const currentOutputs = this.outputs[layer];\n      for (let node = 0; node < currentSize; node++) {\n        const weights = currentWeights[node];\n\n        let sum = currentBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // tanh\n        currentOutputs[node] = Math.tanh(sum);\n      }\n      output = input = currentOutputs;\n    }\n    return output;\n  }\n\n  /**\n   *\n   * @param data\n   * Verifies network sizes are initialized\n   * If they are not it will initialize them based off the data set.\n   */\n  verifyIsInitialized(data) {\n    if (this.sizes) return;\n\n    this.sizes = [];\n    this.sizes.push(data[0].input.length);\n    if (!this.hiddenLayers) {\n      this.sizes.push(Math.max(3, Math.floor(data[0].input.length / 2)));\n    } else {\n      this.hiddenLayers.forEach((size) => {\n        this.sizes.push(size);\n      });\n    }\n    this.sizes.push(data[0].output.length);\n\n    this.initialize();\n  }\n\n  /**\n   *\n   * @param options\n   *    Supports all `trainDefaults` properties\n   *    also supports:\n   *       learningRate: (number),\n   *       momentum: (number),\n   *       activation: 'sigmoid', 'relu', 'leaky-relu', 'tanh'\n   */\n  updateTrainingOptions(options) {\n    const { trainDefaults } = this.constructor;\n    for (const p in trainDefaults) {\n      if (!trainDefaults.hasOwnProperty(p)) continue;\n      this.trainOpts[p] = options.hasOwnProperty(p)\n        ? options[p]\n        : trainDefaults[p];\n    }\n    this.validateTrainingOptions(this.trainOpts);\n    this.setLogMethod(options.log || this.trainOpts.log);\n    this.activation = options.activation || this.activation;\n  }\n\n  /**\n   *\n   * @param options\n   */\n  validateTrainingOptions(options) {\n    const validations = {\n      iterations: (val) => {\n        return typeof val === 'number' && val > 0;\n      },\n      errorThresh: (val) => {\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      log: (val) => {\n        return typeof val === 'function' || typeof val === 'boolean';\n      },\n      logPeriod: (val) => {\n        return typeof val === 'number' && val > 0;\n      },\n      learningRate: (val) => {\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      momentum: (val) => {\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      callback: (val) => {\n        return typeof val === 'function' || val === null;\n      },\n      callbackPeriod: (val) => {\n        return typeof val === 'number' && val > 0;\n      },\n      timeout: (val) => {\n        return typeof val === 'number' && val > 0;\n      },\n    };\n    for (const p in validations) {\n      if (!validations.hasOwnProperty(p)) continue;\n      if (!options.hasOwnProperty(p)) continue;\n      if (!validations[p](options[p])) {\n        throw new Error(\n          `[${p}, ${options[p]}] is out of normal training range, your network will probably not train.`\n        );\n      }\n    }\n  }\n\n  /**\n   *\n   *  Gets JSON of trainOpts object\n   *    NOTE: Activation is stored directly on JSON object and not in the training options\n   */\n  getTrainOptsJSON() {\n    return Object.keys(this.constructor.trainDefaults).reduce((opts, opt) => {\n      if (opt === 'timeout' && this.trainOpts[opt] === Infinity) return opts;\n      if (opt === 'callback') return opts;\n      if (this.trainOpts[opt]) opts[opt] = this.trainOpts[opt];\n      if (opt === 'log') opts.log = typeof opts.log === 'function';\n      return opts;\n    }, {});\n  }\n\n  /**\n   *\n   * @param log\n   * if a method is passed in method is used\n   * if false passed in nothing is logged\n   * @returns error\n   */\n  setLogMethod(log) {\n    if (typeof log === 'function') {\n      this.trainOpts.log = log;\n    } else if (log) {\n      this.trainOpts.log = this.logTrainingStatus;\n    } else {\n      this.trainOpts.log = false;\n    }\n  }\n\n  /**\n   *\n   * @param status\n   * log training status\n   */\n  logTrainingStatus(status) {\n    console.log(\n      `iterations: ${status.iterations}, training error: ${status.error}`\n    );\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {Number} error\n   */\n  calculateTrainingError(data) {\n    let sum = 0;\n    for (let i = 0; i < data.length; ++i) {\n      sum += this.trainPattern(data[i], true);\n    }\n    return sum / data.length;\n  }\n\n  /**\n   * @param data\n   */\n  trainPatterns(data) {\n    for (let i = 0; i < data.length; ++i) {\n      this.trainPattern(data[i]);\n    }\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} status { iterations: number, error: number }\n   * @param endTime\n   */\n  trainingTick(data, status, endTime) {\n    const {\n      callback,\n      callbackPeriod,\n      errorThresh,\n      iterations,\n      log,\n      logPeriod,\n    } = this.trainOpts;\n\n    if (\n      status.iterations >= iterations ||\n      status.error <= errorThresh ||\n      Date.now() >= endTime\n    ) {\n      return false;\n    }\n\n    status.iterations++;\n\n    if (log && status.iterations % logPeriod === 0) {\n      status.error = this.calculateTrainingError(data);\n      log(status);\n    } else if (status.iterations % this.errorCheckInterval === 0) {\n      status.error = this.calculateTrainingError(data);\n    } else {\n      this.trainPatterns(data);\n    }\n\n    if (callback && status.iterations % callbackPeriod === 0) {\n      callback({\n        iterations: status.iterations,\n        error: status.error,\n      });\n    }\n    return true;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @protected\n   * @return {object} { data, status, endTime }\n   */\n  prepTraining(data, options) {\n    this.updateTrainingOptions(options);\n    data = this.formatData(data);\n    const endTime = Date.now() + this.trainOpts.timeout;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized(data);\n\n    return {\n      data,\n      status,\n      endTime,\n    };\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @returns {object} {error: number, iterations: number}\n   */\n  train(data, options = {}) {\n    let status;\n    let endTime;\n\n    ({ data, status, endTime } = this.prepTraining(data, {\n      ...this.trainOpts,\n      ...options,\n    }));\n\n    while (this.trainingTick(data, status, endTime));\n    return status;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @returns {Promise}\n   * @resolves {{error: number, iterations: number}}\n   * @rejects {{trainError: string, status: {error: number, iterations: number}}\n   */\n  trainAsync(data, options = {}) {\n    let status;\n    let endTime;\n    ({ data, status, endTime } = this.prepTraining(data, options));\n\n    return new Promise((resolve, reject) => {\n      try {\n        const thawedTrain = new Thaw(new Array(this.trainOpts.iterations), {\n          delay: true,\n          each: () =>\n            this.trainingTick(data, status, endTime) || thawedTrain.stop(),\n          done: () => resolve(status),\n        });\n        thawedTrain.tick();\n      } catch (trainError) {\n        console.log(JSON.stringify(trainError));\n        reject(new Error({ trainError, status }));\n      }\n    });\n  }\n\n  /**\n   *\n   * @param {object} value\n   * @param {boolean} [logErrorRate]\n   */\n  trainPattern(value, logErrorRate) {\n    // forward propagate\n    this.runInput(value.input);\n\n    // back propagate\n    this.calculateDeltas(value.output);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return mse(this.errors[this.outputLayer]);\n    }\n    return null;\n  }\n\n  /**\n   *\n   * @param target\n   */\n  _calculateDeltasSigmoid(target) {\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const activeSize = this.sizes[layer];\n      const activeOutput = this.outputs[layer];\n      const activeError = this.errors[layer];\n      const activeDeltas = this.deltas[layer];\n      const nextLayer = this.weights[layer + 1];\n\n      for (let node = 0; node < activeSize; node++) {\n        const output = activeOutput[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          const deltas = this.deltas[layer + 1];\n          for (let k = 0; k < deltas.length; k++) {\n            error += deltas[k] * nextLayer[k][node];\n          }\n        }\n        activeError[node] = error;\n        activeDeltas[node] = error * output * (1 - output);\n      }\n    }\n  }\n\n  /**\n   *\n   * @param target\n   */\n  _calculateDeltasRelu(target) {\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const currentSize = this.sizes[layer];\n      const currentOutputs = this.outputs[layer];\n      const nextWeights = this.weights[layer + 1];\n      const nextDeltas = this.deltas[layer + 1];\n      const currentErrors = this.errors[layer];\n      const currentDeltas = this.deltas[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const output = currentOutputs[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          for (let k = 0; k < nextDeltas.length; k++) {\n            error += nextDeltas[k] * nextWeights[k][node];\n          }\n        }\n        currentErrors[node] = error;\n        currentDeltas[node] = output > 0 ? error : 0;\n      }\n    }\n  }\n\n  /**\n   *\n   * @param target\n   */\n  _calculateDeltasLeakyRelu(target) {\n    const alpha = this.leakyReluAlpha;\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const currentSize = this.sizes[layer];\n      const currentOutputs = this.outputs[layer];\n      const nextDeltas = this.deltas[layer + 1];\n      const nextWeights = this.weights[layer + 1];\n      const currentErrors = this.errors[layer];\n      const currentDeltas = this.deltas[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const output = currentOutputs[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          for (let k = 0; k < nextDeltas.length; k++) {\n            error += nextDeltas[k] * nextWeights[k][node];\n          }\n        }\n        currentErrors[node] = error;\n        currentDeltas[node] = output > 0 ? error : alpha * error;\n      }\n    }\n  }\n\n  /**\n   *\n   * @param target\n   */\n  _calculateDeltasTanh(target) {\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const currentSize = this.sizes[layer];\n      const currentOutputs = this.outputs[layer];\n      const nextDeltas = this.deltas[layer + 1];\n      const nextWeights = this.weights[layer + 1];\n      const currentErrors = this.errors[layer];\n      const currentDeltas = this.deltas[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const output = currentOutputs[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          for (let k = 0; k < nextDeltas.length; k++) {\n            error += nextDeltas[k] * nextWeights[k][node];\n          }\n        }\n        currentErrors[node] = error;\n        currentDeltas[node] = (1 - output * output) * error;\n      }\n    }\n  }\n\n  /**\n   *\n   * Changes weights of networks\n   */\n  adjustWeights() {\n    const { learningRate, momentum } = this.trainOpts;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const incoming = this.outputs[layer - 1];\n      const activeSize = this.sizes[layer];\n      const activeDelta = this.deltas[layer];\n      const activeChanges = this.changes[layer];\n      const activeWeights = this.weights[layer];\n      const activeBiases = this.biases[layer];\n\n      for (let node = 0; node < activeSize; node++) {\n        const delta = activeDelta[node];\n\n        for (let k = 0; k < incoming.length; k++) {\n          let change = activeChanges[node][k];\n\n          change = learningRate * delta * incoming[k] + momentum * change;\n\n          activeChanges[node][k] = change;\n          activeWeights[node][k] += change;\n        }\n        activeBiases[node] += learningRate * delta;\n      }\n    }\n  }\n\n  _setupAdam() {\n    this.biasChangesLow = [];\n    this.biasChangesHigh = [];\n    this.changesLow = [];\n    this.changesHigh = [];\n    this.iterations = 0;\n\n    for (let layer = 0; layer <= this.outputLayer; layer++) {\n      const size = this.sizes[layer];\n      if (layer > 0) {\n        this.biasChangesLow[layer] = zeros(size);\n        this.biasChangesHigh[layer] = zeros(size);\n        this.changesLow[layer] = new Array(size);\n        this.changesHigh[layer] = new Array(size);\n\n        for (let node = 0; node < size; node++) {\n          const prevSize = this.sizes[layer - 1];\n          this.changesLow[layer][node] = zeros(prevSize);\n          this.changesHigh[layer][node] = zeros(prevSize);\n        }\n      }\n    }\n\n    this.adjustWeights = this._adjustWeightsAdam;\n  }\n\n  _adjustWeightsAdam() {\n    this.iterations++;\n\n    const { iterations } = this;\n    const { beta1, beta2, epsilon, learningRate } = this.trainOpts;\n\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const incoming = this.outputs[layer - 1];\n      const currentSize = this.sizes[layer];\n      const currentDeltas = this.deltas[layer];\n      const currentChangesLow = this.changesLow[layer];\n      const currentChangesHigh = this.changesHigh[layer];\n      const currentWeights = this.weights[layer];\n      const currentBiases = this.biases[layer];\n      const currentBiasChangesLow = this.biasChangesLow[layer];\n      const currentBiasChangesHigh = this.biasChangesHigh[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const delta = currentDeltas[node];\n\n        for (let k = 0; k < incoming.length; k++) {\n          const gradient = delta * incoming[k];\n          const changeLow =\n            currentChangesLow[node][k] * beta1 + (1 - beta1) * gradient;\n          const changeHigh =\n            currentChangesHigh[node][k] * beta2 +\n            (1 - beta2) * gradient * gradient;\n\n          const momentumCorrection =\n            changeLow / (1 - Math.pow(beta1, iterations));\n          const gradientCorrection =\n            changeHigh / (1 - Math.pow(beta2, iterations));\n\n          currentChangesLow[node][k] = changeLow;\n          currentChangesHigh[node][k] = changeHigh;\n          currentWeights[node][k] +=\n            (learningRate * momentumCorrection) /\n            (Math.sqrt(gradientCorrection) + epsilon);\n        }\n\n        const biasGradient = currentDeltas[node];\n        const biasChangeLow =\n          currentBiasChangesLow[node] * beta1 + (1 - beta1) * biasGradient;\n        const biasChangeHigh =\n          currentBiasChangesHigh[node] * beta2 +\n          (1 - beta2) * biasGradient * biasGradient;\n\n        const biasMomentumCorrection =\n          currentBiasChangesLow[node] / (1 - Math.pow(beta1, iterations));\n        const biasGradientCorrection =\n          currentBiasChangesHigh[node] / (1 - Math.pow(beta2, iterations));\n\n        currentBiasChangesLow[node] = biasChangeLow;\n        currentBiasChangesHigh[node] = biasChangeHigh;\n        currentBiases[node] +=\n          (learningRate * biasMomentumCorrection) /\n          (Math.sqrt(biasGradientCorrection) + epsilon);\n      }\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {*}\n   */\n  formatData(data) {\n    if (!Array.isArray(data)) {\n      // turn stream datum into array\n      data = [data];\n    }\n\n    if (!Array.isArray(data[0].input)) {\n      if (this.inputLookup) {\n        this.inputLookupLength = Object.keys(this.inputLookup).length;\n      } else {\n        const inputLookup = new LookupTable(data, 'input');\n        this.inputLookup = inputLookup.table;\n        this.inputLookupLength = inputLookup.length;\n      }\n    }\n\n    if (!Array.isArray(data[0].output)) {\n      if (this.outputLookup) {\n        this.outputLookupLength = Object.keys(this.outputLookup).length;\n      } else {\n        const lookup = new LookupTable(data, 'output');\n        this.outputLookup = lookup.table;\n        this.outputLookupLength = lookup.length;\n      }\n    }\n\n    if (typeof this._formatInput === 'undefined') {\n      this._formatInput = getTypedArrayFn(data[0].input, this.inputLookup);\n      this._formatOutput = getTypedArrayFn(data[0].output, this.outputLookup);\n    }\n\n    // turn sparse hash input into arrays with 0s as filler\n    if (this._formatInput && this._formatOutput) {\n      const result = [];\n      for (let i = 0; i < data.length; i++) {\n        result.push({\n          input: this._formatInput(data[i].input),\n          output: this._formatOutput(data[i].output),\n        });\n      }\n      return result;\n    }\n    if (this._formatInput) {\n      const result = [];\n      for (let i = 0; i < data.length; i++) {\n        result.push({\n          input: this._formatInput(data[i].input),\n          output: data[i].output,\n        });\n      }\n      return result;\n    }\n    if (this._formatOutput) {\n      const result = [];\n      for (let i = 0; i < data.length; i++) {\n        result.push({\n          input: data[i].input,\n          output: this._formatOutput(data[i].output),\n        });\n      }\n      return result;\n    }\n    return data;\n  }\n\n  addFormat(data) {\n    this.inputLookup = lookup.addKeys(data.input, this.inputLookup);\n    if (this.inputLookup) {\n      this.inputLookupLength = Object.keys(this.inputLookup).length;\n    }\n    this.outputLookup = lookup.addKeys(data.output, this.outputLookup);\n    if (this.outputLookup) {\n      this.outputLookupLength = Object.keys(this.outputLookup).length;\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {\n   *  {\n   *    error: number,\n   *    misclasses: Array,\n   *  }\n   * }\n   */\n  test(data) {\n    data = this.formatData(data);\n    // for binary classification problems with one output node\n    const isBinary = data[0].output.length === 1;\n    // for classification problems\n    const misclasses = [];\n    // run each pattern through the trained network and collect\n    // error and misclassification statistics\n    let errorSum = 0;\n\n    if (isBinary) {\n      let falsePos = 0;\n      let falseNeg = 0;\n      let truePos = 0;\n      let trueNeg = 0;\n\n      for (let i = 0; i < data.length; i++) {\n        const output = this.runInput(data[i].input);\n        const target = data[i].output;\n        const actual = output[0] > this.binaryThresh ? 1 : 0;\n        const expected = target[0];\n\n        if (actual !== expected) {\n          const misclass = data[i];\n          misclasses.push({\n            input: misclass.input,\n            output: misclass.output,\n            actual,\n            expected,\n          });\n        }\n\n        if (actual === 0 && expected === 0) {\n          trueNeg++;\n        } else if (actual === 1 && expected === 1) {\n          truePos++;\n        } else if (actual === 0 && expected === 1) {\n          falseNeg++;\n        } else if (actual === 1 && expected === 0) {\n          falsePos++;\n        }\n\n        errorSum += mse(\n          output.map((value, i) => {\n            return target[i] - value;\n          })\n        );\n      }\n\n      return {\n        error: errorSum / data.length,\n        misclasses,\n        total: data.length,\n        trueNeg,\n        truePos,\n        falseNeg,\n        falsePos,\n        precision: truePos > 0 ? truePos / (truePos + falsePos) : 0,\n        recall: truePos > 0 ? truePos / (truePos + falseNeg) : 0,\n        accuracy: (trueNeg + truePos) / data.length,\n      };\n    }\n\n    for (let i = 0; i < data.length; i++) {\n      const output = this.runInput(data[i].input);\n      const target = data[i].output;\n      const actual = output.indexOf(max(output));\n      const expected = target.indexOf(max(target));\n\n      if (actual !== expected) {\n        const misclass = data[i];\n        misclasses.push({\n          input: misclass.input,\n          output: misclass.output,\n          actual,\n          expected,\n        });\n      }\n\n      errorSum += mse(\n        output.map((value, i) => {\n          return target[i] - value;\n        })\n      );\n    }\n    return {\n      error: errorSum / data.length,\n      misclasses,\n      total: data.length,\n    };\n  }\n\n  /**\n   *\n   * @returns\n   *  {\n   *    layers: [\n   *      {\n   *        x: {},\n   *        y: {}\n   *      },\n   *      {\n   *        '0': {\n   *          bias: -0.98771313,\n   *          weights: {\n   *            x: 0.8374838,\n   *            y: 1.245858\n   *          },\n   *        '1': {\n   *          bias: 3.48192004,\n   *          weights: {\n   *            x: 1.7825821,\n   *            y: -2.67899\n   *          }\n   *        }\n   *      },\n   *      {\n   *        f: {\n   *          bias: 0.27205739,\n   *          weights: {\n   *            '0': 1.3161821,\n   *            '1': 2.00436\n   *          }\n   *        }\n   *      }\n   *    ]\n   *  }\n   */\n  toJSON() {\n    if (this.sizes === null) {\n      this.initialize();\n    }\n    const layers = [];\n    for (let layer = 0; layer <= this.outputLayer; layer++) {\n      layers[layer] = {};\n\n      let nodes;\n      // turn any internal arrays back into hashes for readable json\n      if (layer === 0 && this.inputLookup) {\n        nodes = Object.keys(this.inputLookup);\n      } else if (this.outputLookup && layer === this.outputLayer) {\n        nodes = Object.keys(this.outputLookup);\n      } else {\n        nodes = range(0, this.sizes[layer]);\n      }\n\n      for (let j = 0; j < nodes.length; j++) {\n        const node = nodes[j];\n        layers[layer][node] = {};\n\n        if (layer > 0) {\n          layers[layer][node].bias = this.biases[layer][j];\n          layers[layer][node].weights = {};\n          for (const k in layers[layer - 1]) {\n            let index = k;\n            if (layer === 1 && this.inputLookup) {\n              index = this.inputLookup[k];\n            }\n            layers[layer][node].weights[k] = this.weights[layer][j][index];\n          }\n        }\n      }\n    }\n    return {\n      sizes: this.sizes.slice(0),\n      layers,\n      outputLookup: this.outputLookup !== null,\n      inputLookup: this.inputLookup !== null,\n      activation: this.activation,\n      trainOpts: this.getTrainOptsJSON(),\n    };\n  }\n\n  /**\n   *\n   * @param json\n   * @returns {NeuralNetwork}\n   */\n  fromJSON(json) {\n    Object.assign(this, this.constructor.defaults, json);\n    this.sizes = json.sizes;\n    this.initialize();\n\n    for (let i = 0; i <= this.outputLayer; i++) {\n      const layer = json.layers[i];\n      if (i === 0 && (!layer[0] || json.inputLookup)) {\n        this.inputLookup = lookup.toHash(layer);\n        this.inputLookupLength = Object.keys(this.inputLookup).length;\n      } else if (i === this.outputLayer && (!layer[0] || json.outputLookup)) {\n        this.outputLookup = lookup.toHash(layer);\n      }\n      if (i > 0) {\n        const nodes = Object.keys(layer);\n        this.sizes[i] = nodes.length;\n        for (const j in nodes) {\n          if (nodes.hasOwnProperty(j)) {\n            const node = nodes[j];\n            this.biases[i][j] = layer[node].bias;\n            this.weights[i][j] = toArray(layer[node].weights);\n          }\n        }\n      }\n    }\n    if (json.hasOwnProperty('trainOpts')) {\n      this.updateTrainingOptions(json.trainOpts);\n    }\n    return this;\n  }\n\n  /**\n   * @param {Function} [cb]\n   * @returns {Function}\n   */\n  toFunction(cb) {\n    const { activation } = this;\n    const { leakyReluAlpha } = this;\n    let needsVar = false;\n    function nodeHandle(layers, layerNumber, nodeKey) {\n      if (layerNumber === 0) {\n        return typeof nodeKey === 'string'\n          ? `(input['${nodeKey}']||0)`\n          : `(input[${nodeKey}]||0)`;\n      }\n\n      const layer = layers[layerNumber];\n      const node = layer[nodeKey];\n      const result = ['(', node.bias];\n      for (const w in node.weights) {\n        if (node.weights[w] < 0) {\n          result.push(\n            `${node.weights[w]}*${nodeHandle(layers, layerNumber - 1, w)}`\n          );\n        } else {\n          result.push(\n            `+${node.weights[w]}*${nodeHandle(layers, layerNumber - 1, w)}`\n          );\n        }\n      }\n      result.push(')');\n\n      switch (activation) {\n        case 'sigmoid':\n          return `1/(1+1/Math.exp(${result.join('')}))`;\n        case 'relu': {\n          needsVar = true;\n          return `((v=${result.join('')})<0?0:v)`;\n        }\n        case 'leaky-relu': {\n          needsVar = true;\n          return `((v=${result.join('')})<0?0:${leakyReluAlpha}*v)`;\n        }\n        case 'tanh':\n          return `Math.tanh(${result.join('')})`;\n        default:\n          throw new Error(\n            `Unknown activation ${this.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n          );\n      }\n    }\n\n    const { layers } = this.toJSON();\n    const layersAsMath = [];\n    let result;\n    for (const i in layers[layers.length - 1]) {\n      layersAsMath.push(nodeHandle(layers, layers.length - 1, i));\n    }\n    if (this.outputLookup) {\n      result = `{${Object.keys(this.outputLookup).map(\n        (key, i) => `'${key}':${layersAsMath[i]}`\n      )}}`;\n    } else {\n      result = `[${layersAsMath.join(',')}]`;\n    }\n\n    const source = `${needsVar ? 'var v;' : ''}return ${result};`;\n    // eslint-disable-next-line no-new-func\n    return new Function('input', cb ? cb(source) : source);\n  }\n}\n\nmodule.exports = NeuralNetwork;\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","const { GPU, alias, utils: gpuUtils } = require('gpu.js');\nconst NeuralNetwork = require('./neural-network');\nconst lookup = require('./lookup');\nconst { release } = require('./utilities/kernel');\n\nfunction weightedSumSigmoid(weights, biases, inputs) {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // sigmoid\n  return 1 / (1 + Math.exp(-sum));\n}\n\nfunction weightedSumRelu(weights, biases, inputs) {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // relu\n  return sum < 0 ? 0 : sum;\n}\n\nfunction weightedSumLeakyRelu(weights, biases, inputs) {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // leaky relu\n  return sum < 0 ? 0 : 0.01 * sum;\n}\n\nfunction weightedSumTanh(weights, biases, inputs) {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // tanh\n  return Math.tanh(sum);\n}\n\nfunction calcErrorOutput(output, targets) {\n  return targets[this.thread.x] - output;\n}\n\nfunction calcDeltasSigmoid(error, output) {\n  // sigmoid derivative\n  return error * output * (1 - output);\n}\n\nfunction calcDeltasRelu(error, output) {\n  // relu derivative\n  return output > 0 ? error : 0;\n}\n\nfunction calcDeltasLeakyRelu(error, output) {\n  // leaky relu derivative\n  return output > 0 ? error : 0.01 * error;\n}\n\nfunction calcDeltasTanh(error, output) {\n  // tanh derivative\n  return (1 - output * output) * error;\n}\n\nfunction calcError(nextWeights, nextDeltas) {\n  let error = 0;\n  for (let k = 0; k < this.constants.size; k++) {\n    error += nextDeltas[k] * nextWeights[k][this.thread.x];\n  }\n  return error;\n}\n\nfunction calcChanges(previousChanges, deltas, previousOutputs) {\n  return (\n    this.constants.learningRate *\n      deltas[this.thread.y] *\n      previousOutputs[this.thread.x] +\n    this.constants.momentum * previousChanges[this.thread.y][this.thread.x]\n  );\n}\n\nfunction addWeights(change, weights) {\n  return change + weights[this.thread.y][this.thread.x];\n}\n\nfunction addBiases(biases, deltas) {\n  return (\n    biases[this.thread.x] + deltas[this.thread.x] * this.constants.learningRate\n  );\n}\n\n// mean squared error, reimplemented for GPU\nfunction mse(errors) {\n  let sum = 0;\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += errors[i] ** 2;\n  }\n  return sum / this.constants.size;\n}\n\n/**\n *\n * @param {object} options\n * @constructor\n */\nclass NeuralNetworkGPU extends NeuralNetwork {\n  constructor(options = {}) {\n    super(options);\n    this.forwardPropagate = [];\n    this.backwardPropagate = [];\n    this.changesPropagate = [];\n    this.biasesPropagate = [];\n    this.errorCheckInterval = 100;\n    this.gpu = new GPU({ mode: options.mode });\n  }\n\n  /**\n   *\n   */\n  initialize() {\n    super.initialize();\n    this.buildRunInput();\n    this.buildCalculateDeltas();\n    this.buildGetChanges();\n    this.buildChangeBiases();\n    this.buildGetMSE();\n  }\n\n  setActivation() {}\n\n  /**\n   *\n   * @param value\n   * @param logErrorRate\n   */\n  trainPattern(value, logErrorRate) {\n    // forward propagate\n    this.runInput(value.input);\n\n    // back propagate\n    this.calculateDeltas(value.output);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return this.getMSE(this.errors[this.outputLayer]);\n    }\n    return null;\n  }\n\n  calculateTrainingError(data) {\n    let sum = new Float32Array([0]);\n    for (let i = 0; i < data.length; ++i) {\n      const prevSum = sum;\n      const error = this.trainPattern(data[i], true);\n      sum = this._addMSE(sum, error);\n      release(error);\n      release(prevSum);\n    }\n    const result = this._divideMSESum(data.length, sum)[0];\n    release(sum);\n    return result;\n  }\n\n  adjustWeights() {\n    this.getChanges();\n    this.changeBiases();\n  }\n\n  buildRunInput() {\n    let weightedSum = null;\n\n    switch (this.activation) {\n      case 'sigmoid':\n        weightedSum = weightedSumSigmoid;\n        break;\n      case 'relu':\n        weightedSum = weightedSumRelu;\n        break;\n      case 'leaky-relu':\n        weightedSum = weightedSumLeakyRelu;\n        break;\n      case 'tanh':\n        weightedSum = weightedSumTanh;\n        break;\n      default:\n        throw new Error(\n          `Unknown activation ${this.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n        );\n    }\n\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      this.forwardPropagate[layer] = this.gpu.createKernel(weightedSum, {\n        output: [this.sizes[layer]],\n        pipeline: true,\n        constants: {\n          size: this.sizes[layer - 1],\n        },\n        immutable: true,\n      });\n    }\n\n    this.texturizeInputData = this.gpu.createKernel(\n      function (value) {\n        return value[this.thread.x];\n      },\n      {\n        output: [this.sizes[1]],\n        pipeline: true,\n        immutable: true,\n      }\n    );\n  }\n\n  /**\n   *\n   * @param input\n   * @returns {*}\n   */\n  runInput(input) {\n    let output;\n    this.outputs[0] = input;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      release(this.outputs[layer]);\n      this.outputs[layer] = this.forwardPropagate[layer](\n        this.weights[layer],\n        this.biases[layer],\n        input\n      );\n      output = input = this.outputs[layer];\n    }\n    return output;\n  }\n\n  buildCalculateDeltas() {\n    let calcDeltas = null;\n    switch (this.activation) {\n      case 'sigmoid':\n        calcDeltas = calcDeltasSigmoid;\n        break;\n      case 'relu':\n        calcDeltas = calcDeltasRelu;\n        break;\n      case 'leaky-relu':\n        calcDeltas = calcDeltasLeakyRelu;\n        break;\n      case 'tanh':\n        calcDeltas = calcDeltasTanh;\n        break;\n      default:\n        throw new Error(\n          `Unknown activation ${this.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n        );\n    }\n\n    calcDeltas = alias(\n      gpuUtils.getMinifySafeName(() => calcDeltas),\n      calcDeltas\n    );\n    this.gpu.addFunction(calcDeltas);\n    for (let layer = this.outputLayer; layer > 0; layer--) {\n      if (layer === this.outputLayer) {\n        this.backwardPropagate[this.outputLayer] = this.gpu.createKernelMap(\n          {\n            error: calcErrorOutput,\n          },\n          function (outputs, targets) {\n            const output = outputs[this.thread.x];\n            return calcDeltas(calcErrorOutput(output, targets), output);\n          },\n          {\n            output: [this.sizes[this.outputLayer]],\n            pipeline: true,\n            immutable: true,\n          }\n        );\n      } else {\n        this.backwardPropagate[layer] = this.gpu.createKernelMap(\n          {\n            error: calcError,\n          },\n          function (nextWeights, outputs, nextDeltas) {\n            const output = outputs[this.thread.x];\n            return calcDeltas(calcError(nextWeights, nextDeltas), output);\n          },\n          {\n            output: [this.sizes[layer]],\n            pipeline: true,\n            constants: {\n              size: this.deltas[layer + 1].length,\n            },\n            immutable: true,\n          }\n        );\n      }\n    }\n  }\n\n  calculateDeltas(target) {\n    for (let layer = this.outputLayer; layer > 0; layer--) {\n      let output;\n      release(this.deltas[layer]);\n      release(this.errors[layer]);\n\n      if (layer === this.outputLayer) {\n        output = this.backwardPropagate[layer](this.outputs[layer], target);\n      } else {\n        output = this.backwardPropagate[layer](\n          this.weights[layer + 1],\n          this.outputs[layer],\n          this.deltas[layer + 1]\n        );\n      }\n      this.deltas[layer] = output.result;\n      this.errors[layer] = output.error;\n    }\n  }\n\n  buildGetChanges() {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      this.changesPropagate[layer] = this.gpu.createKernelMap(\n        {\n          weights: addWeights,\n          changes: calcChanges,\n        },\n        function (previousOutputs, deltas, weights, changes) {\n          const change = calcChanges(changes, deltas, previousOutputs);\n\n          return addWeights(change, weights);\n        },\n        {\n          output: [this.sizes[layer - 1], this.sizes[layer]],\n          pipeline: true,\n          constants: {\n            size: this.outputs[layer - 1].length,\n            learningRate: this.trainOpts.learningRate,\n            momentum: this.trainOpts.momentum,\n          },\n          immutable: true,\n        }\n      );\n    }\n  }\n\n  getChanges() {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const weights = this.weights[layer];\n      const changes = this.changes[layer];\n      const output = this.changesPropagate[layer](\n        this.outputs[layer - 1],\n        this.deltas[layer],\n        weights,\n        changes\n      );\n      release(weights);\n      release(changes);\n      this.weights[layer] = output.weights;\n      this.changes[layer] = output.changes;\n      release(output.result);\n    }\n  }\n\n  buildChangeBiases() {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      this.biasesPropagate[layer] = this.gpu.createKernel(addBiases, {\n        output: [this.sizes[layer]],\n        pipeline: true,\n        constants: {\n          learningRate: this.trainOpts.learningRate,\n        },\n        immutable: true,\n      });\n    }\n  }\n\n  changeBiases() {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const biases = this.biases[layer];\n      this.biases[layer] = this.biasesPropagate[layer](\n        biases,\n        this.deltas[layer]\n      );\n      release(biases);\n    }\n  }\n\n  buildGetMSE() {\n    this.getMSE = this.gpu.createKernel(mse, {\n      output: [1],\n      constants: {\n        size: this.sizes[this.outputLayer],\n      },\n      pipeline: true,\n      immutable: true,\n    });\n    this._addMSE = this.gpu.createKernel(\n      function (value1, value2) {\n        return value1[0] + value2[0];\n      },\n      {\n        output: [1],\n        pipeline: true,\n        immutable: true,\n      }\n    );\n    this._divideMSESum = this.gpu.createKernel(\n      function (length, mseSum) {\n        const value = mseSum[0];\n        if (value > 0) {\n          return value / length;\n        }\n        return 0;\n      },\n      {\n        output: [1],\n      }\n    );\n  }\n\n  /**\n   *\n   * @param input\n   * @returns {*}\n   */\n  run(input) {\n    if (!this.isRunnable) return null;\n    if (this.inputLookup) {\n      input = lookup.toArray(this.inputLookup, input, this.inputLookupLength);\n    }\n    const outputTextures = this.runInput(input);\n    let output = outputTextures.toArray\n      ? outputTextures.toArray()\n      : outputTextures;\n\n    if (this.outputLookup) {\n      output = lookup.toObject(this.outputLookup, output);\n    }\n    return output;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @protected\n   * @return { data, status, endTime }\n   */\n  prepTraining(data, options) {\n    this.updateTrainingOptions(options);\n    data = this.formatData(data);\n    const endTime = Date.now() + this.trainOpts.timeout;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized(data);\n\n    const texturizeOutputData = this.gpu.createKernel(\n      function (value) {\n        return value[this.thread.x];\n      },\n      {\n        output: [data[0].output.length],\n        pipeline: true,\n        immutable: true,\n      }\n    );\n\n    return {\n      data: data.map((set) => ({\n        input: this.texturizeInputData(set.input),\n        output: texturizeOutputData(set.output),\n      })),\n      status,\n      endTime,\n    };\n  }\n\n  toFunction() {\n    throw new Error(\n      `${this.constructor.name}-toFunction is not yet implemented`\n    );\n  }\n\n  toJSON() {\n    if (!this.weights[1].toArray) {\n      // in fallback mode\n      return super.toJSON();\n    }\n\n    // in GPU mode\n    const weights = [];\n    const biases = [];\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      weights[layer] = Array.from(this.weights[layer].toArray());\n      biases[layer] = Array.from(this.biases[layer].toArray());\n    }\n\n    // pseudo lo-fi decorator\n    return NeuralNetwork.prototype.toJSON.call({\n      activation: this.activation,\n      inputLookup: this.inputLookup,\n      outputLookup: this.outputLookup,\n      outputLayer: this.outputLayer,\n      sizes: this.sizes,\n      getTrainOptsJSON: () => this.getTrainOptsJSON(),\n      weights,\n      biases,\n    });\n  }\n}\n\nmodule.exports = NeuralNetworkGPU;\n","'use strict';\n\nvar domain;\n\n// This constructor is used to store event handlers. Instantiating this is\n// faster than explicitly calling `Object.create(null)` to get a \"clean\" empty\n// object (tested with v8 v4.9).\nfunction EventHandlers() {}\nEventHandlers.prototype = Object.create(null);\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nexport default EventEmitter;\nexport {EventEmitter};\n\n// nodejs oddity\n// require('events') === require('events').EventEmitter\nEventEmitter.EventEmitter = EventEmitter\n\nEventEmitter.usingDomains = false;\n\nEventEmitter.prototype.domain = undefined;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this.domain = null;\n  if (EventEmitter.usingDomains) {\n    // if there is an active domain, then attach to it.\n    if (domain.active && !(this instanceof domain.Domain)) {\n      this.domain = domain.active;\n    }\n  }\n\n  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = new EventHandlers();\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events, domain;\n  var needDomainExit = false;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  domain = this.domain;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    er = arguments[1];\n    if (domain) {\n      if (!er)\n        er = new Error('Uncaught, unspecified \"error\" event');\n      er.domainEmitter = this;\n      er.domain = domain;\n      er.domainThrown = false;\n      domain.emit('error', er);\n    } else if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n    // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n    // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  if (needDomainExit)\n    domain.exit();\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = new EventHandlers();\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] :\n                                          [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n                            existing.length + ' ' + type + ' listeners added. ' +\n                            'Use emitter.setMaxListeners() to increase limit');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        emitWarning(w);\n      }\n    }\n  }\n\n  return target;\n}\nfunction emitWarning(e) {\n  typeof console.warn === 'function' ? console.warn(e) : console.log(e);\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction _onceWrap(target, type, listener) {\n  var fired = false;\n  function g() {\n    target.removeListener(type, g);\n    if (!fired) {\n      fired = true;\n      listener.apply(target, arguments);\n    }\n  }\n  g.listener = listener;\n  return g;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || (list.listener && list.listener === listener)) {\n        if (--this._eventsCount === 0)\n          this._events = new EventHandlers();\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length; i-- > 0;) {\n          if (list[i] === listener ||\n              (list[i].listener && list[i].listener === listener)) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (list.length === 1) {\n          list[0] = undefined;\n          if (--this._eventsCount === 0) {\n            this._events = new EventHandlers();\n            return this;\n          } else {\n            delete events[type];\n          }\n        } else {\n          spliceOne(list, position);\n        }\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = new EventHandlers();\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = new EventHandlers();\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        for (var i = 0, key; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = new EventHandlers();\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        do {\n          this.removeListener(type, listeners[listeners.length - 1]);\n        } while (listeners[0]);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, i) {\n  var copy = new Array(i);\n  while (i--)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\nexport function toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nexport function fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","\nexport function read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexport function write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nexport default Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\nimport * as base64 from './base64'\nimport * as ieee754 from './ieee754'\nimport isArray from './isArray'\n\nexport var INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength()\nexport {_kMaxLength as kMaxLength};\nfunction typedArraySupport () {\n  return true;\n  // rollup issues\n  // try {\n  //   var arr = new Uint8Array(1)\n  //   arr.__proto__ = {\n  //     __proto__: Uint8Array.prototype,\n  //     foo: function () { return 42 }\n  //   }\n  //   return arr.foo() === 42 && // typed array instances can be augmented\n  //       typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n  //       arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  // } catch (e) {\n  //   return false\n  // }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nexport function Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    // Object.defineProperty(Buffer, Symbol.species, {\n    //   value: null,\n    //   configurable: true\n    // })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nexport function SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nexport function isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","\nvar inherits;\nif (typeof Object.create === 'function'){\n  inherits = function inherits(ctor, superCtor) {\n    // implementation from standard node.js 'util' module\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  inherits = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\nexport default inherits;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\nimport process from 'process';\nvar formatRegExp = /%[sdj%]/g;\nexport function format(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexport function deprecate(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexport function debuglog(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = 0;\n      debugs[set] = function() {\n        var msg = format.apply(null, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nexport function inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    _extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexport function isArray(ar) {\n  return Array.isArray(ar);\n}\n\nexport function isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\n\nexport function isNull(arg) {\n  return arg === null;\n}\n\nexport function isNullOrUndefined(arg) {\n  return arg == null;\n}\n\nexport function isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nexport function isString(arg) {\n  return typeof arg === 'string';\n}\n\nexport function isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\n\nexport function isUndefined(arg) {\n  return arg === void 0;\n}\n\nexport function isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\n\nexport function isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nexport function isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\n\nexport function isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\n\nexport function isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nexport function isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\n\nexport function isBuffer(maybeBuf) {\n  return Buffer.isBuffer(maybeBuf);\n}\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexport function log() {\n  console.log('%s - %s', timestamp(), format.apply(null, arguments));\n}\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nimport inherits from './inherits';\nexport {inherits}\n\nexport function _extend(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nexport default {\n  inherits: inherits,\n  _extend: _extend,\n  log: log,\n  isBuffer: isBuffer,\n  isPrimitive: isPrimitive,\n  isFunction: isFunction,\n  isError: isError,\n  isDate: isDate,\n  isObject: isObject,\n  isRegExp: isRegExp,\n  isUndefined: isUndefined,\n  isSymbol: isSymbol,\n  isString: isString,\n  isNumber: isNumber,\n  isNullOrUndefined: isNullOrUndefined,\n  isNull: isNull,\n  isBoolean: isBoolean,\n  isArray: isArray,\n  inspect: inspect,\n  deprecate: deprecate,\n  format: format,\n  debuglog: debuglog\n}\n","import {Buffer} from 'buffer';\n\nexport default BufferList;\n\nfunction BufferList() {\n  this.head = null;\n  this.tail = null;\n  this.length = 0;\n}\n\nBufferList.prototype.push = function (v) {\n  var entry = { data: v, next: null };\n  if (this.length > 0) this.tail.next = entry;else this.head = entry;\n  this.tail = entry;\n  ++this.length;\n};\n\nBufferList.prototype.unshift = function (v) {\n  var entry = { data: v, next: this.head };\n  if (this.length === 0) this.tail = entry;\n  this.head = entry;\n  ++this.length;\n};\n\nBufferList.prototype.shift = function () {\n  if (this.length === 0) return;\n  var ret = this.head.data;\n  if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n  --this.length;\n  return ret;\n};\n\nBufferList.prototype.clear = function () {\n  this.head = this.tail = null;\n  this.length = 0;\n};\n\nBufferList.prototype.join = function (s) {\n  if (this.length === 0) return '';\n  var p = this.head;\n  var ret = '' + p.data;\n  while (p = p.next) {\n    ret += s + p.data;\n  }return ret;\n};\n\nBufferList.prototype.concat = function (n) {\n  if (this.length === 0) return Buffer.alloc(0);\n  if (this.length === 1) return this.head.data;\n  var ret = Buffer.allocUnsafe(n >>> 0);\n  var p = this.head;\n  var i = 0;\n  while (p) {\n    p.data.copy(ret, i);\n    i += p.data.length;\n    p = p.next;\n  }\n  return ret;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nimport {Buffer} from 'buffer';\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nexport function StringDecoder(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n","'use strict';\n\n\nReadable.ReadableState = ReadableState;\nimport EventEmitter from 'events';\nimport {inherits, debuglog} from 'util';\nimport BufferList from './buffer-list';\nimport {StringDecoder} from 'string_decoder';\nimport {Duplex} from './duplex';\nimport {nextTick} from 'process';\n\nvar debug = debuglog('stream');\ninherits(Readable, EventEmitter);\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') {\n    return emitter.prependListener(event, fn);\n  } else {\n    // This is a hack to make sure that our error handler is attached before any\n    // userland ones.  NEVER DO THIS. This is here only because this code needs\n    // to continue to work with older versions of Node.js that do not include\n    // the prependListener() method. The goal is to eventually remove this hack.\n    if (!emitter._events || !emitter._events[event])\n      emitter.on(event, fn);\n    else if (Array.isArray(emitter._events[event]))\n      emitter._events[event].unshift(fn);\n    else\n      emitter._events[event] = [fn, emitter._events[event]];\n  }\n}\nfunction listenerCount (emitter, type) {\n  return emitter.listeners(type).length;\n}\nfunction ReadableState(options, stream) {\n\n  options = options || {};\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\nexport default Readable;\nexport function Readable(options) {\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options && typeof options.read === 'function') this._read = options.read;\n\n  EventEmitter.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n\n  if (!state.objectMode && typeof chunk === 'string') {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = Buffer.from(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var _e = new Error('stream.unshift() after end event');\n      stream.emit('error', _e);\n    } else {\n      var skipAdd;\n      if (state.decoder && !addToFront && !encoding) {\n        chunk = state.decoder.write(chunk);\n        skipAdd = !state.objectMode && chunk.length === 0;\n      }\n\n      if (!addToFront) state.reading = false;\n\n      // Don't add to the buffer if we've decoded to an empty string chunk and\n      // we're not in object mode\n      if (!skipAdd) {\n        // if we want the data now, just emit it.\n        if (state.flowing && state.length === 0 && !state.sync) {\n          stream.emit('data', chunk);\n          stream.read(0);\n        } else {\n          // update the buffer info.\n          state.length += state.objectMode ? 1 : chunk.length;\n          if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n          if (state.needReadable) emitReadable(stream);\n        }\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== null && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false);\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted) nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (listenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && src.listeners('data').length) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var _i = 0; _i < len; _i++) {\n      dests[_i].emit('unpipe', this);\n    }return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1) return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = EventEmitter.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function (ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction forEach(xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n\nimport {inherits, deprecate} from 'util';\nimport {Buffer} from 'buffer';\nWritable.WritableState = WritableState;\nimport {EventEmitter} from 'events';\nimport {Duplex} from './duplex';\nimport {nextTick} from 'process';\ninherits(Writable, EventEmitter);\n\nfunction nop() {}\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\nfunction WritableState(options, stream) {\n  Object.defineProperty(this, 'buffer', {\n    get: deprecate(function () {\n      return this.getBuffer();\n    }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.')\n  });\n  options = options || {};\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function writableStateGetBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\nexport default Writable;\nexport function Writable(options) {\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex)) return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n  }\n\n  EventEmitter.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  nextTick(cb, er);\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n  // Always throw error if a null is written\n  // if we are not in object mode then throw\n  // if it is not a buffer, string, or undefined.\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = new WriteReq(chunk, encoding, cb);\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n  if (sync) nextTick(cb, er);else cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n        nextTick(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n        afterWrite(stream, state, finished, cb);\n      }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    while (entry) {\n      buffer[count] = entry;\n      entry = entry.next;\n      count += 1;\n    }\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequestCount = 0;\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else {\n      prefinish(stream, state);\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function (err) {\n    var entry = _this.entry;\n    _this.entry = null;\n    while (entry) {\n      var cb = entry.callback;\n      state.pendingcb--;\n      cb(err);\n      entry = entry.next;\n    }\n    if (state.corkedRequestsFree) {\n      state.corkedRequestsFree.next = _this;\n    } else {\n      state.corkedRequestsFree = _this;\n    }\n  };\n}\n","\nimport {inherits} from 'util';\nimport {nextTick} from 'process';\nimport {Readable} from './readable';\nimport {Writable} from './writable';\n\n\ninherits(Duplex, Readable);\n\nvar keys = Object.keys(Writable.prototype);\nfor (var v = 0; v < keys.length; v++) {\n  var method = keys[v];\n  if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n}\nexport default Duplex;\nexport function Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n","// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n\nimport {Duplex} from './duplex';\n\n\nimport {inherits} from 'util';\ninherits(Transform, Duplex);\n\nfunction TransformState(stream) {\n  this.afterTransform = function (er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n  this.writeencoding = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined) stream.push(data);\n\n  cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\nexport default Transform;\nexport function Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  this.once('prefinish', function () {\n    if (typeof this._flush === 'function') this._flush(function (er) {\n      done(stream, er);\n    });else done(stream);\n  });\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('Not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nfunction done(stream, er) {\n  if (er) return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (ts.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","\nimport {Transform} from './transform';\n\nimport {inherits} from 'util';\ninherits(PassThrough, Transform);\nexport default PassThrough;\nexport function PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};\n","import EE from 'events';\nimport {inherits} from 'util';\n\nimport {Duplex} from './readable-stream/duplex.js';\nimport {Readable} from './readable-stream/readable.js';\nimport {Writable} from './readable-stream/writable.js';\nimport {Transform} from './readable-stream/transform.js';\nimport {PassThrough} from './readable-stream/passthrough.js';\ninherits(Stream, EE);\nStream.Readable = Readable;\nStream.Writable = Writable;\nStream.Duplex = Duplex;\nStream.Transform = Transform;\nStream.PassThrough = PassThrough;\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\nexport default Stream;\nexport {Readable,Writable,Duplex,Transform,PassThrough,Stream}\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","const { Writable } = require('stream');\n\n/**\n *\n * @param opts\n * @returns {TrainStream}\n * @constructor\n */\nclass TrainStream extends Writable {\n  constructor(options) {\n    super({\n      objectMode: true,\n    });\n\n    options = options || {};\n\n    // require the neuralNetwork\n    if (!options.neuralNetwork) {\n      throw new Error(\n        'No neural network specified. PLease see lis of available networks types: https://github.com/BrainJS/brain.js#neural-network-types'\n      );\n    }\n\n    const { neuralNetwork } = options;\n    this.neuralNetwork = neuralNetwork;\n    this.dataFormatDetermined = false;\n    this.i = 0; // keep track of internal iterations\n    this.size = 0;\n    this.count = 0;\n    this.sum = 0;\n    this.floodCallback = options.floodCallback;\n    this.doneTrainingCallback = options.doneTrainingCallback;\n\n    // inherit trainOpts settings from neuralNetwork\n    neuralNetwork.updateTrainingOptions(options);\n    const { trainOpts } = neuralNetwork;\n    this.iterations = trainOpts.iterations;\n    this.errorThresh = trainOpts.errorThresh;\n    this.log = trainOpts.log;\n    this.logPeriod = trainOpts.logPeriod;\n    this.callbackPeriod = trainOpts.callbackPeriod;\n    this.callback = trainOpts.callback;\n\n    this.on('finish', this.finishStreamIteration.bind(this));\n  }\n\n  endInputs() {\n    this.write(false);\n  }\n\n  /**\n   * _write expects data to be in the form of a datum. ie. {input: {a: 1 b: 0}, output: {z: 0}}\n   * @param chunk\n   * @param enc\n   * @param next\n   * @returns {*}\n   * @private\n   */\n  _write(chunk, enc, next) {\n    if (!chunk) {\n      // check for the end of one iteration of the stream\n      this.emit('finish');\n      return next();\n    }\n\n    if (!this.dataFormatDetermined) {\n      this.size++;\n      this.neuralNetwork.addFormat(chunk);\n      this.firstDatum = this.firstDatum || chunk;\n      return next();\n    }\n\n    this.count++;\n\n    const data = this.neuralNetwork.formatData(chunk);\n    this.sum += this.neuralNetwork.trainPattern(data[0], true);\n\n    // tell the Readable Stream that we are ready for more data\n    next();\n  }\n\n  /**\n   *\n   * @returns {*}\n   */\n  finishStreamIteration() {\n    if (this.dataFormatDetermined && this.size !== this.count) {\n      this.log(\"This iteration's data length was different from the first.\");\n    }\n\n    if (!this.dataFormatDetermined) {\n      const data = this.neuralNetwork.formatData(this.firstDatum);\n      this.neuralNetwork.verifyIsInitialized(data);\n      this.dataFormatDetermined = true;\n\n      if (typeof this.floodCallback === 'function') {\n        this.floodCallback();\n      }\n      return;\n    }\n\n    const error = this.sum / this.size;\n\n    if (this.log && this.i % this.logPeriod === 0) {\n      this.log(`iterations: ${this.i}, training error: ${error}`);\n    }\n    if (this.callback && this.i % this.callbackPeriod === 0) {\n      this.callback({\n        error,\n        iterations: this.i,\n      });\n    }\n\n    this.sum = 0;\n    this.count = 0;\n    // update the iterations\n    this.i++;\n\n    // do a check here to see if we need the stream again\n    if (this.i < this.iterations && error > this.errorThresh) {\n      if (typeof this.floodCallback === 'function') {\n        return this.floodCallback();\n      }\n    } else {\n      // done training\n      if (typeof this.doneTrainingCallback === 'function') {\n        return this.doneTrainingCallback({\n          error,\n          iterations: this.i,\n        });\n      }\n    }\n  }\n}\n\nmodule.exports = TrainStream;\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","const { Internal } = require('./types');\n// const zeros2D = require('../utilities/zeros-2d');\nconst { release } = require('../utilities/kernel');\n\nclass RecurrentConnection extends Internal {\n  setLayer(layer) {\n    this.layer = layer;\n  }\n\n  get width() {\n    return this.layer.width;\n  }\n\n  set width(value) {\n    throw new Error(`${this.constructor.name}-width is not yet implemented`);\n  }\n\n  get height() {\n    return this.layer.height;\n  }\n\n  set height(value) {\n    throw new Error(`${this.constructor.name}-height is not yet implemented`);\n  }\n\n  get deltas() {\n    return this.layer.deltas;\n  }\n\n  set deltas(deltas) {\n    release(this.layer.deltas);\n    this.layer.deltas = deltas;\n  }\n\n  get weights() {\n    return this.layer.weights;\n  }\n\n  set weights(weights) {\n    release(this.layer.weights);\n    this.layer.weights = weights;\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn() {\n    throw new Error('no longer using');\n  }\n\n  setupKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-setupKernels is not yet implemented`\n    // )\n  }\n\n  reuseKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-reuseKernels is not yet implemented`\n    // )\n  }\n}\n\nmodule.exports = {\n  RecurrentConnection,\n};\n","const { Internal } = require('./types');\nconst { Base } = require('./base');\nconst { release } = require('../utilities/kernel');\n// const zeros2D = require('../utilities/zeros-2d');\n\nclass RecurrentInput extends Internal {\n  constructor(recurrentInput) {\n    super();\n    this.recurrentInput = recurrentInput;\n    this.validate();\n  }\n\n  get width() {\n    return this.recurrentInput.width;\n  }\n\n  get height() {\n    return this.recurrentInput.height;\n  }\n\n  get deltas() {\n    return this.recurrentInput.deltas;\n  }\n\n  set deltas(deltas) {\n    const recurrentInputDeltas = this.recurrentInput.deltas;\n    this.recurrentInput.deltas = deltas;\n    release(recurrentInputDeltas);\n  }\n\n  get weights() {\n    return this.recurrentInput.weights;\n  }\n\n  set weights(weights) {\n    const recurrentInputWeights = this.recurrentInput.weights;\n    this.recurrentInput.weights = weights;\n    release(recurrentInputWeights);\n  }\n\n  validate() {\n    Base.prototype.validate.call(this);\n    if (this.width !== this.recurrentInput.width) {\n      throw new Error(\n        `${this.constructor.name} layer width ${this.width} and ${this.recurrentInput.constructor.name} width (${this.recurrentInput.width}) are not same`\n      );\n    }\n\n    if (this.height !== this.recurrentInput.height) {\n      throw new Error(\n        `${this.constructor.name} layer height ${this.height} and ${this.recurrentInput.constructor.name} width (${this.recurrentInput.height}) are not same`\n      );\n    }\n  }\n\n  setDimensions() {\n    throw new Error('should just listen');\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn() {\n    // throw new Error(`${this.constructor.name}-learn is not yet implemented`)\n  }\n\n  setupKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-setupKernels is not yet implemented`\n    // )\n  }\n\n  reuseKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-reuseKernels is not yet implemented`\n    // )\n  }\n}\n\nmodule.exports = {\n  RecurrentInput,\n};\n","const zeros2D = require('../utilities/zeros-2d');\nconst { Internal } = require('./types');\nconst { release, clear } = require('../utilities/kernel');\n\nclass RecurrentZeros extends Internal {\n  setDimensions(width, height) {\n    this.praxis = null;\n    this.width = width;\n    this.height = height;\n    this.weights = zeros2D(width, height);\n    this.deltas = zeros2D(width, height);\n  }\n\n  setupKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-setupKernels is not yet implemented`\n    // )\n  }\n\n  reuseKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-reuseKernels is not yet implemented`\n    // )\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn(previousLayer, nextLayer, learningRate) {\n    const { weights: oldWeights } = this;\n    this.weights = this.praxis.run(\n      this,\n      previousLayer,\n      nextLayer,\n      learningRate\n    );\n    // this.deltas = deltas;\n    release(oldWeights);\n    clear(this.deltas);\n  }\n\n  validate() {\n    throw new Error(`${this.constructor.name}-validate is not yet implemented`);\n  }\n\n  reset() {\n    throw new Error(`${this.constructor.name}-reset is not yet implemented`);\n  }\n}\n\nfunction recurrentZeros() {\n  return new RecurrentZeros();\n}\n\nmodule.exports = {\n  RecurrentZeros,\n  recurrentZeros,\n};\n","const { RecurrentConnection } = require('./layer/recurrent-connection');\nconst { RecurrentInput } = require('./layer/recurrent-input');\nconst { RecurrentZeros } = require('./layer/recurrent-zeros');\nconst { Model, InternalModel } = require('./layer/types');\n// const { Target } = require('./layer/target');\nconst flattenLayers = require('./utilities/flatten-layers');\nconst { FeedForward } = require('./feed-forward');\nconst { release, clone } = require('./utilities/kernel');\n\nclass Recurrent extends FeedForward {\n  static get structure() {\n    return {\n      /**\n       *\n       * _inputLayers are a 1 dimensional array of input layers defined once\n       * @type Object[]\n       * @private\n       */\n      _inputLayers: null,\n\n      /**\n       * _hiddenLayers are a 1 dimensional array of hidden layers defined from results from settings.hiddenLayers\n       * @type Object[]\n       * @private\n       */\n      _hiddenLayers: null,\n\n      /**\n       * _hiddenLayerSets are a 2 dimensional array of hidden layers defined for each recursion\n       * @type Object[][]\n       * @private\n       */\n      _hiddenLayerSets: null,\n\n      /**\n       * a 2 dimensional array of layers defined for each recursion\n       */\n      _layerSets: null,\n      _hiddenLayerOutputIndices: null,\n\n      /**\n       * _outputLayers are a 1 dimensional array of output layers defined once\n       * @type Object[]\n       * @private\n       */\n      _outputLayers: null,\n      _outputConnection: null,\n      _previousInputs: null,\n      _model: null,\n      _recurrentIndices: null,\n    };\n  }\n\n  _connectLayers() {\n    const inputLayer = this.inputLayer();\n    const hiddenLayers = this._connectHiddenLayers(inputLayer);\n    const outputLayer = this.outputLayer(hiddenLayers[hiddenLayers.length - 1]);\n    return {\n      inputLayer,\n      hiddenLayers,\n      outputLayer,\n    };\n  }\n\n  _connectLayersDeep() {\n    const layers = [];\n    const previousLayers = this._layerSets[this._layerSets.length - 1];\n    let usedHiddenLayerOutputIndex = 0;\n\n    function findInputLayer(inputLayer) {\n      const index = previousLayers.indexOf(inputLayer);\n      if (index < 0) throw new Error('unable to find layer');\n      return layers[index];\n    }\n\n    function layerSettings(layer) {\n      return {\n        ...layer,\n        weights: null,\n        deltas: null,\n        errors: null,\n        praxis: null,\n      };\n    }\n\n    for (let i = 0; i < previousLayers.length; i++) {\n      const previousLayer = previousLayers[i];\n      let layer = null;\n      switch (Object.getPrototypeOf(previousLayer.constructor).name) {\n        case 'Activation': {\n          layer = new previousLayer.constructor(\n            findInputLayer(previousLayer.inputLayer)\n          );\n          break;\n        }\n        case 'EntryPoint': {\n          layer = new previousLayer.constructor(layerSettings(previousLayer));\n          break;\n        }\n        case 'Filter': {\n          layer = new previousLayer.constructor(\n            layerSettings(previousLayer.inputLayer),\n            findInputLayer(previousLayer.inputLayer)\n          );\n          break;\n        }\n        case 'Internal': {\n          const previousHiddenLayerOutput =\n            previousLayers[\n              this._hiddenLayerOutputIndices[usedHiddenLayerOutputIndex++]\n            ];\n          switch (previousLayer.constructor.name) {\n            case 'RecurrentConnection':\n              throw new Error('unfinished');\n            case 'RecurrentInput':\n              layer = new RecurrentInput(previousHiddenLayerOutput);\n              break;\n            case 'RecurrentZeros':\n            default:\n              layer = new RecurrentInput(previousHiddenLayerOutput);\n              break;\n          }\n          break;\n        }\n        case 'InternalModel':\n        case 'Model': {\n          layer = previousLayer;\n          break;\n        }\n        case 'Modifier': {\n          layer = new previousLayer.constructor(\n            findInputLayer(previousLayer.inputLayer)\n          );\n          break;\n        }\n        case 'Operator': {\n          layer = new previousLayer.constructor(\n            findInputLayer(previousLayer.inputLayer1),\n            findInputLayer(previousLayer.inputLayer2),\n            layerSettings(previousLayer)\n          );\n          break;\n        }\n        default:\n          throw new Error(\n            `hidden layer ${\n              previousLayer.constructor.name\n            } extends unknown hidden layer ${\n              Object.getPrototypeOf(previousLayer.constructor).name\n            }`\n          );\n      }\n      layers.push(layer);\n    }\n\n    return layers;\n  }\n\n  _connectHiddenLayers(previousLayer) {\n    const hiddenLayers = [];\n    for (let i = 0; i < this.hiddenLayers.length; i++) {\n      const recurrentInput = new RecurrentZeros();\n      const hiddenLayer = this.hiddenLayers[i](\n        previousLayer,\n        recurrentInput,\n        i\n      );\n      previousLayer = hiddenLayer;\n      hiddenLayers.push(hiddenLayer);\n    }\n    return hiddenLayers;\n  }\n\n  initialize() {\n    this.layers = [];\n    this._outputConnection = new RecurrentConnection();\n    const { inputLayer, hiddenLayers, outputLayer } = this._connectLayers();\n    const layerSet = flattenLayers([inputLayer, ...hiddenLayers, outputLayer]);\n    this._hiddenLayerOutputIndices = hiddenLayers.map((l) =>\n      layerSet.indexOf(l)\n    );\n    this._layerSets = [layerSet];\n    this._model = layerSet.filter(\n      (l) => l instanceof Model || l instanceof InternalModel\n    );\n    this.initializeLayers(layerSet);\n  }\n\n  initializeDeep() {\n    const layers = this._connectLayersDeep();\n    for (let i = 0; i < layers.length; i++) {\n      const layer = layers[i];\n      layer.reuseKernels(this._layerSets[0][i]);\n    }\n    this._layerSets.push(layers);\n  }\n\n  run(input) {\n    while (this._layerSets.length <= input.length) {\n      this.initializeDeep();\n    }\n    return super.run(input);\n  }\n\n  runInput(input) {\n    while (this._layerSets.length < input.length) {\n      this.initializeDeep();\n    }\n    const max = input.length - 1; // last output will be compared with last index\n    for (let x = 0; x <= max; x++) {\n      const layerSet = this._layerSets[x];\n      layerSet[0].predict([new Float32Array([input[x]])]);\n      for (let i = 1; i < layerSet.length; i++) {\n        layerSet[i].predict();\n      }\n    }\n    const lastLayerUsed = this._layerSets[max];\n    const result = lastLayerUsed[lastLayerUsed.length - 1].weights;\n    this.end();\n    return result;\n  }\n\n  end() {\n    const x = this._layerSets.length - 1;\n    const lastLayerSet = this._layerSets[x];\n    lastLayerSet[0].predict([new Float32Array([0])]);\n    for (let i = 1; i < lastLayerSet.length; i++) {\n      lastLayerSet[i].predict();\n    }\n  }\n\n  transferData(formattedData) {\n    return formattedData;\n  }\n\n  _prepTraining(data, options) {\n    const stats = super._prepTraining(data, options);\n\n    this.verifyIsInitialized(data);\n\n    return stats;\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {Number} error\n   */\n  _calculateTrainingError(data) {\n    let sum = new Float32Array(1);\n    for (let i = 0; i < data.length; ++i) {\n      const prevSum = sum;\n      const error = this._trainPattern(data[i], true);\n      sum = this.meanSquaredError.add(sum, error);\n      release(error);\n      release(prevSum);\n    }\n    const result = this.meanSquaredError.divide(data.length, sum);\n    release(sum);\n    if (result.toArray) {\n      const resultArray = result.toArray();\n      return resultArray[0];\n    }\n    return result[0];\n  }\n\n  formatData(data) {\n    return data;\n  }\n\n  _calculateDeltas(target) {\n    const lastLayerSet = this._layerSets[this._layerSets.length - 1];\n    // Iterate from the second to last layer backwards, propagating 0's\n    for (let i = lastLayerSet.length - 2; i >= 0; i--) {\n      lastLayerSet[i].compare();\n    }\n\n    for (let x = target.length - 2; x >= 0; x--) {\n      const layerSet = this._layerSets[x];\n      layerSet[layerSet.length - 1].compare(new Float32Array([target[x + 1]]));\n      for (let i = layerSet.length - 2; i >= 0; i--) {\n        layerSet[i].compare();\n      }\n    }\n  }\n\n  adjustWeights() {\n    const { _model } = this;\n    for (let i = 0; i < _model.length; i++) {\n      _model[i].learn();\n    }\n  }\n\n  /**\n   * @param data\n   * @private\n   */\n  _trainPatterns(data) {\n    for (let i = 0; i < data.length; ++i) {\n      this._trainPattern(data[i], false);\n    }\n  }\n\n  /**\n   *\n   * @param {number[]} input\n   * @param {Boolean} [logErrorRate]\n   */\n  _trainPattern(input, logErrorRate) {\n    // forward propagate\n    this.runInput(input);\n\n    // back propagate\n    this._calculateDeltas(input);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      const { meanSquaredError } = this;\n      let error = new Float32Array(1);\n      for (let i = 0, max = input.length - 1; i < max; i++) {\n        const layerSet = this._layerSets[i];\n        const lastLayer = layerSet[layerSet.length - 1];\n        const prevError = error;\n        error = meanSquaredError.addAbsolute(prevError, lastLayer.errors);\n        release(prevError);\n      }\n      return clone(meanSquaredError.divide(input.length, error));\n    }\n    return null;\n  }\n}\n\nmodule.exports = {\n  Recurrent,\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","const zeros = require('../../utilities/zeros');\n\n/**\n * A matrix\n * @param {Number} [rows]\n * @param {Number} [columns]\n * @constructor\n */\nclass Matrix {\n  constructor(rows, columns) {\n    if (rows === undefined) return;\n    if (columns === undefined) return;\n\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = zeros(rows * columns);\n    this.deltas = zeros(rows * columns);\n  }\n\n  /**\n   *\n   * @param {Number} row\n   * @param {Number} col\n   * @returns {Float32Array|Array}\n   */\n  getWeights(row, col) {\n    // slow but careful accessor function\n    // we want row-major order\n    const ix = this.columns * row + col;\n    if (ix < 0 && ix >= this.weights.length)\n      throw new Error('get accessor is skewed');\n    return this.weights[ix];\n  }\n\n  /**\n   *\n   * @param {Number} row\n   * @param {Number} col\n   * @param v\n   * @returns {Matrix}\n   */\n  setWeight(row, col, v) {\n    // slow but careful accessor function\n    const ix = this.columns * row + col;\n    if (ix < 0 && ix >= this.weights.length)\n      throw new Error('set accessor is skewed');\n    this.weights[ix] = v;\n  }\n\n  /**\n   *\n   * @param {Number} row\n   * @param {Number} col\n   * @param v\n   * @returns {Matrix}\n   */\n  setDeltas(row, col, v) {\n    // slow but careful accessor function\n    const ix = this.columns * row + col;\n    if (ix < 0 && ix >= this.weights.length)\n      throw new Error('set accessor is skewed');\n    this.deltas[ix] = v;\n  }\n\n  /**\n   *\n   * @returns {{rows: *, columns: *, weights: Array}}\n   */\n  toJSON() {\n    return {\n      rows: this.rows,\n      columns: this.columns,\n      weights: this.weights.slice(0),\n    };\n  }\n\n  static fromJSON(json) {\n    const matrix = new Matrix(json.rows, json.columns);\n    for (let i = 0, max = json.rows * json.columns; i < max; i++) {\n      matrix.weights[i] = json.weights[i]; // copy over weights\n    }\n    return matrix;\n  }\n\n  /**\n   *\n   * @param weightRows\n   * @param [deltasRows]\n   * @returns {Matrix}\n   */\n  static fromArray(weightRows, deltasRows) {\n    const rows = weightRows.length;\n    const columns = weightRows[0].length;\n    const m = new Matrix(rows, columns);\n\n    deltasRows = deltasRows || weightRows;\n\n    for (let rowIndex = 0; rowIndex < rows; rowIndex++) {\n      const weightValues = weightRows[rowIndex];\n      const deltasValues = deltasRows[rowIndex];\n      for (let columnIndex = 0; columnIndex < columns; columnIndex++) {\n        m.setWeight(rowIndex, columnIndex, weightValues[columnIndex]);\n        m.setDeltas(rowIndex, columnIndex, deltasValues[columnIndex]);\n      }\n    }\n\n    return m;\n  }\n\n  weightsToArray() {\n    const deltas = [];\n    let row = 0;\n    let column = 0;\n    for (let i = 0; i < this.weights.length; i++) {\n      if (column === 0) {\n        deltas.push([]);\n      }\n      deltas[row].push(this.weights[i]);\n      column++;\n      if (column >= this.columns) {\n        column = 0;\n        row++;\n      }\n    }\n    return deltas;\n  }\n\n  deltasToArray() {\n    const deltas = [];\n    let row = 0;\n    let column = 0;\n    for (let i = 0; i < this.deltas.length; i++) {\n      if (column === 0) {\n        deltas.push([]);\n      }\n      deltas[row].push(this.deltas[i]);\n      column++;\n      if (column >= this.columns) {\n        column = 0;\n        row++;\n      }\n    }\n    return deltas;\n  }\n}\n\nmodule.exports = Matrix;\n","const Matrix = require('.');\nconst { randomFloat } = require('../../utilities/random');\n\n/** return Matrix but filled with random numbers from gaussian\n * @param {Number} [rows]\n * @param {Number} [columns]\n * @param std\n * @constructor\n */\nclass RandomMatrix extends Matrix {\n  constructor(rows, columns, std) {\n    super(rows, columns);\n    this.rows = rows;\n    this.columns = columns;\n    this.std = std;\n    for (let i = 0, max = this.weights.length; i < max; i++) {\n      this.weights[i] = randomFloat(-std, std);\n    }\n  }\n}\n\nmodule.exports = RandomMatrix;\n","var $ = require('../internals/export');\n\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\n// `Math.log2` method\n// https://tc39.github.io/ecma262/#sec-math.log2\n$({ target: 'Math', stat: true }, {\n  log2: function log2(x) {\n    return log(x) / LN2;\n  }\n});\n","/**\n *\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function cloneNegative(product, left) {\n  product.rows = parseInt(left.rows, 10);\n  product.columns = parseInt(left.columns, 10);\n  product.weights = left.weights.slice(0);\n  product.deltas = left.deltas.slice(0);\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = -left.weights[i];\n    product.deltas[i] = 0;\n  }\n};\n","/**\n * add {left} and {right} matrix weights into {into}\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function add(product, left, right) {\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = left.weights[i] + right.weights[i];\n    product.deltas[i] = 0;\n  }\n};\n","/**\n * adds {from} deltas to {left} and {right} deltas\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function addB(product, left, right) {\n  for (let i = 0; i < product.deltas.length; i++) {\n    left.deltas[i] = product.deltas[i];\n    right.deltas[i] = product.deltas[i];\n  }\n};\n","/**\n * makes matrix weights and deltas all ones\n * @param {Matrix} product\n */\nmodule.exports = function allOnes(product) {\n  for (let i = 0; i < product.weights.length; i++) {\n    product.weights[i] = 1;\n    product.deltas[i] = 0;\n  }\n};\n","/**\n * multiply {left} and {right} matrix weights to {into}\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function multiply(product, left, right) {\n  const leftRows = left.rows;\n  const leftColumns = left.columns;\n  const rightColumns = right.columns;\n\n  // loop over rows of left\n  for (let leftRow = 0; leftRow < leftRows; leftRow++) {\n    const leftRowBase = leftColumns * leftRow;\n    const rightRowBase = rightColumns * leftRow;\n    // loop over cols of right\n    for (let rightColumn = 0; rightColumn < rightColumns; rightColumn++) {\n      // dot product loop\n      let dot = 0;\n      // loop over columns of left\n      for (let leftColumn = 0; leftColumn < leftColumns; leftColumn++) {\n        const rightColumnBase = rightColumns * leftColumn;\n        const leftIndex = leftRowBase + leftColumn;\n        const rightIndex = rightColumnBase + rightColumn;\n        dot += left.weights[leftIndex] * right.weights[rightIndex];\n        left.deltas[leftIndex] = 0;\n        right.deltas[rightIndex] = 0;\n      }\n      product.weights[rightRowBase + rightColumn] = dot;\n    }\n  }\n};\n","/**\n * multiplies {from} deltas to {left} and {right}\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function multiplyB(product, left, right) {\n  const leftRows = left.rows;\n  const leftColumns = left.columns;\n  const rightColumns = right.columns;\n\n  // loop over rows of left\n  for (let leftRowRoot = 0; leftRowRoot < leftRows; leftRowRoot++) {\n    const leftRowBase = leftColumns * leftRowRoot;\n    const rightRowBase = rightColumns * leftRowRoot;\n    // loop over cols of right\n    for (let rightColumn = 0; rightColumn < rightColumns; rightColumn++) {\n      // loop over columns of left\n      for (let leftColumn = 0; leftColumn < leftColumns; leftColumn++) {\n        const rightColumnBase = rightColumns * leftColumn;\n        const leftRow = leftRowBase + leftColumn;\n        const rightRow = rightColumnBase + rightColumn;\n        const backPropagateValue = product.deltas[rightRowBase + rightColumn];\n        left.deltas[leftRow] += right.weights[rightRow] * backPropagateValue;\n        right.deltas[rightRow] += left.weights[leftRow] * backPropagateValue;\n      }\n    }\n  }\n};\n","/**\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function multiplyElement(product, left, right) {\n  const { weights } = left;\n  for (let i = 0; i < weights.length; i++) {\n    product.weights[i] = left.weights[i] * right.weights[i];\n    product.deltas[i] = 0;\n  }\n};\n","/**\n * multiplies {left} and {right} weight by {from} deltas into {left} and {right} deltas\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function multiplyElementB(product, left, right) {\n  for (let i = 0; i < left.weights.length; i++) {\n    left.deltas[i] = right.weights[i] * product.deltas[i];\n    right.deltas[i] = left.weights[i] * product.deltas[i];\n  }\n};\n","/**\n *\n * relu {m} weights to {into} weights\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function relu(product, left) {\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = Math.max(0, left.weights[i]); // relu\n    product.deltas[i] = 0;\n  }\n};\n","/**\n * adds {from} deltas to {m} deltas when {m} weights are above other a threshold of 0\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function reluB(product, left) {\n  for (let i = 0; i < product.deltas.length; i++) {\n    left.deltas[i] = left.weights[i] > 0 ? product.deltas[i] : 0;\n  }\n};\n","/**\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Number} rowPluckIndex\n */\nmodule.exports = function rowPluck(product, left, rowPluckIndex) {\n  const { columns } = left;\n  const rowBase = columns * rowPluckIndex;\n  for (let column = 0; column < columns; column++) {\n    product.weights[column] = left.weights[rowBase + column];\n    product.deltas[column] = 0;\n  }\n};\n","/**\n * adds {from} deltas into {m} deltas\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Number} rowIndex\n */\nmodule.exports = function rowPluckB(product, left, rowIndex) {\n  const { columns } = left;\n  const rowBase = columns * rowIndex;\n  for (let column = 0; column < columns; column++) {\n    left.deltas[rowBase + column] = product.deltas[column];\n  }\n};\n","/**\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function sigmoid(product, left) {\n  // sigmoid nonlinearity\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = 1 / (1 + Math.exp(-left.weights[i]));\n    product.deltas[i] = 0;\n  }\n};\n\n// function sig(x) {\n//   // helper function for computing sigmoid\n//   return 1 / (1 + Math.exp(-x));\n// }\n","/**\n *\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function sigmoidB(product, left) {\n  for (let i = 0; i < product.deltas.length; i++) {\n    const mwi = product.weights[i];\n    left.deltas[i] = mwi * (1 - mwi) * product.deltas[i];\n  }\n};\n","/**\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function tanh(product, left) {\n  // tanh nonlinearity\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = Math.tanh(left.weights[i]);\n    product.deltas[i] = 0;\n  }\n};\n","/**\n *\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function tanhB(product, left) {\n  for (let i = 0; i < product.deltas.length; i++) {\n    // grad for z = tanh(x) is (1 - z^2)\n    const mwi = product.weights[i];\n    left.deltas[i] = (1 - mwi * mwi) * product.deltas[i];\n  }\n};\n","const Matrix = require('.');\n\n/**\n *\n * @param {Matrix} m\n * @returns {Matrix}\n */\nmodule.exports = function softmax(m) {\n  const result = new Matrix(m.rows, m.columns); // probability volume\n  let maxVal = -999999;\n  for (let i = 0; i < m.weights.length; i++) {\n    if (m.weights[i] > maxVal) {\n      maxVal = m.weights[i];\n    }\n  }\n\n  let s = 0;\n  for (let i = 0; i < m.weights.length; i++) {\n    result.weights[i] = Math.exp(m.weights[i] - maxVal);\n    s += result.weights[i];\n  }\n\n  for (let i = 0; i < m.weights.length; i++) {\n    result.weights[i] /= s;\n  }\n\n  // no backward pass here needed\n  // since we will use the computed probabilities outside\n  // to set gradients directly on m\n  return result;\n};\n","const Matrix = require('./');\n// const OnesMatrix = require('./ones-matrix');\n// const copy = require('./copy');\nconst cloneNegative = require('./clone-negative');\nconst add = require('./add');\nconst addB = require('./add-b');\nconst allOnes = require('./all-ones');\nconst multiply = require('./multiply');\nconst multiplyB = require('./multiply-b');\nconst multiplyElement = require('./multiply-element');\nconst multiplyElementB = require('./multiply-element-b');\nconst relu = require('./relu');\nconst reluB = require('./relu-b');\nconst rowPluck = require('./row-pluck');\nconst rowPluckB = require('./row-pluck-b');\nconst sigmoid = require('./sigmoid');\nconst sigmoidB = require('./sigmoid-b');\nconst tanh = require('./tanh');\nconst tanhB = require('./tanh-b');\nconst softmax = require('./softmax');\n\nclass Equation {\n  constructor() {\n    this.inputRow = 0;\n    this.inputValue = null;\n    this.states = [];\n  }\n\n  /**\n   * connects two matrices together by add\n   * @param {Matrix} left\n   * @param {Matrix} right\n   * @returns {Matrix}\n   */\n  add(left, right) {\n    if (left.weights.length !== right.weights.length) {\n      throw new Error('misaligned matrices');\n    }\n    const product = new Matrix(left.rows, left.columns);\n    this.states.push({\n      left,\n      right,\n      product,\n      forwardFn: add,\n      backpropagationFn: addB,\n    });\n    return product;\n  }\n\n  /**\n   *\n   * @param {Number} rows\n   * @param {Number} columns\n   * @returns {Matrix}\n   */\n  allOnes(rows, columns) {\n    const product = new Matrix(rows, columns);\n    this.states.push({\n      left: product,\n      product,\n      forwardFn: allOnes,\n    });\n    return product;\n  }\n\n  /**\n   *\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  cloneNegative(m) {\n    const product = new Matrix(m.rows, m.columns);\n    this.states.push({\n      left: m,\n      product,\n      forwardFn: cloneNegative,\n    });\n    return product;\n  }\n\n  /**\n   * connects two matrices together by subtract\n   * @param {Matrix} left\n   * @param {Matrix} right\n   * @returns {Matrix}\n   */\n  subtract(left, right) {\n    if (left.weights.length !== right.weights.length) {\n      throw new Error('misaligned matrices');\n    }\n    return this.add(\n      this.add(this.allOnes(left.rows, left.columns), this.cloneNegative(left)),\n      right\n    );\n  }\n\n  /**\n   * connects two matrices together by multiply\n   * @param {Matrix} left\n   * @param {Matrix} right\n   * @returns {Matrix}\n   */\n  multiply(left, right) {\n    if (left.columns !== right.rows) {\n      throw new Error('misaligned matrices');\n    }\n    const product = new Matrix(left.rows, right.columns);\n    this.states.push({\n      left,\n      right,\n      product,\n      forwardFn: multiply,\n      backpropagationFn: multiplyB,\n    });\n    return product;\n  }\n\n  /**\n   * connects two matrices together by multiplyElement\n   * @param {Matrix} left\n   * @param {Matrix} right\n   * @returns {Matrix}\n   */\n  multiplyElement(left, right) {\n    if (left.weights.length !== right.weights.length) {\n      throw new Error('misaligned matrices');\n    }\n    const product = new Matrix(left.rows, left.columns);\n    this.states.push({\n      left,\n      right,\n      product,\n      forwardFn: multiplyElement,\n      backpropagationFn: multiplyElementB,\n    });\n    return product;\n  }\n\n  /**\n   * connects a matrix to relu\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  relu(m) {\n    const product = new Matrix(m.rows, m.columns);\n    this.states.push({\n      left: m,\n      product,\n      forwardFn: relu,\n      backpropagationFn: reluB,\n    });\n    return product;\n  }\n\n  /**\n   * copy a matrix\n   * @param {Matrix} input\n   * @returns {Matrix}\n   */\n  input(input) {\n    this.states.push({\n      product: input,\n      forwardFn: (product) => {\n        product.weights = input.weights = this.inputValue;\n      },\n    });\n    return input;\n  }\n\n  /**\n   * connects a matrix via a row\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  inputMatrixToRow(m) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const self = this;\n    const product = new Matrix(m.columns, 1);\n    this.states.push({\n      left: m,\n      get right() {\n        return self.inputRow;\n      },\n      product,\n      forwardFn: rowPluck,\n      backpropagationFn: rowPluckB,\n    });\n    return product;\n  }\n\n  /**\n   * connects a matrix to sigmoid\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  sigmoid(m) {\n    const product = new Matrix(m.rows, m.columns);\n    this.states.push({\n      left: m,\n      product,\n      forwardFn: sigmoid,\n      backpropagationFn: sigmoidB,\n    });\n    return product;\n  }\n\n  /**\n   * connects a matrix to tanh\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  tanh(m) {\n    const product = new Matrix(m.rows, m.columns);\n    this.states.push({\n      left: m,\n      product,\n      forwardFn: tanh,\n      backpropagationFn: tanhB,\n    });\n    return product;\n  }\n\n  /**\n   *\n   * @param m\n   * @returns {Matrix}\n   */\n  observe(m) {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    let iForward = 0;\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    let iBackpropagate = 0;\n    this.states.push({\n      forwardFn() {\n        iForward++;\n      },\n      backpropagationFn() {\n        iBackpropagate++;\n      },\n    });\n    return m;\n  }\n\n  /**\n   * @patam {Number} [rowIndex]\n   * @output {Matrix}\n   */\n  runIndex(rowIndex = 0) {\n    this.inputRow = rowIndex;\n    let state;\n    for (let i = 0, max = this.states.length; i < max; i++) {\n      state = this.states[i];\n      if (!state.hasOwnProperty('forwardFn')) {\n        continue;\n      }\n      state.forwardFn(state.product, state.left, state.right);\n    }\n\n    return state.product;\n  }\n\n  /**\n   * @patam {Number} [rowIndex]\n   * @output {Matrix}\n   */\n  runInput(inputValue) {\n    this.inputValue = inputValue;\n    let state;\n    for (let i = 0, max = this.states.length; i < max; i++) {\n      state = this.states[i];\n      if (!state.hasOwnProperty('forwardFn')) {\n        continue;\n      }\n      state.forwardFn(state.product, state.left, state.right);\n    }\n\n    return state.product;\n  }\n\n  /**\n   * @patam {Number} [rowIndex]\n   * @output {Matrix}\n   */\n  backpropagate() {\n    let i = this.states.length;\n    let state;\n    while (i-- > 0) {\n      state = this.states[i];\n      if (!state.hasOwnProperty('backpropagationFn')) {\n        continue;\n      }\n      // console.log('backfn', state.backpropagationFn.name);\n      // console.log('before', state.product.deltas);\n      state.backpropagationFn(state.product, state.left, state.right);\n      // console.log('after', state.product.deltas);\n    }\n\n    return state.product;\n  }\n\n  /**\n   * @patam {Number} [rowIndex]\n   * @output {Matrix}\n   */\n  backpropagateIndex(rowIndex = 0) {\n    this.inputRow = rowIndex;\n\n    let i = this.states.length;\n    let state;\n    while (i-- > 0) {\n      state = this.states[i];\n      if (!state.hasOwnProperty('backpropagationFn')) {\n        continue;\n      }\n      state.backpropagationFn(state.product, state.left, state.right);\n    }\n\n    return state.product;\n  }\n\n  predictTarget(input, target) {\n    const output = this.runInput(input);\n    let errorSum = 0;\n    for (let i = 0; i < output.weights.length; i++) {\n      const error = output.weights[i] - target[i];\n      // set gradients into log probabilities\n      errorSum += Math.abs(error);\n      // write gradients into log probabilities\n      output.deltas[i] = error;\n    }\n    return errorSum;\n  }\n\n  predictTargetIndex(input, target) {\n    const output = this.runIndex(input);\n    // set gradients into log probabilities\n    const logProbabilities = output; // interpret output as log probabilities\n    const probabilities = softmax(output); // compute the softmax probabilities\n\n    // write gradients into log probabilities\n    logProbabilities.deltas = probabilities.weights.slice(0);\n    logProbabilities.deltas[target] -= 1;\n\n    // accumulate base 2 log prob and do smoothing\n    return -Math.log2(probabilities.weights[target]);\n  }\n}\n\nmodule.exports = Equation;\n","const { randomFloat } = require('../../utilities/random');\n\n/**\n *\n * @param {Matrix} m\n * @returns {number}\n */\nmodule.exports = function sampleI(m) {\n  // sample argmax from w, assuming w are\n  // probabilities that sum to one\n  const r = randomFloat(0, 1);\n  let x = 0;\n  let i = 0;\n  const w = m.weights;\n\n  while (true) {\n    x += w[i];\n    if (x > r) {\n      return i;\n    }\n    i++;\n  }\n};\n","/**\n *\n * @param {Matrix} m\n * @returns {number}\n */\nmodule.exports = function maxI(m) {\n  // argmax of array w\n  const { weights } = m;\n  let maxv = weights[0];\n  let maxix = 0;\n  for (let i = 1; i < weights.length; i++) {\n    const v = weights[i];\n    if (v < maxv) continue;\n\n    maxix = i;\n    maxv = v;\n  }\n  return maxix;\n};\n","/*\n *\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function copy(product, left) {\n  product.rows = parseInt(left.rows, 10);\n  product.columns = parseInt(left.columns, 10);\n  product.weights = left.weights.slice(0);\n  product.deltas = left.deltas.slice(0);\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.github.io/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","/**\n *\n * @param {String[]|Number[]} values\n * @param maxThreshold\n * @constructor\n */\nclass DataFormatter {\n  constructor(values, maxThreshold = 0) {\n    if (values === undefined) return;\n\n    this.values = values;\n    // go over all characters and keep track of all unique ones seen\n    // count up all characters\n    this.indexTable = {};\n    this.characterTable = {};\n    this.characters = [];\n    this.specialIndexes = [];\n    this.buildCharactersFromIterable(values);\n    this.buildTables(maxThreshold);\n  }\n\n  buildCharactersFromIterable(values) {\n    const tempCharactersTable = {};\n    for (\n      let dataFormatterIndex = 0, dataFormatterLength = values.length;\n      dataFormatterIndex < dataFormatterLength;\n      dataFormatterIndex++\n    ) {\n      const characters = values[dataFormatterIndex];\n\n      if (characters.hasOwnProperty('length')) {\n        for (\n          let characterIndex = 0, charactersLength = characters.length;\n          characterIndex < charactersLength;\n          characterIndex++\n        ) {\n          const character = characters[characterIndex];\n          if (tempCharactersTable.hasOwnProperty(character)) continue;\n          tempCharactersTable[character] = true;\n          this.characters.push(character);\n        }\n      } else {\n        const character = values[dataFormatterIndex];\n        if (tempCharactersTable.hasOwnProperty(character)) continue;\n        tempCharactersTable[dataFormatterIndex] = true;\n        this.characters.push(character);\n      }\n    }\n  }\n\n  buildTables(maxThreshold) {\n    // filter by count threshold and create pointers\n    const charactersLength = this.characters.length;\n    for (\n      let characterIndex = 0;\n      characterIndex < charactersLength;\n      characterIndex++\n    ) {\n      const character = this.characters[characterIndex];\n      if (characterIndex >= maxThreshold) {\n        // add character to dataFormatter\n        this.indexTable[character] = characterIndex;\n        this.characterTable[characterIndex] = character;\n      }\n    }\n  }\n\n  toIndexes(value, maxThreshold = 0) {\n    const result = [];\n    const { indexTable } = this;\n\n    for (let i = 0, max = value.length; i < max; i++) {\n      const character = value[i];\n      let index = indexTable[character];\n      if (index === undefined) {\n        if (indexTable.unrecognized) {\n          index = indexTable.unrecognized;\n        } else {\n          throw new Error(`unrecognized character \"${character}\"`);\n        }\n      }\n      if (index < maxThreshold) continue;\n      result.push(index);\n    }\n    return result;\n  }\n\n  toIndexesInputOutput(value1, value2 = null, maxThreshold = 0) {\n    let result = null;\n    if (typeof value1 === 'string') {\n      result = this.toIndexes(\n        value1.split('').concat(['stop-input', 'start-output']),\n        maxThreshold\n      );\n    } else if (typeof value1 === 'number') {\n      result = this.toIndexes(\n        value1.toString().split('').concat(['stop-input', 'start-output']),\n        maxThreshold\n      );\n    } else {\n      result = this.toIndexes(\n        value1.concat(['stop-input', 'start-output']),\n        maxThreshold\n      );\n    }\n\n    if (value2 === null) return result;\n\n    if (typeof value2 === 'string') {\n      return result.concat(this.toIndexes(value2.split(''), maxThreshold));\n    } else {\n      return result.concat(this.toIndexes(value2, maxThreshold));\n    }\n  }\n\n  toCharacters(indices, maxThreshold = 0) {\n    const result = [];\n    const { indexTable, characterTable } = this;\n\n    for (let i = 0, max = indices.length; i < max; i++) {\n      const index = indices[i];\n      if (index < maxThreshold) continue;\n      let character = characterTable[index];\n      if (character === undefined) {\n        if (indexTable.unrecognized) {\n          character = characterTable[indexTable.unrecognized];\n        } else {\n          throw new Error(`unrecognized index \"${index}\"`);\n        }\n      } else if (character !== null) {\n        result.push(character);\n      }\n    }\n\n    return result;\n  }\n\n  toString(indices, maxThreshold) {\n    return this.toCharacters(indices, maxThreshold).join('');\n  }\n\n  addInputOutput() {\n    this.addSpecial('stop-input');\n    this.addSpecial('start-output');\n  }\n\n  addUnrecognized() {\n    this.addSpecial('unrecognized');\n  }\n\n  static fromAllPrintable(maxThreshold, values = ['\\n']) {\n    for (let i = 32; i <= 126; i++) {\n      values.push(String.fromCharCode(i));\n    }\n    return new DataFormatter(values, maxThreshold);\n  }\n\n  static fromAllPrintableInputOutput(maxThreshold, values = ['\\n']) {\n    const dataFormatter = DataFormatter.fromAllPrintable(maxThreshold, values);\n    dataFormatter.addInputOutput();\n    return dataFormatter;\n  }\n\n  static fromStringInputOutput(string, maxThreshold) {\n    const values = String.prototype.concat(...new Set(string));\n    const dataFormatter = new DataFormatter(values, maxThreshold);\n    dataFormatter.addInputOutput();\n    return dataFormatter;\n  }\n\n  static fromArrayInputOutput(array, maxThreshold) {\n    const dataFormatter = new DataFormatter(\n      array.filter((v, i, a) => a.indexOf(v) === i),\n      maxThreshold\n    );\n    dataFormatter.addInputOutput();\n    return dataFormatter;\n  }\n\n  static fromString(string, maxThreshold) {\n    const values = String.prototype.concat(...new Set(string));\n    return new DataFormatter(values, maxThreshold);\n  }\n\n  static fromJSON(json) {\n    const dataFormatter = new DataFormatter();\n    dataFormatter.indexTable = json.indexTable;\n    dataFormatter.characterTable = json.characterTable;\n    dataFormatter.values = json.values;\n    dataFormatter.characters = json.characters;\n    dataFormatter.specialIndexes = json.specialIndexes;\n    return dataFormatter;\n  }\n\n  addSpecial(special, character = null) {\n    const specialIndex = (this.indexTable[special] = this.characters.length);\n    this.characterTable[specialIndex] = character;\n    this.specialIndexes.push(this.characters.length);\n    this.characters.push(special);\n  }\n\n  countSpecial(output) {\n    let sum = 0;\n    for (let i = 0; i < this.specialIndexes; i++) {\n      let index = -1;\n      while ((index = output.indexOf(this.specialIndexes[i], index) > -1)) {\n        sum++;\n      }\n    }\n    return sum;\n  }\n\n  toFunctionString() {\n    return `\nvar characterTable = ${JSON.stringify(this.characterTable)};\nvar indexTable = ${JSON.stringify(this.indexTable)};\nvar characters = ${JSON.stringify(this.characters)};\nvar dataFormatter = {\n  ${this.toIndexes.toString()},\n  ${this.toIndexesInputOutput.toString()},\n  ${this.toCharacters.toString()}\n};`;\n  }\n}\n\nfunction validateAndCast(value) {\n  if (typeof value === 'string') return value;\n  if (typeof value === 'number') return value.toString();\n  if (typeof value[0] === 'string') return value;\n  if (typeof value[0] === 'number') {\n    return value.map((value) => value.toString());\n  }\n  throw new Error(\n    'unrecognized value, expected string[], string, number[], or number'\n  );\n}\n\n/**\n *\n * @param {*[]} data\n * @returns {Number[]}\n */\nfunction defaultRNNFormatter(data) {\n  if (\n    typeof data[0] !== 'string' &&\n    !Array.isArray(data[0]) &&\n    (!data[0].hasOwnProperty('input') || !data[0].hasOwnProperty('output'))\n  ) {\n    return data;\n  }\n  const values = [];\n  const result = [];\n  if (\n    typeof data[0] === 'string' ||\n    typeof data[0] === 'number' ||\n    Array.isArray(data[0])\n  ) {\n    if (!this.dataFormatter) {\n      for (let i = 0; i < data.length; i++) {\n        values.push(validateAndCast(data[i]));\n      }\n      this.dataFormatter = new DataFormatter(values);\n      this.dataFormatter.addUnrecognized();\n    }\n    for (let i = 0, max = data.length; i < max; i++) {\n      result.push(this.formatDataIn(data[i]));\n    }\n  } else if (data[0].input && data[0].output) {\n    if (!this.dataFormatter) {\n      for (let i = 0; i < data.length; i++) {\n        const datum = data[i];\n        values.push(\n          validateAndCast(datum.input),\n          validateAndCast(datum.output)\n        );\n      }\n      this.dataFormatter = DataFormatter.fromArrayInputOutput(values);\n      this.dataFormatter.addUnrecognized();\n    }\n    for (let i = 0, max = data.length; i < max; i++) {\n      result.push(\n        this.formatDataIn(\n          validateAndCast(data[i].input),\n          validateAndCast(data[i].output)\n        )\n      );\n    }\n  } else {\n    throw new Error('unrecognized data');\n  }\n  return result;\n}\n\nmodule.exports = { DataFormatter, defaultRNNFormatter };\n","const Matrix = require('./matrix');\nconst RandomMatrix = require('./matrix/random-matrix');\nconst Equation = require('./matrix/equation');\nconst sampleI = require('./matrix/sample-i');\nconst maxI = require('./matrix/max-i');\nconst softmax = require('./matrix/softmax');\nconst copy = require('./matrix/copy');\nconst { randomFloat } = require('../utilities/random');\nconst zeros = require('../utilities/zeros');\nconst {\n  DataFormatter,\n  defaultRNNFormatter,\n} = require('../utilities/data-formatter');\nconst NeuralNetwork = require('../neural-network');\n\nclass RNN {\n  constructor(options = {}) {\n    const { defaults } = this.constructor;\n\n    Object.assign(this, defaults, options);\n    this.trainOpts = {};\n    this.updateTrainingOptions({\n      ...this.constructor.trainDefaults,\n      ...options,\n    });\n\n    this.stepCache = {};\n    this.runs = 0;\n    this.ratioClipped = null;\n    this.model = null;\n    this.inputLookup = null;\n    this.inputLookupLength = null;\n    this.outputLookup = null;\n    this.outputLookupLength = null;\n\n    if (options.json) {\n      this.fromJSON(options.json);\n    }\n  }\n\n  initialize() {\n    this.model = {\n      input: null,\n      hiddenLayers: [],\n      output: null,\n      equations: [],\n      allMatrices: [],\n      equationConnections: [],\n      outputConnector: null,\n    };\n\n    if (this.dataFormatter) {\n      this.inputSize = this.inputRange = this.outputSize = this.dataFormatter.characters.length;\n    }\n    this.mapModel();\n  }\n\n  createHiddenLayers() {\n    // 0 is end, so add 1 to offset\n    this.model.hiddenLayers.push(\n      this.constructor.getModel(this.hiddenLayers[0], this.inputSize)\n    );\n    let prevSize = this.hiddenLayers[0];\n\n    for (let d = 1; d < this.hiddenLayers.length; d++) {\n      // loop over depths\n      const hiddenSize = this.hiddenLayers[d];\n      this.model.hiddenLayers.push(\n        this.constructor.getModel(hiddenSize, prevSize)\n      );\n      prevSize = hiddenSize;\n    }\n  }\n\n  /**\n   *\n   * @param {Number} hiddenSize\n   * @param {Number} prevSize\n   * @returns {object}\n   */\n  static getModel(hiddenSize, prevSize) {\n    return {\n      // wxh\n      weight: new RandomMatrix(hiddenSize, prevSize, 0.08),\n      // whh\n      transition: new RandomMatrix(hiddenSize, hiddenSize, 0.08),\n      // bhh\n      bias: new Matrix(hiddenSize, 1),\n    };\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    const relu = equation.relu.bind(equation);\n    const add = equation.add.bind(equation);\n    const multiply = equation.multiply.bind(equation);\n\n    return relu(\n      add(\n        add(\n          multiply(hiddenLayer.weight, inputMatrix),\n          multiply(hiddenLayer.transition, previousResult)\n        ),\n        hiddenLayer.bias\n      )\n    );\n  }\n\n  createInputMatrix() {\n    // 0 is end, so add 1 to offset\n    this.model.input = new RandomMatrix(\n      this.inputRange + 1,\n      this.inputSize,\n      0.08\n    );\n  }\n\n  createOutputMatrix() {\n    const { model } = this;\n    const { outputSize } = this;\n    const lastHiddenSize = this.hiddenLayers[this.hiddenLayers.length - 1];\n\n    // 0 is end, so add 1 to offset\n    // whd\n    model.outputConnector = new RandomMatrix(\n      outputSize + 1,\n      lastHiddenSize,\n      0.08\n    );\n    // 0 is end, so add 1 to offset\n    // bd\n    model.output = new Matrix(outputSize + 1, 1);\n  }\n\n  bindEquation() {\n    const { model } = this;\n    const equation = new Equation();\n    const outputs = [];\n    const equationConnection =\n      model.equationConnections.length > 0\n        ? model.equationConnections[model.equationConnections.length - 1]\n        : this.initialLayerInputs;\n    // 0 index\n    let output = this.constructor.getEquation(\n      equation,\n      equation.inputMatrixToRow(model.input),\n      equationConnection[0],\n      model.hiddenLayers[0]\n    );\n    outputs.push(output);\n    // 1+ indices\n    for (let i = 1, max = this.hiddenLayers.length; i < max; i++) {\n      output = this.constructor.getEquation(\n        equation,\n        output,\n        equationConnection[i],\n        model.hiddenLayers[i]\n      );\n      outputs.push(output);\n    }\n\n    model.equationConnections.push(outputs);\n    equation.add(\n      equation.multiply(model.outputConnector, output),\n      model.output\n    );\n    model.equations.push(equation);\n  }\n\n  mapModel() {\n    const { model } = this;\n    const { hiddenLayers } = model;\n    const { allMatrices } = model;\n    this.initialLayerInputs = this.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n\n    this.createInputMatrix();\n    if (!model.input) throw new Error('net.model.input not set');\n    allMatrices.push(model.input);\n\n    this.createHiddenLayers();\n    if (!model.hiddenLayers.length) throw new Error('net.hiddenLayers not set');\n    for (let i = 0, max = hiddenLayers.length; i < max; i++) {\n      const hiddenMatrix = hiddenLayers[i];\n      for (const property in hiddenMatrix) {\n        if (!hiddenMatrix.hasOwnProperty(property)) continue;\n        allMatrices.push(hiddenMatrix[property]);\n      }\n    }\n\n    this.createOutputMatrix();\n    if (!model.outputConnector)\n      throw new Error('net.model.outputConnector not set');\n    if (!model.output) throw new Error('net.model.output not set');\n\n    allMatrices.push(model.outputConnector);\n    allMatrices.push(model.output);\n  }\n\n  /**\n   *\n   * @param {Number[]|string[]|string} input\n   * @param {boolean} [logErrorRate]\n   * @returns {number}\n   */\n  trainPattern(input, logErrorRate) {\n    const error = this.trainInput(input);\n    this.backpropagate(input);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return error;\n    }\n  }\n\n  /**\n   *\n   * @param {Number[]} input\n   * @returns {number}\n   */\n  trainInput(input) {\n    this.runs++;\n    const { model } = this;\n    const max = input.length;\n    let log2ppl = 0;\n    let equation;\n    while (model.equations.length <= input.length + 1) {\n      // last is zero\n      this.bindEquation();\n    }\n    for (\n      let inputIndex = -1, inputMax = input.length;\n      inputIndex < inputMax;\n      inputIndex++\n    ) {\n      // start and end tokens are zeros\n      const equationIndex = inputIndex + 1;\n      equation = model.equations[equationIndex];\n\n      const source = inputIndex === -1 ? 0 : input[inputIndex] + 1; // first step: start with START token\n      const target = inputIndex === max - 1 ? 0 : input[inputIndex + 1] + 1; // last step: end with END token\n      log2ppl += equation.predictTargetIndex(source, target);\n    }\n    return Math.pow(2, log2ppl / (max - 1)) / 100;\n  }\n\n  /**\n   * @param {Number[]} input\n   */\n  backpropagate(input) {\n    let i = input.length;\n    const { model } = this;\n    const { equations } = model;\n    while (i > 0) {\n      equations[i].backpropagateIndex(input[i - 1] + 1);\n      i--;\n    }\n    equations[0].backpropagateIndex(0);\n  }\n\n  adjustWeights() {\n    const {\n      regc,\n      clipval,\n      model,\n      decayRate,\n      stepCache,\n      smoothEps,\n      trainOpts,\n    } = this;\n    const { learningRate } = trainOpts;\n    const { allMatrices } = model;\n    let numClipped = 0;\n    let numTot = 0;\n    for (let matrixIndex = 0; matrixIndex < allMatrices.length; matrixIndex++) {\n      const matrix = allMatrices[matrixIndex];\n      const { weights, deltas } = matrix;\n      if (!(matrixIndex in stepCache)) {\n        stepCache[matrixIndex] = zeros(matrix.rows * matrix.columns);\n      }\n      const cache = stepCache[matrixIndex];\n      for (let i = 0; i < weights.length; i++) {\n        let r = deltas[i];\n        const w = weights[i];\n        // rmsprop adaptive learning rate\n        cache[i] = cache[i] * decayRate + (1 - decayRate) * r * r;\n        // gradient clip\n        if (r > clipval) {\n          r = clipval;\n          numClipped++;\n        }\n        if (r < -clipval) {\n          r = -clipval;\n          numClipped++;\n        }\n        numTot++;\n        // update (and regularize)\n        weights[i] =\n          w + (-learningRate * r) / Math.sqrt(cache[i] + smoothEps) - regc * w;\n      }\n    }\n    this.ratioClipped = numClipped / numTot;\n  }\n\n  /**\n   *\n   * @returns boolean\n   */\n  get isRunnable() {\n    if (this.model.equations.length === 0) {\n      console.error(`No equations bound, did you run train()?`);\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   *\n   * @param {Number[]|*} [rawInput]\n   * @param {Boolean} [isSampleI]\n   * @param {Number} temperature\n   * @returns {*}\n   */\n  run(rawInput = [], isSampleI = false, temperature = 1) {\n    const maxPredictionLength =\n      this.maxPredictionLength +\n      rawInput.length +\n      (this.dataFormatter ? this.dataFormatter.specialIndexes.length : 0);\n    if (!this.isRunnable) return null;\n    const input = this.formatDataIn(rawInput);\n    const { model } = this;\n    const output = [];\n    let i = 0;\n    while (true) {\n      const previousIndex =\n        i === 0 ? 0 : i < input.length ? input[i - 1] + 1 : output[i - 1];\n      while (model.equations.length <= i) {\n        this.bindEquation();\n      }\n      const equation = model.equations[i];\n      // sample predicted letter\n      const outputMatrix = equation.runIndex(previousIndex);\n      const logProbabilities = new Matrix(\n        model.output.rows,\n        model.output.columns\n      );\n      copy(logProbabilities, outputMatrix);\n      if (temperature !== 1 && isSampleI) {\n        /**\n         * scale log probabilities by temperature and re-normalize\n         * if temperature is high, logProbabilities will go towards zero\n         * and the softmax outputs will be more diffuse. if temperature is\n         * very low, the softmax outputs will be more peaky\n         */\n        for (let j = 0, max = logProbabilities.weights.length; j < max; j++) {\n          logProbabilities.weights[j] /= temperature;\n        }\n      }\n\n      const probs = softmax(logProbabilities);\n      const nextIndex = isSampleI ? sampleI(probs) : maxI(probs);\n\n      i++;\n      if (nextIndex === 0) {\n        // END token predicted, break out\n        break;\n      }\n      if (i >= maxPredictionLength) {\n        // something is wrong\n        break;\n      }\n\n      output.push(nextIndex);\n    }\n\n    /**\n     * we slice the input length here, not because output contains it, but it will be erroneous as we are sending the\n     * network what is contained in input, so the data is essentially guessed by the network what could be next, till it\n     * locks in on a value.\n     * Kind of like this, values are from input:\n     * 0 -> 4 (or in English: \"beginning on input\" -> \"I have no idea? I'll guess what they want next!\")\n     * 2 -> 2 (oh how interesting, I've narrowed down values...)\n     * 1 -> 9 (oh how interesting, I've now know what the values are...)\n     * then the output looks like: [4, 2, 9,...]\n     * so we then remove the erroneous data to get our true output\n     */\n    return this.formatDataOut(\n      input,\n      output.slice(input.length).map((value) => value - 1)\n    );\n  }\n\n  /**\n   *\n   * Verifies network sizes are initilaized\n   * If they are not it will initialize them\n   */\n  verifyIsInitialized() {\n    if (!this.model) {\n      this.initialize();\n    }\n  }\n\n  /**\n   *\n   * @param options\n   *    Supports all `trainDefaults` properties\n   *    also supports:\n   *       learningRate: (number),\n   *       momentum: (number),\n   *       activation: 'sigmoid', 'relu', 'leaky-relu', 'tanh'\n   */\n  updateTrainingOptions(options) {\n    Object.keys(this.constructor.trainDefaults).forEach(\n      (p) =>\n        (this.trainOpts[p] = options.hasOwnProperty(p)\n          ? options[p]\n          : this.trainOpts[p])\n    );\n    this.validateTrainingOptions(this.trainOpts);\n    this.setLogMethod(options.log || this.trainOpts.log);\n    this.activation = options.activation || this.activation;\n  }\n\n  validateTrainingOptions(options) {\n    NeuralNetwork.prototype.validateTrainingOptions.call(this, options);\n  }\n\n  /**\n   *\n   * @param log\n   * if a method is passed in method is used\n   * if false passed in nothing is logged\n   * @returns error\n   */\n  setLogMethod(log) {\n    if (typeof log === 'function') {\n      this.trainOpts.log = log;\n    } else if (log) {\n      this.trainOpts.log = console.log;\n    } else {\n      this.trainOpts.log = false;\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @protected\n   * @return {object} { data, status, endTime }\n   */\n  prepTraining(data, options) {\n    this.updateTrainingOptions(options);\n    data = this.formatData(data);\n    const endTime = Date.now() + this.trainOpts.timeout;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized(data);\n\n    return {\n      data,\n      status,\n      endTime,\n    };\n  }\n\n  /**\n   *\n   * @param {Object[]|String[]} data an array of objects: `{input: 'string', output: 'string'}` or an array of strings\n   * @param {Object} [options]\n   * @returns {{error: number, iterations: number}}\n   */\n  train(data, options = {}) {\n    this.trainOpts = options = {\n      ...this.constructor.trainDefaults,\n      ...options,\n    };\n    const { iterations } = options;\n    const { errorThresh } = options;\n    const log = options.log === true ? console.log : options.log;\n    const { logPeriod } = options;\n    const { callback } = options;\n    const { callbackPeriod } = options;\n    let error = Infinity;\n    let i;\n\n    if (this.hasOwnProperty('setupData')) {\n      data = this.setupData(data);\n    }\n\n    this.verifyIsInitialized();\n\n    for (i = 0; i < iterations && error > errorThresh; i++) {\n      let sum = 0;\n      for (let j = 0; j < data.length; j++) {\n        const err = this.trainPattern(data[j], true);\n        sum += err;\n      }\n      error = sum / data.length;\n\n      if (isNaN(error)) {\n        throw new Error(\n          'Network error rate is unexpected NaN, check network configurations and try again. Most probably input format is not correct or training data is not enough. '\n        );\n      }\n      if (log && i % logPeriod === 0) {\n        log(`iterations: ${i}, training error: ${error}`);\n      }\n      if (callback && i % callbackPeriod === 0) {\n        callback({ error, iterations: i });\n      }\n    }\n\n    return {\n      error,\n      iterations: i,\n    };\n  }\n\n  addFormat() {\n    throw new Error('not yet implemented');\n  }\n\n  /**\n   *\n   * @returns {Object}\n   */\n  toJSON() {\n    const { defaults } = this.constructor;\n    if (!this.model) {\n      this.initialize();\n    }\n    const { model } = this;\n    const options = {};\n    for (const p in defaults) {\n      if (defaults.hasOwnProperty(p)) {\n        options[p] = this[p];\n      }\n    }\n\n    return {\n      type: this.constructor.name,\n      options,\n      input: model.input.toJSON(),\n      hiddenLayers: model.hiddenLayers.map((hiddenLayer) => {\n        const layers = {};\n        for (const p in hiddenLayer) {\n          layers[p] = hiddenLayer[p].toJSON();\n        }\n        return layers;\n      }),\n      outputConnector: this.model.outputConnector.toJSON(),\n      output: this.model.output.toJSON(),\n    };\n  }\n\n  fromJSON(json) {\n    const { defaults } = this.constructor;\n    const { options } = json;\n    this.model = null;\n    this.hiddenLayers = null;\n    const allMatrices = [];\n    const input = Matrix.fromJSON(json.input);\n    allMatrices.push(input);\n    const hiddenLayers = [];\n\n    // backward compatibility for hiddenSizes\n    (json.hiddenLayers || json.hiddenSizes).forEach((hiddenLayer) => {\n      const layers = {};\n      for (const p in hiddenLayer) {\n        layers[p] = Matrix.fromJSON(hiddenLayer[p]);\n        allMatrices.push(layers[p]);\n      }\n      hiddenLayers.push(layers);\n    });\n\n    const outputConnector = Matrix.fromJSON(json.outputConnector);\n    allMatrices.push(outputConnector);\n    const output = Matrix.fromJSON(json.output);\n    allMatrices.push(output);\n\n    Object.assign(this, defaults, options);\n\n    // backward compatibility\n    if (options.hiddenSizes) {\n      this.hiddenLayers = options.hiddenSizes;\n    }\n\n    if (options.dataFormatter) {\n      this.dataFormatter = DataFormatter.fromJSON(options.dataFormatter);\n    }\n\n    this.model = {\n      input,\n      hiddenLayers,\n      output,\n      allMatrices,\n      outputConnector,\n      equations: [],\n      equationConnections: [],\n    };\n    this.initialLayerInputs = this.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n    this.bindEquation();\n  }\n\n  /**\n   * @param {Function} [cb]\n   * @returns {Function}\n   */\n  toFunction(cb) {\n    const { model } = this;\n    const { equations } = this.model;\n    const equation = equations[1];\n    const { states } = equation;\n    const jsonString = JSON.stringify(this.toJSON());\n\n    function previousConnectionIndex(m) {\n      const connection = model.equationConnections[0];\n      const { states } = equations[0];\n      for (let i = 0, max = states.length; i < max; i++) {\n        if (states[i].product === m) {\n          return i;\n        }\n      }\n      return connection.indexOf(m);\n    }\n\n    function matrixOrigin(m, stateIndex) {\n      for (let i = 0, max = states.length; i < max; i++) {\n        const state = states[i];\n\n        if (i === stateIndex) {\n          const j = previousConnectionIndex(m);\n          if (j > -1 && (m === state.left || m === state.right)) {\n            return `typeof prevStates[${j}] === 'object' ? prevStates[${j}].product : new Matrix(${m.rows}, ${m.columns})`;\n          }\n          return `new Matrix(${m.rows}, ${m.columns})`;\n        }\n\n        if (m === state.product) return `states[${i}].product`;\n        if (m === state.right) return `states[${i}].right`;\n        if (m === state.left) return `states[${i}].left`;\n      }\n    }\n\n    function matrixToString(m, stateIndex) {\n      if (!m || !m.rows || !m.columns) return 'null';\n\n      if (m === model.input) return `json.input`;\n      if (m === model.outputConnector) return `json.outputConnector`;\n      if (m === model.output) return `json.output`;\n\n      for (let i = 0, max = model.hiddenLayers.length; i < max; i++) {\n        const hiddenLayer = model.hiddenLayers[i];\n        for (const p in hiddenLayer) {\n          if (!hiddenLayer.hasOwnProperty(p)) continue;\n          if (hiddenLayer[p] !== m) continue;\n          return `json.hiddenLayers[${i}].${p}`;\n        }\n      }\n\n      return matrixOrigin(m, stateIndex);\n    }\n\n    function toInner(fnString) {\n      // crude, but should be sufficient for now\n      // function() { body }\n      fnString = fnString.toString().split('{');\n      fnString.shift();\n      // body }\n      fnString = fnString.join('{');\n      fnString = fnString.split('}');\n      fnString.pop();\n      // body\n      return fnString\n        .join('}')\n        .split('\\n')\n        .join('\\n        ')\n        .replace('product.deltas[i] = 0;', '')\n        .replace('product.deltas[column] = 0;', '')\n        .replace('left.deltas[leftIndex] = 0;', '')\n        .replace('right.deltas[rightIndex] = 0;', '')\n        .replace('product.deltas = left.deltas.slice(0);', '');\n    }\n\n    function fileName(fnName) {\n      return `src/recurrent/matrix/${fnName.replace(/[A-Z]/g, function (value) {\n        return `-${value.toLowerCase()}`;\n      })}.js`;\n    }\n\n    const statesRaw = [];\n    const usedFunctionNames = {};\n    const innerFunctionsSwitch = [];\n    for (let i = 0, max = states.length; i < max; i++) {\n      const state = states[i];\n      statesRaw.push(`states[${i}] = {\n      name: '${state.forwardFn.name}',\n      left: ${matrixToString(state.left, i)},\n      right: ${matrixToString(state.right, i)},\n      product: ${matrixToString(state.product, i)}\n    }`);\n\n      const fnName = state.forwardFn.name;\n      if (!usedFunctionNames[fnName]) {\n        usedFunctionNames[fnName] = true;\n        innerFunctionsSwitch.push(\n          `        case '${fnName}': //compiled from ${fileName(fnName)}\n          ${toInner(state.forwardFn.toString())}\n          break;`\n        );\n      }\n    }\n\n    const src = `\n  if (typeof rawInput === 'undefined') rawInput = [];\n  if (typeof isSampleI === 'undefined') isSampleI = false;\n  if (typeof temperature === 'undefined') temperature = 1;\n  var json = ${jsonString};\n  ${\n    this.dataFormatter\n      ? `${this.dataFormatter.toFunctionString()};\n  Object.assign(dataFormatter, json.options.dataFormatter);`\n      : ''\n  }\n  ${\n    this.dataFormatter && typeof this.formatDataIn === 'function'\n      ? `const formatDataIn = function (input, output) { ${toInner(\n          this.formatDataIn.toString()\n        )} }.bind({ dataFormatter });`\n      : ''\n  }\n  ${\n    this.dataFormatter !== null && typeof this.formatDataOut === 'function'\n      ? `const formatDataOut = function formatDataOut(input, output) { ${toInner(\n          this.formatDataOut.toString()\n        )} }.bind({ dataFormatter });`\n      : ''\n  }\n  var input = ${\n    this.dataFormatter && typeof this.formatDataIn === 'function'\n      ? 'formatDataIn(rawInput)'\n      : 'rawInput'\n  };\n  var maxPredictionLength = input.length + ${this.maxPredictionLength};\n  var _i = 0;\n  var output = [];\n  var states = [];\n  var prevStates;\n  while (true) {\n    var previousIndex = (_i === 0\n        ? 0\n        : _i < input.length\n          ? input[_i - 1] + 1\n          : output[_i - 1])\n          ;\n    var rowPluckIndex = previousIndex;\n    prevStates = states;\n    states = [];\n    ${statesRaw.join(';\\n    ')};\n    for (var stateIndex = 0, stateMax = ${\n      statesRaw.length\n    }; stateIndex < stateMax; stateIndex++) {\n      var state = states[stateIndex];\n      var product = state.product;\n      var left = state.left;\n      var right = state.right;\n      switch (state.name) {\n${innerFunctionsSwitch.join('\\n')}\n      }\n    }\n\n    var logProbabilities = state.product;\n    if (temperature !== 1 && isSampleI) {\n      for (var q = 0, nq = logProbabilities.weights.length; q < nq; q++) {\n        logProbabilities.weights[q] /= temperature;\n      }\n    }\n\n    var probs = softmax(logProbabilities);\n    var nextIndex = isSampleI ? sampleI(probs) : maxI(probs);\n\n    _i++;\n    if (nextIndex === 0) {\n      break;\n    }\n    if (_i >= maxPredictionLength) {\n      break;\n    }\n\n    output.push(nextIndex);\n  }\n  ${\n    this.dataFormatter && typeof this.formatDataOut === 'function'\n      ? 'return formatDataOut(input, output.slice(input.length).map(function(value) { return value - 1; }))'\n      : 'return output.slice(input.length).map(function(value) { return value - 1; })'\n  };\n  function Matrix(rows, columns) {\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = zeros(rows * columns);\n  }\n  ${zeros.toString()}\n  ${softmax.toString()}\n  ${randomFloat.toString()}\n  ${sampleI.toString()}\n  ${maxI.toString()}`;\n    // eslint-disable-next-line no-new-func\n    return new Function(\n      'rawInput',\n      'isSampleI',\n      'temperature',\n      cb ? cb(src) : src\n    );\n  }\n}\n\nRNN.defaults = {\n  inputSize: 20,\n  inputRange: 20,\n  hiddenLayers: [20, 20],\n  outputSize: 20,\n  decayRate: 0.999,\n  smoothEps: 1e-8,\n  regc: 0.000001,\n  clipval: 5,\n  maxPredictionLength: 100,\n  /**\n   *\n   * @param {*[]} data\n   * @returns {Number[]}\n   */\n  setupData: defaultRNNFormatter,\n  /**\n   *\n   * @param {*[]} input\n   * @param {*[]} output\n   * @returns {Number[]}\n   */\n  formatDataIn(input, output = null) {\n    if (this.dataFormatter) {\n      if (this.dataFormatter.indexTable.hasOwnProperty('stop-input')) {\n        return this.dataFormatter.toIndexesInputOutput(input, output);\n      }\n      return this.dataFormatter.toIndexes(input);\n    }\n    return input;\n  },\n  /**\n   *\n   * @param {Number[]} input\n   * @param {Number[]} output\n   * @returns {*}\n   */\n  formatDataOut(input, output) {\n    if (this.dataFormatter) {\n      return this.dataFormatter.toCharacters(output).join('');\n    }\n    return output;\n  },\n  dataFormatter: null,\n};\n\nRNN.trainDefaults = {\n  iterations: 20000,\n  errorThresh: 0.005,\n  log: false,\n  logPeriod: 10,\n  learningRate: 0.01,\n  callback: null,\n  callbackPeriod: 10,\n};\n\nmodule.exports = RNN;\n","function ArrayLookupTable(data, prop) {\n  this.length = 0;\n  this.prop = prop;\n  const table = (this.table = {});\n  for (let i = 0; i < data.length; i++) {\n    const datum = data[i];\n    const input = datum[prop];\n    for (let j = 0; j < input.length; j++) {\n      for (const p in input[j]) {\n        if (table.hasOwnProperty(p)) continue;\n        table[p] = this.length++;\n      }\n    }\n  }\n}\n\nmodule.exports = ArrayLookupTable;\n","const Matrix = require('./matrix');\nconst RandomMatrix = require('./matrix/random-matrix');\nconst Equation = require('./matrix/equation');\nconst RNN = require('./rnn');\nconst zeros = require('../utilities/zeros');\nconst softmax = require('./matrix/softmax');\nconst { randomFloat } = require('../utilities/random');\nconst sampleI = require('./matrix/sample-i');\nconst maxI = require('./matrix/max-i');\nconst lookup = require('../lookup');\nconst LookupTable = require('../utilities/lookup-table');\nconst ArrayLookupTable = require('../utilities/array-lookup-table');\nconst {\n  arraysToFloat32Arrays,\n  arrayToFloat32Arrays,\n  objectsToFloat32Arrays,\n  objectToFloat32Arrays,\n  objectToFloat32Array,\n} = require('../utilities/cast');\n\nclass RNNTimeStep extends RNN {\n  // eslint-disable-next-line\n  constructor(options) {\n    super(options);\n  }\n\n  createInputMatrix() {}\n\n  createOutputMatrix() {\n    const { model } = this;\n    const { outputSize } = this;\n    const lastHiddenSize = this.hiddenLayers[this.hiddenLayers.length - 1];\n\n    // whd\n    model.outputConnector = new RandomMatrix(outputSize, lastHiddenSize, 0.08);\n    // bd\n    model.output = new RandomMatrix(outputSize, 1, 0.08);\n  }\n\n  bindEquation() {\n    const { model } = this;\n    const { hiddenLayers } = this;\n    const layers = model.hiddenLayers;\n    const equation = new Equation();\n    const outputs = [];\n    const equationConnection =\n      model.equationConnections.length > 0\n        ? model.equationConnections[model.equationConnections.length - 1]\n        : this.initialLayerInputs;\n    // 0 index\n    let output = this.constructor.getEquation(\n      equation,\n      equation.input(new Matrix(this.inputSize, 1)),\n      equationConnection[0],\n      layers[0]\n    );\n    outputs.push(output);\n    // 1+ indices\n    for (let i = 1, max = hiddenLayers.length; i < max; i++) {\n      output = this.constructor.getEquation(\n        equation,\n        output,\n        equationConnection[i],\n        layers[i]\n      );\n      outputs.push(output);\n    }\n\n    model.equationConnections.push(outputs);\n    equation.add(\n      equation.multiply(model.outputConnector, output),\n      model.output\n    );\n    model.equations.push(equation);\n  }\n\n  mapModel() {\n    const { model } = this;\n    const { hiddenLayers } = model;\n    const { allMatrices } = model;\n    this.initialLayerInputs = this.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n\n    this.createHiddenLayers();\n    if (!model.hiddenLayers.length) throw new Error('net.hiddenLayers not set');\n    for (let i = 0, max = hiddenLayers.length; i < max; i++) {\n      const hiddenMatrix = hiddenLayers[i];\n      for (const property in hiddenMatrix) {\n        if (!hiddenMatrix.hasOwnProperty(property)) continue;\n        allMatrices.push(hiddenMatrix[property]);\n      }\n    }\n\n    this.createOutputMatrix();\n    if (!model.outputConnector)\n      throw new Error('net.model.outputConnector not set');\n    if (!model.output) throw new Error('net.model.output not set');\n\n    allMatrices.push(model.outputConnector);\n    allMatrices.push(model.output);\n  }\n\n  backpropagate() {\n    for (let i = this.model.equations.length - 1; i > -1; i--) {\n      this.model.equations[i].backpropagate();\n    }\n  }\n\n  /**\n   *\n   * @param {number[]|number[][]|object|object[][]} [rawInput]\n   * @returns {number[]|number|object|object[]|object[][]}\n   */\n  run(rawInput) {\n    if (this.inputSize === 1) {\n      if (this.outputLookup) {\n        this.run = this.runObject;\n        return this.runObject(rawInput);\n      }\n      this.run = this.runNumbers;\n      return this.runNumbers(rawInput);\n    }\n    if (this.outputLookup) {\n      this.run = this.runObjects;\n      return this.runObjects(rawInput);\n    }\n    this.run = this.runArrays;\n    return this.runArrays(rawInput);\n  }\n\n  forecast(input, count) {\n    if (this.inputSize === 1) {\n      if (this.outputLookup) {\n        this.forecast = this.runObject;\n        return this.runObject(input);\n      }\n      this.forecast = this.forecastNumbers;\n      return this.forecastNumbers(input, count);\n    }\n    if (this.outputLookup) {\n      this.forecast = this.forecastObjects;\n      return this.forecastObjects(input, count);\n    }\n    this.forecast = this.forecastArrays;\n    return this.forecastArrays(input, count);\n  }\n\n  /**\n   *\n   * @param {Object[]|String[]} data an array of objects: `{input: 'string', output: 'string'}` or an array of strings\n   * @param {Object} [options]\n   * @returns {{error: number, iterations: number}}\n   */\n  train(data, options = {}) {\n    this.trainOpts = options = {\n      ...this.constructor.trainDefaults,\n      ...options,\n    };\n    const { iterations } = options;\n    const { errorThresh } = options;\n    const log = options.log === true ? console.log : options.log;\n    const { logPeriod } = options;\n    const { callback } = options;\n    const { callbackPeriod } = options;\n\n    if (this.inputSize === 1 || !this.inputSize) {\n      this.setSize(data);\n    }\n\n    data = this.formatData(data);\n    let error = Infinity;\n    let i;\n\n    this.verifyIsInitialized(data);\n\n    for (i = 0; i < iterations && error > errorThresh; i++) {\n      let sum = 0;\n      for (let j = 0; j < data.length; j++) {\n        const err = this.trainPattern(data[j], true);\n        sum += err;\n      }\n      error = sum / data.length;\n\n      if (isNaN(error))\n        throw new Error(\n          'Network error rate is unexpected NaN, check network configurations and try again. Most probably input format is not correct or training data is not enough. '\n        );\n      if (log && i % logPeriod === 0) {\n        log(`iterations: ${i}, training error: ${error}`);\n      }\n      if (callback && i % callbackPeriod === 0) {\n        callback({ error, iterations: i });\n      }\n    }\n\n    return {\n      error,\n      iterations: i,\n    };\n  }\n\n  /**\n   *\n   * @param data\n   * Verifies network sizes are initialized\n   * If they are not it will initialize them based off the data set.\n   */\n  verifyIsInitialized(data) {\n    if (data[0].input) {\n      this.trainInput = this.trainInputOutput;\n    } else if (data[0].length > 0) {\n      if (data[0][0].length > 0) {\n        this.trainInput = this.trainArrays;\n      } else if (this.inputSize > 1) {\n        this.trainInput = this.trainArrays;\n      } else {\n        this.trainInput = this.trainNumbers;\n      }\n    }\n\n    if (!this.model) {\n      this.initialize();\n    }\n  }\n\n  setSize(data) {\n    const dataShape = lookup.dataShape(data).join(',');\n    switch (dataShape) {\n      case 'array,array,number':\n      case 'array,object,number':\n      case 'array,datum,array,number':\n      case 'array,datum,object,number':\n        // probably 1\n        break;\n      case 'array,array,array,number':\n        this.inputSize = this.outputSize = data[0][0].length;\n        break;\n      case 'array,array,object,number':\n        this.inputSize = this.outputSize = Object.keys(\n          lookup.toTable2D(data)\n        ).length;\n        break;\n      case 'array,datum,array,array,number':\n        this.inputSize = this.outputSize = data[0].input[0].length;\n        break;\n      case 'array,datum,array,object,number':\n        this.inputSize = Object.keys(lookup.toInputTable2D(data)).length;\n        this.outputSize = Object.keys(lookup.toOutputTable2D(data)).length;\n        break;\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n  }\n\n  trainNumbers(input) {\n    const { model } = this;\n    const { equations } = model;\n    while (equations.length < input.length) {\n      this.bindEquation();\n    }\n    let errorSum = 0;\n    for (let i = 0, max = input.length - 1; i < max; i++) {\n      errorSum += equations[i].predictTarget([input[i]], [input[i + 1]]);\n    }\n    this.end();\n    return errorSum / input.length;\n  }\n\n  runNumbers(input) {\n    if (!this.isRunnable) return null;\n    const { model } = this;\n    const { equations } = model;\n    if (this.inputLookup) {\n      input = lookup.toArray(this.inputLookup, input, this.inputLookupLength);\n    }\n    while (equations.length <= input.length) {\n      this.bindEquation();\n    }\n    let lastOutput;\n    for (let i = 0; i < input.length; i++) {\n      lastOutput = equations[i].runInput(new Float32Array([input[i]]));\n    }\n    this.end();\n    return lastOutput.weights[0];\n  }\n\n  forecastNumbers(input, count) {\n    if (!this.isRunnable) return null;\n    const { model } = this;\n    const { equations } = model;\n    const length = input.length + count;\n    while (equations.length <= length) {\n      this.bindEquation();\n    }\n    let lastOutput;\n    let equationIndex = 0;\n    for (let i = 0; i < input.length; i++) {\n      lastOutput = equations[equationIndex++].runInput([input[i]]);\n    }\n    const result = [lastOutput.weights[0]];\n    for (let i = 0, max = count - 1; i < max; i++) {\n      lastOutput = equations[equationIndex++].runInput(lastOutput.weights);\n      result.push(lastOutput.weights[0]);\n    }\n    this.end();\n    return result;\n  }\n\n  runObject(input) {\n    if (this.inputLookup === this.outputLookup) {\n      const inputArray = lookup.toArrayShort(this.inputLookup, input);\n      return lookup.toObjectPartial(\n        this.outputLookup,\n        this.forecastNumbers(\n          inputArray,\n          this.outputLookupLength - inputArray.length\n        ),\n        inputArray.length\n      );\n    }\n    return lookup.toObject(\n      this.outputLookup,\n      this.forecastNumbers(\n        lookup.toArray(this.inputLookup, input, this.inputLookupLength),\n        this.outputLookupLength\n      )\n    );\n  }\n\n  runObjects(input) {\n    input = input.map((value) =>\n      lookup.toArray(this.inputLookup, value, this.inputLookupLength)\n    );\n    return this.forecastArrays(input, 1).map((value) =>\n      lookup.toObject(this.outputLookup, value)\n    )[0];\n  }\n\n  forecastObjects(input, count) {\n    input = input.map((value) =>\n      lookup.toArray(this.inputLookup, value, this.inputLookupLength)\n    );\n    return this.forecastArrays(input, count).map((value) =>\n      lookup.toObject(this.outputLookup, value)\n    );\n  }\n\n  trainInputOutput(object) {\n    const { model } = this;\n    const { input } = object;\n    const { output } = object;\n    const totalSize = input.length + output.length;\n    const { equations } = model;\n    while (equations.length < totalSize) {\n      this.bindEquation();\n    }\n    let errorSum = 0;\n    let equationIndex = 0;\n    for (\n      let inputIndex = 0, max = input.length - 1;\n      inputIndex < max;\n      inputIndex++\n    ) {\n      errorSum += equations[equationIndex++].predictTarget(\n        input[inputIndex],\n        input[inputIndex + 1]\n      );\n    }\n    errorSum += equations[equationIndex++].predictTarget(\n      input[input.length - 1],\n      output[0]\n    );\n    for (\n      let outputIndex = 0, max = output.length - 1;\n      outputIndex < max;\n      outputIndex++\n    ) {\n      errorSum += equations[equationIndex++].predictTarget(\n        output[outputIndex],\n        output[outputIndex + 1]\n      );\n    }\n    this.end();\n    return errorSum / totalSize;\n  }\n\n  trainArrays(input) {\n    const { model } = this;\n    const { equations } = model;\n    while (equations.length < input.length) {\n      this.bindEquation();\n    }\n    let errorSum = 0;\n    for (let i = 0, max = input.length - 1; i < max; i++) {\n      errorSum += equations[i].predictTarget(input[i], input[i + 1]);\n    }\n    this.end();\n    return errorSum / input.length;\n  }\n\n  runArrays(input) {\n    if (!this.isRunnable) return null;\n    const { model } = this;\n    const { equations } = model;\n    while (equations.length <= input.length) {\n      this.bindEquation();\n    }\n    if (this.inputLookup) {\n      input = lookup.toArrays(this.inputLookup, input, this.inputLookupLength);\n    }\n    let lastOutput;\n    for (let i = 0; i < input.length; i++) {\n      const outputMatrix = equations[i].runInput(input[i]);\n      lastOutput = outputMatrix.weights;\n    }\n    this.end();\n    if (this.outputLookup) {\n      return lookup.toObject(this.outputLookup, lastOutput);\n    }\n    return lastOutput;\n  }\n\n  forecastArrays(input, count) {\n    if (!this.isRunnable) return null;\n    const { model } = this;\n    const { equations } = model;\n    const length = input.length + count;\n    while (equations.length <= length) {\n      this.bindEquation();\n    }\n    let lastOutput;\n    let equationIndex = 0;\n    for (let i = 0; i < input.length; i++) {\n      lastOutput = equations[equationIndex++].runInput(input[i]);\n    }\n    const result = [lastOutput.weights];\n    for (let i = 0, max = count - 1; i < max; i++) {\n      lastOutput = equations[equationIndex++].runInput(lastOutput.weights);\n      result.push(lastOutput.weights.slice(0));\n    }\n    this.end();\n    return result;\n  }\n\n  end() {\n    this.model.equations[this.model.equations.length - 1].runInput(\n      new Float32Array(this.outputSize)\n    );\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {*}\n   */\n  formatData(data) {\n    const dataShape = lookup.dataShape(data).join(',');\n    const result = [];\n    switch (dataShape) {\n      case 'array,number': {\n        if (this.inputSize !== 1) {\n          throw new Error('inputSize must be 1 for this data size');\n        }\n        if (this.outputSize !== 1) {\n          throw new Error('outputSize must be 1 for this data size');\n        }\n        for (let i = 0; i < data.length; i++) {\n          result.push(Float32Array.from([data[i]]));\n        }\n        return [result];\n      }\n      case 'array,array,number': {\n        if (this.inputSize === 1 && this.outputSize === 1) {\n          for (let i = 0; i < data.length; i++) {\n            result.push(arrayToFloat32Arrays(data[i]));\n          }\n          return result;\n        }\n        if (this.inputSize !== data[0].length) {\n          throw new Error('inputSize must match data input size');\n        }\n        if (this.outputSize !== data[0].length) {\n          throw new Error('outputSize must match data input size');\n        }\n        for (let i = 0; i < data.length; i++) {\n          result.push(Float32Array.from(data[i]));\n        }\n        return [result];\n      }\n      case 'array,object,number': {\n        if (this.inputSize !== 1) {\n          throw new Error('inputSize must be 1 for this data size');\n        }\n        if (this.outputSize !== 1) {\n          throw new Error('outputSize must be 1 for this data size');\n        }\n        if (!this.inputLookup) {\n          const lookupTable = new LookupTable(data);\n          this.inputLookup = this.outputLookup = lookupTable.table;\n          this.inputLookupLength = this.outputLookupLength = lookupTable.length;\n        }\n        for (let i = 0; i < data.length; i++) {\n          result.push(objectToFloat32Arrays(data[i]));\n        }\n        return result;\n      }\n      case 'array,datum,array,number': {\n        if (this.inputSize !== 1) {\n          throw new Error('inputSize must be 1 for this data size');\n        }\n        if (this.outputSize !== 1) {\n          throw new Error('outputSize must be 1 for this data size');\n        }\n        for (let i = 0; i < data.length; i++) {\n          const datum = data[i];\n          result.push({\n            input: arrayToFloat32Arrays(datum.input),\n            output: arrayToFloat32Arrays(datum.output),\n          });\n        }\n        return result;\n      }\n      case 'array,datum,object,number': {\n        if (this.inputSize !== 1) {\n          throw new Error('inputSize must be 1 for this data size');\n        }\n        if (this.outputSize !== 1) {\n          throw new Error('outputSize must be 1 for this data size');\n        }\n        if (!this.inputLookup) {\n          const inputLookup = new LookupTable(data, 'input');\n          this.inputLookup = inputLookup.table;\n          this.inputLookupLength = inputLookup.length;\n        }\n        if (!this.outputLookup) {\n          const outputLookup = new LookupTable(data, 'output');\n          this.outputLookup = outputLookup.table;\n          this.outputLookupLength = outputLookup.length;\n        }\n        for (let i = 0; i < data.length; i++) {\n          const datum = data[i];\n          result.push({\n            input: objectToFloat32Arrays(datum.input),\n            output: objectToFloat32Arrays(datum.output),\n          });\n        }\n        return result;\n      }\n      case 'array,array,array,number': {\n        for (let i = 0; i < data.length; i++) {\n          result.push(arraysToFloat32Arrays(data[i]));\n        }\n        return result;\n      }\n      case 'array,array,object,number': {\n        if (!this.inputLookup) {\n          const lookupTable = new LookupTable(data);\n          this.inputLookup = this.outputLookup = lookupTable.table;\n          this.inputLookupLength = this.outputLookupLength = lookupTable.length;\n        }\n        for (let i = 0; i < data.length; i++) {\n          const array = [];\n          for (let j = 0; j < data[i].length; j++) {\n            array.push(\n              objectToFloat32Array(\n                data[i][j],\n                this.inputLookup,\n                this.inputLookupLength\n              )\n            );\n          }\n          result.push(array);\n        }\n        return result;\n      }\n      case 'array,datum,array,array,number': {\n        if (this.inputSize === 1 && this.outputSize === 1) {\n          for (let i = 0; i < data.length; i++) {\n            const datum = data[i];\n            result.push({\n              input: Float32Array.from(datum.input),\n              output: Float32Array.from(datum.output),\n            });\n          }\n        } else {\n          if (this.inputSize !== data[0].input[0].length) {\n            throw new Error('inputSize must match data input size');\n          }\n          if (this.outputSize !== data[0].output[0].length) {\n            throw new Error('outputSize must match data output size');\n          }\n          for (let i = 0; i < data.length; i++) {\n            const datum = data[i];\n            result.push({\n              input: arraysToFloat32Arrays(datum.input),\n              output: arraysToFloat32Arrays(datum.output),\n            });\n          }\n        }\n        return result;\n      }\n      case 'array,datum,array,object,number': {\n        if (!this.inputLookup) {\n          const inputLookup = new ArrayLookupTable(data, 'input');\n          this.inputLookup = inputLookup.table;\n          this.inputLookupLength = inputLookup.length;\n        }\n        if (!this.outputLookup) {\n          const outputLookup = new ArrayLookupTable(data, 'output');\n          this.outputLookup = outputLookup.table;\n          this.outputLookupLength = outputLookup.length;\n        }\n        for (let i = 0; i < data.length; i++) {\n          const datum = data[i];\n          result.push({\n            input: objectsToFloat32Arrays(\n              datum.input,\n              this.inputLookup,\n              this.inputLookupLength\n            ),\n            output: objectsToFloat32Arrays(\n              datum.output,\n              this.outputLookup,\n              this.outputLookupLength\n            ),\n          });\n        }\n        return result;\n      }\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {\n   *  {\n   *    error: number,\n   *    misclasses: Array\n   *  }\n   * }\n   */\n  test(data) {\n    const formattedData = this.formatData(data);\n    // for classification problems\n    const misclasses = [];\n    // run each pattern through the trained network and collect\n    // error and misclassification statistics\n    let errorSum = 0;\n    const dataShape = lookup.dataShape(data).join(',');\n    switch (dataShape) {\n      case 'array,array,number': {\n        if (this.inputSize === 1) {\n          for (let i = 0; i < formattedData.length; i++) {\n            const input = formattedData[i];\n            const output = this.run(input.splice(0, input.length - 1));\n            const target = input[input.length - 1][0];\n            const error = target - output;\n            const errorMSE = error * error;\n            errorSum += errorMSE;\n            const errorsAbs = Math.abs(errorMSE);\n            if (errorsAbs > this.trainOpts.errorThresh) {\n              const misclass = data[i];\n              Object.assign(misclass, {\n                value: input,\n                actual: output,\n              });\n              misclasses.push(misclass);\n            }\n          }\n          break;\n        }\n        throw new Error('unknown data shape or configuration');\n      }\n      case 'array,array,array,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const input = formattedData[i];\n          const output = this.run(input.splice(0, input.length - 1));\n          const target = input[input.length - 1];\n          let errors = 0;\n          let errorCount = 0;\n          for (let j = 0; j < output.length; j++) {\n            errorCount++;\n            const error = target[j] - output[j];\n            // mse\n            errors += error * error;\n          }\n          errorSum += errors / errorCount;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              value: misclass,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      case 'array,object,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const input = formattedData[i];\n          const output = this.run(\n            lookup.toObjectPartial(\n              this.outputLookup,\n              input,\n              0,\n              input.length - 1\n            )\n          );\n          const target = input[input.length - 1];\n          let errors = 0;\n          let p;\n          // for (p in output) {\n          // }\n          const error = target[i] - output[p];\n          // mse\n          errors += error * error;\n          errorSum += errors;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              value: misclass,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      case 'array,array,object,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const input = formattedData[i];\n          const output = this.run(input.slice(0, input.length - 1));\n          const target = data[i][input.length - 1];\n          let errors = 0;\n          let errorCount = 0;\n          for (const p in output) {\n            const error = target[p] - output[p];\n            // mse\n            errors += error * error;\n            errorCount++;\n          }\n          errorSum += errors / errorCount;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              value: misclass,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      case 'array,datum,array,number':\n      case 'array,datum,object,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const datum = formattedData[i];\n          const output = this.forecast(datum.input, datum.output.length);\n          let errors = 0;\n          let errorCount = 0;\n          for (let j = 0; j < output.length; j++) {\n            const error = datum.output[j][0] - output[j];\n            errors += error * error;\n            errorCount++;\n          }\n\n          errorSum += errors / errorCount;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            Object.assign(misclass, {\n              actual: this.outputLookup\n                ? lookup.toObject(this.outputLookup, output)\n                : output,\n            });\n            misclasses.push(misclass);\n          }\n        }\n        break;\n      }\n      case 'array,datum,array,array,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const datum = formattedData[i];\n          const output = this.forecast(datum.input, datum.output.length);\n          let errors = 0;\n          for (let j = 0; j < output.length; j++) {\n            for (let k = 0; k < output[j].length; k++) {\n              const error = datum.output[j][k] - output[j][k];\n              errors += error * error;\n            }\n          }\n\n          errorSum += errors;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              input: misclass.input,\n              output: misclass.output,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      case 'array,datum,array,object,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const datum = formattedData[i];\n          const output = this.forecast(datum.input, datum.output.length);\n          let errors = 0;\n          for (let j = 0; j < output.length; j++) {\n            for (const p in output[j]) {\n              const error = data[i].output[j][p] - output[j][p];\n              errors += error * error;\n            }\n          }\n\n          errorSum += errors;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              input: misclass.input,\n              output: misclass.output,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n\n    return {\n      error: errorSum / formattedData.length,\n      misclasses,\n      total: formattedData.length,\n    };\n  }\n\n  addFormat(value) {\n    const dataShape = lookup.dataShape(value).join(',');\n    switch (dataShape) {\n      case 'array,array,number':\n      case 'datum,array,array,number':\n      case 'array,number':\n      case 'datum,array,number':\n        return;\n      case 'datum,object,number': {\n        this.inputLookup = lookup.addKeys(value.input, this.inputLookup);\n        if (this.inputLookup) {\n          this.inputLookupLength = Object.keys(this.inputLookup).length;\n        }\n        this.outputLookup = lookup.addKeys(value.output, this.outputLookup);\n        if (this.outputLookup) {\n          this.outputLookupLength = Object.keys(this.outputLookup).length;\n        }\n        break;\n      }\n      case 'object,number': {\n        this.inputLookup = this.outputLookup = lookup.addKeys(\n          value,\n          this.inputLookup\n        );\n        if (this.inputLookup) {\n          this.inputLookupLength = this.outputLookupLength = Object.keys(\n            this.inputLookup\n          ).length;\n        }\n        break;\n      }\n      case 'array,object,number': {\n        for (let i = 0; i < value.length; i++) {\n          this.inputLookup = this.outputLookup = lookup.addKeys(\n            value[i],\n            this.inputLookup\n          );\n          if (this.inputLookup) {\n            this.inputLookupLength = this.outputLookupLength = Object.keys(\n              this.inputLookup\n            ).length;\n          }\n        }\n        break;\n      }\n      case 'datum,array,object,number': {\n        for (let i = 0; i < value.input.length; i++) {\n          this.inputLookup = lookup.addKeys(value.input[i], this.inputLookup);\n          if (this.inputLookup) {\n            this.inputLookupLength = Object.keys(this.inputLookup).length;\n          }\n        }\n        for (let i = 0; i < value.output.length; i++) {\n          this.outputLookup = lookup.addKeys(\n            value.output[i],\n            this.outputLookup\n          );\n          if (this.outputLookup) {\n            this.outputLookupLength = Object.keys(this.outputLookup).length;\n          }\n        }\n        break;\n      }\n\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n  }\n\n  /**\n   *\n   * @returns {Object}\n   */\n  toJSON() {\n    const { defaults } = this.constructor;\n    if (!this.model) {\n      this.initialize();\n    }\n    const { model } = this;\n    const options = {};\n    for (const p in defaults) {\n      if (defaults.hasOwnProperty(p)) {\n        options[p] = this[p];\n      }\n    }\n\n    return {\n      type: this.constructor.name,\n      options,\n      hiddenLayers: model.hiddenLayers.map((hiddenLayer) => {\n        const layers = {};\n        for (const p in hiddenLayer) {\n          layers[p] = hiddenLayer[p].toJSON();\n        }\n        return layers;\n      }),\n      outputConnector: this.model.outputConnector.toJSON(),\n      output: this.model.output.toJSON(),\n      inputLookup: this.inputLookup,\n      inputLookupLength: this.inputLookupLength,\n      outputLookup: this.outputLookup,\n      outputLookupLength: this.outputLookupLength,\n    };\n  }\n\n  fromJSON(json) {\n    const { defaults } = this.constructor;\n    const { options } = json;\n    this.model = null;\n    this.hiddenLayers = null;\n    const allMatrices = [];\n    const hiddenLayers = [];\n\n    // backward compatibility for hiddenSizes\n    (json.hiddenLayers || json.hiddenSizes).forEach((hiddenLayer) => {\n      const layers = {};\n      for (const p in hiddenLayer) {\n        layers[p] = Matrix.fromJSON(hiddenLayer[p]);\n        allMatrices.push(layers[p]);\n      }\n      hiddenLayers.push(layers);\n    });\n\n    const outputConnector = Matrix.fromJSON(json.outputConnector);\n    allMatrices.push(outputConnector);\n    const output = Matrix.fromJSON(json.output);\n    allMatrices.push(output);\n\n    Object.assign(this, defaults, options);\n\n    // backward compatibility\n    if (options.hiddenSizes) {\n      this.hiddenLayers = options.hiddenSizes;\n    }\n\n    this.inputLookup = json.inputLookup;\n    this.inputLookupLength = json.inputLookupLength;\n    this.outputLookup = json.outputLookup;\n    this.outputLookupLength = json.outputLookupLength;\n\n    this.model = {\n      hiddenLayers,\n      output,\n      allMatrices,\n      outputConnector,\n      equations: [],\n      equationConnections: [],\n    };\n    this.initialLayerInputs = this.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n    this.bindEquation();\n  }\n\n  /**\n   * @param {Function} [cb]\n   * @returns {Function}\n   */\n  toFunction(cb) {\n    const { model } = this;\n    const { equations } = this.model;\n    const { inputSize } = this;\n    const { inputLookup } = this;\n    const { inputLookupLength } = this;\n    const { outputLookup } = this;\n    const { outputLookupLength } = this;\n    const equation = equations[1];\n    const { states } = equation;\n    const jsonString = JSON.stringify(this.toJSON());\n\n    function previousConnectionIndex(m) {\n      const connection = model.equationConnections[0];\n      const { states } = equations[0];\n      for (let i = 0, max = states.length; i < max; i++) {\n        if (states[i].product === m) {\n          return i;\n        }\n      }\n      return connection.indexOf(m);\n    }\n\n    function matrixOrigin(m, stateIndex) {\n      for (let i = 0, max = states.length; i < max; i++) {\n        const state = states[i];\n\n        if (i === stateIndex) {\n          const j = previousConnectionIndex(m);\n          switch (m) {\n            case state.left:\n              if (j > -1) {\n                return `typeof prevStates[${j}] === 'object' ? prevStates[${j}].product : new Matrix(${m.rows}, ${m.columns})`;\n              }\n            // eslint-disable-next-line no-fallthrough\n            case state.right:\n              if (j > -1) {\n                return `typeof prevStates[${j}] === 'object' ? prevStates[${j}].product : new Matrix(${m.rows}, ${m.columns})`;\n              }\n            // eslint-disable-next-line no-fallthrough\n            case state.product:\n              return `new Matrix(${m.rows}, ${m.columns})`;\n            default:\n              throw Error('unknown state');\n          }\n        }\n\n        if (m === state.product) return `states[${i}].product`;\n        if (m === state.right) return `states[${i}].right`;\n        if (m === state.left) return `states[${i}].left`;\n      }\n    }\n\n    function matrixToString(m, stateIndex) {\n      if (!m || !m.rows || !m.columns) return 'null';\n      if (m === model.outputConnector) return `json.outputConnector`;\n      if (m === model.output) return `json.output`;\n\n      for (let i = 0, max = model.hiddenLayers.length; i < max; i++) {\n        const hiddenLayer = model.hiddenLayers[i];\n        for (const p in hiddenLayer) {\n          if (!hiddenLayer.hasOwnProperty(p)) continue;\n          if (hiddenLayer[p] !== m) continue;\n          return `json.hiddenLayers[${i}].${p}`;\n        }\n      }\n\n      return matrixOrigin(m, stateIndex);\n    }\n\n    function formatInputData() {\n      if (!inputLookup) return '';\n      if (inputSize === 1) {\n        if (inputLookup === outputLookup) {\n          return `function lookupInput(input) {\n            var table = ${JSON.stringify(inputLookup)};\n            var result = [];\n            for (var p in table) {\n              if (!input.hasOwnProperty(p)) break;\n              result.push(Float32Array.from([input[p]]));\n            }\n            return result;\n          }`;\n        }\n        return `function lookupInput(input) {\n          var table = ${JSON.stringify(inputLookup)};\n          var result = [];\n          for (var p in table) {\n            result.push(Float32Array.from([input[p]]));\n          }\n          return result;\n        }`;\n      }\n      return `function lookupInput(rawInputs) {\n        var table = ${JSON.stringify(inputLookup)};\n        var result = [];\n        for (var i = 0; i < rawInputs.length; i++) {\n          var rawInput = rawInputs[i];\n          var input = new Float32Array(${inputLookupLength});\n          for (var p in table) {\n            input[table[p]] = rawInput.hasOwnProperty(p) ? rawInput[p] : 0;\n          }\n          result.push(input);\n        }\n        return result;\n      }`;\n    }\n\n    function formatOutputData() {\n      if (!outputLookup) return '';\n      if (inputSize === 1) {\n        if (inputLookup === outputLookup) {\n          return `function lookupOutputPartial(output, input) {\n            var table = ${JSON.stringify(outputLookup)};\n            var offset = input.length;\n            var result = {};\n            var i = 0;\n            for (var p in table) {\n              if (i++ < offset) continue;\n              result[p] = output[table[p] - offset][0];\n            }\n            return result;\n          }`;\n        }\n        return `function lookupOutput(output) {\n          var table = ${JSON.stringify(outputLookup)};\n          var result = {};\n          for (var p in table) {\n            result[p] = output[table[p]][0];\n          }\n          return result;\n        }`;\n      }\n      return `function lookupOutput(output) {\n        var table = ${JSON.stringify(outputLookup)};\n        var result = {};\n        for (var p in table) {\n          result[p] = output[table[p]];\n        }\n        return result;\n      }`;\n    }\n\n    function toInner(fnString) {\n      // crude, but should be sufficient for now\n      // function() { body }\n      fnString = fnString.toString().split('{');\n      fnString.shift();\n      // body }\n      fnString = fnString.join('{');\n      fnString = fnString.split('}');\n      fnString.pop();\n      // body\n\n      return fnString\n        .join('}')\n        .split('\\n')\n        .join('\\n        ')\n        .replace(\n          'product.weights = input.weights = this.inputValue;',\n          inputLookup && inputSize === 1\n            ? 'product.weights = _i < input.length ? input[_i]: prevStates[prevStates.length - 1].product.weights;'\n            : inputSize === 1\n            ? 'product.weights = [input[_i]];'\n            : 'product.weights = input[_i];'\n        )\n        .replace('product.deltas[i] = 0;', '')\n        .replace('product.deltas[column] = 0;', '')\n        .replace('left.deltas[leftIndex] = 0;', '')\n        .replace('right.deltas[rightIndex] = 0;', '')\n        .replace('product.deltas = left.deltas.slice(0);', '');\n    }\n\n    function fileName(fnName) {\n      return `src/recurrent/matrix/${fnName.replace(/[A-Z]/g, function (value) {\n        return `-${value.toLowerCase()}`;\n      })}.js`;\n    }\n\n    const statesRaw = [];\n    const usedFunctionNames = {};\n    const innerFunctionsSwitch = [];\n    for (let i = 0, max = states.length; i < max; i++) {\n      const state = states[i];\n      statesRaw.push(`states[${i}] = {\n      name: '${state.forwardFn.name}',\n      left: ${matrixToString(state.left, i)},\n      right: ${matrixToString(state.right, i)},\n      product: ${matrixToString(state.product, i)}\n    }`);\n\n      const fnName = state.forwardFn.name;\n      if (!usedFunctionNames[fnName]) {\n        usedFunctionNames[fnName] = true;\n        innerFunctionsSwitch.push(\n          `        case '${fnName}':${\n            fnName !== 'forwardFn' ? ` //compiled from ${fileName(fnName)}` : ''\n          }\n          ${toInner(state.forwardFn.toString())}\n          break;`\n        );\n      }\n    }\n\n    const forceForecast = this.inputSize === 1 && this.outputLookup;\n    const src = `\n  var input = ${this.inputLookup ? 'lookupInput(rawInput)' : 'rawInput'};\n  var json = ${jsonString};\n  var output = [];\n  var states = [];\n  var prevStates;\n  var state;\n  var max = ${\n    forceForecast\n      ? inputLookup === outputLookup\n        ? inputLookupLength\n        : `input.length + ${outputLookupLength - 1}`\n      : 'input.length'\n  };\n  for (var _i = 0; _i < max; _i++) {\n    prevStates = states;\n    states = [];\n    ${statesRaw.join(';\\n    ')};\n    for (var stateIndex = 0, stateMax = ${\n      statesRaw.length\n    }; stateIndex < stateMax; stateIndex++) {\n      state = states[stateIndex];\n      var product = state.product;\n      var left = state.left;\n      var right = state.right;\n\n      switch (state.name) {\n${innerFunctionsSwitch.join('\\n')}\n      }\n    }\n    ${\n      inputSize === 1 && inputLookup\n        ? 'if (_i >= input.length - 1) { output.push(state.product.weights); }'\n        : 'output = state.product.weights;'\n    }\n  }\n  ${\n    outputLookup\n      ? outputLookup === inputLookup\n        ? 'return lookupOutputPartial(output, input)'\n        : 'return lookupOutput(output)'\n      : inputSize === 1\n      ? 'return output[0]'\n      : 'return output'\n  };\n  ${formatInputData()}\n  ${formatOutputData()}\n\n  function Matrix(rows, columns) {\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = zeros(rows * columns);\n  }\n  ${zeros.toString()}\n  ${softmax.toString().replace('_2.default', 'Matrix')}\n  ${randomFloat.toString()}\n  ${sampleI.toString()}\n  ${maxI.toString()}`;\n    // eslint-disable-next-line no-new-func\n    return new Function('rawInput', cb ? cb(src) : src);\n  }\n}\n\nRNNTimeStep.defaults = {\n  inputSize: 1,\n  hiddenLayers: [20],\n  outputSize: 1,\n  learningRate: RNN.defaults.learningRate,\n  decayRate: RNN.defaults.decayRate,\n  smoothEps: RNN.defaults.smoothEps,\n  regc: RNN.defaults.regc,\n  clipval: RNN.defaults.clipval,\n};\n\nRNNTimeStep.trainDefaults = RNN.trainDefaults;\n\nmodule.exports = RNNTimeStep;\n","const Matrix = require('./matrix');\nconst RandomMatrix = require('./matrix/random-matrix');\nconst RNN = require('./rnn');\n\nclass LSTM extends RNN {\n  static getModel(hiddenSize, prevSize) {\n    return {\n      // gates parameters\n      // wix\n      inputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wih\n      inputHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bi\n      inputBias: new Matrix(hiddenSize, 1),\n      // wfx\n      forgetMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wfh\n      forgetHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bf\n      forgetBias: new Matrix(hiddenSize, 1),\n      // wox\n      outputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // woh\n      outputHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bo\n      outputBias: new Matrix(hiddenSize, 1),\n      // cell write params\n      // wcx\n      cellActivationMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wch\n      cellActivationHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bc\n      cellActivationBias: new Matrix(hiddenSize, 1),\n    };\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    const sigmoid = equation.sigmoid.bind(equation);\n    const add = equation.add.bind(equation);\n    const multiply = equation.multiply.bind(equation);\n    const multiplyElement = equation.multiplyElement.bind(equation);\n    const tanh = equation.tanh.bind(equation);\n\n    const inputGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.inputMatrix, inputMatrix),\n          multiply(hiddenLayer.inputHidden, previousResult)\n        ),\n        hiddenLayer.inputBias\n      )\n    );\n\n    const forgetGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.forgetMatrix, inputMatrix),\n          multiply(hiddenLayer.forgetHidden, previousResult)\n        ),\n        hiddenLayer.forgetBias\n      )\n    );\n\n    // output gate\n    const outputGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.outputMatrix, inputMatrix),\n          multiply(hiddenLayer.outputHidden, previousResult)\n        ),\n        hiddenLayer.outputBias\n      )\n    );\n\n    // write operation on cells\n    const cellWrite = tanh(\n      add(\n        add(\n          multiply(hiddenLayer.cellActivationMatrix, inputMatrix),\n          multiply(hiddenLayer.cellActivationHidden, previousResult)\n        ),\n        hiddenLayer.cellActivationBias\n      )\n    );\n\n    // compute new cell activation\n    const retainCell = multiplyElement(forgetGate, previousResult); // what do we keep from cell\n    const writeCell = multiplyElement(inputGate, cellWrite); // what do we write to cell\n    const cell = add(retainCell, writeCell); // new cell contents\n\n    // compute hidden state as gated, saturated cell activations\n    return multiplyElement(outputGate, tanh(cell));\n  }\n}\n\nmodule.exports = LSTM;\n","// const Matrix = require('./matrix');\nconst LSTM = require('./lstm');\nconst RNNTimeStep = require('./rnn-time-step');\n\nclass LSTMTimeStep extends RNNTimeStep {\n  static getModel(hiddenSize, prevSize) {\n    return LSTM.getModel.call(this, hiddenSize, prevSize);\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    return LSTM.getEquation.call(\n      this,\n      equation,\n      inputMatrix,\n      previousResult,\n      hiddenLayer\n    );\n  }\n}\n\nmodule.exports = LSTMTimeStep;\n","const Matrix = require('./matrix');\nconst RandomMatrix = require('./matrix/random-matrix');\nconst RNN = require('./rnn');\n\nclass GRU extends RNN {\n  static getModel(hiddenSize, prevSize) {\n    return {\n      // update Gate\n      // wzxh\n      updateGateInputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wzhh\n      updateGateHiddenMatrix: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bz\n      updateGateBias: new Matrix(hiddenSize, 1),\n      // reset Gate\n      // wrxh\n      resetGateInputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wrhh\n      resetGateHiddenMatrix: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // br\n      resetGateBias: new Matrix(hiddenSize, 1),\n      // cell write parameters\n      // wcxh\n      cellWriteInputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wchh\n      cellWriteHiddenMatrix: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bc\n      cellWriteBias: new Matrix(hiddenSize, 1),\n    };\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    const sigmoid = equation.sigmoid.bind(equation);\n    const add = equation.add.bind(equation);\n    const multiply = equation.multiply.bind(equation);\n    const multiplyElement = equation.multiplyElement.bind(equation);\n    const tanh = equation.tanh.bind(equation);\n    const allOnes = equation.allOnes.bind(equation);\n    const cloneNegative = equation.cloneNegative.bind(equation);\n\n    // update gate\n    const updateGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.updateGateInputMatrix, inputMatrix),\n          multiply(hiddenLayer.updateGateHiddenMatrix, previousResult)\n        ),\n        hiddenLayer.updateGateBias\n      )\n    );\n\n    // reset gate\n    const resetGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.resetGateInputMatrix, inputMatrix),\n          multiply(hiddenLayer.resetGateHiddenMatrix, previousResult)\n        ),\n        hiddenLayer.resetGateBias\n      )\n    );\n\n    // cell\n    const cell = tanh(\n      add(\n        add(\n          multiply(hiddenLayer.cellWriteInputMatrix, inputMatrix),\n          multiply(\n            hiddenLayer.cellWriteHiddenMatrix,\n            multiplyElement(resetGate, previousResult)\n          )\n        ),\n        hiddenLayer.cellWriteBias\n      )\n    );\n\n    // compute hidden state as gated, saturated cell activations\n    // negate updateGate\n    return add(\n      multiplyElement(\n        add(\n          allOnes(updateGate.rows, updateGate.columns),\n          cloneNegative(updateGate)\n        ),\n        cell\n      ),\n      multiplyElement(previousResult, updateGate)\n    );\n  }\n}\n\nmodule.exports = GRU;\n","// import Matrix from './matrix'\nconst GRU = require('./gru');\nconst RNNTimeStep = require('./rnn-time-step');\n\nclass GRUTimeStep extends RNNTimeStep {\n  static getModel(hiddenSize, prevSize) {\n    return GRU.getModel(hiddenSize, prevSize);\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    return GRU.getEquation(equation, inputMatrix, previousResult, hiddenLayer);\n  }\n}\n\nmodule.exports = GRUTimeStep;\n","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('every');\n\n// `Array.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","const NeuralNetwork = require('../neural-network');\nconst RNN = require('../recurrent/rnn');\nconst RNNTimeStep = require('../recurrent/rnn-time-step');\nconst { FeedForward } = require('../feed-forward');\nconst { Recurrent } = require('../recurrent');\nconst { recurrentZeros } = require('../layer/recurrent-zeros');\n\nconst recurrentJSONTypes = [\n  'RNN',\n  'LSTM',\n  'GRU',\n  'RNNTimeStep',\n  'LSTMTimeStep',\n  'GRUTimeStep',\n  'Recurrent',\n];\n\nfunction drawInput({\n  pixelX,\n  pixelY,\n  radius,\n  inputs,\n  row,\n  line,\n  fontSize,\n  fontClassName,\n}) {\n  let svg = `<rect\n              x=\"${pixelX / 2 - radius}\"\n              y=\"${pixelY / 2 + row * pixelY - radius}\"\n              width=\"${2 * radius}\"\n              height=\"${2 * radius}\"\n              stroke=\"black\"\n              stroke-width=\"1\"\n              fill=\"${inputs.color}\"\n              class=\"${inputs.className}\" />\n            <line\n              x1=\"${pixelX / 4}\"\n              y1=\"${pixelY / 2 + row * pixelY}\"\n              x2=\"${pixelX / 2 - radius}\"\n              y2=\"${pixelY / 2 + row * pixelY}\"\n              style=\"stroke:${line.color};stroke-width:${line.width}\"\n              class=\"${line.className}\" />`;\n  if (inputs.labels) {\n    svg += `<text\n              x=\"${pixelX / 8}\"\n              y=\"${pixelY / 2 + row * pixelY - 5}\"\n              fill=\"black\"\n              font-size=\"${fontSize}\"\n              class=\"${fontClassName}\">${inputs.labels[row]}</text>`;\n  }\n  return svg;\n}\n\nfunction drawNeuron({ pixelX, pixelY, row, column, radius, hidden }) {\n  return `<circle\n            cx=\"${pixelX / 2 + column * pixelX}\"\n            cy=\"${pixelY / 2 + row * pixelY}\"\n            r=\"${radius}\"\n            stroke=\"black\"\n            stroke-width=\"1\"\n            fill=\"${hidden.color}\"\n            class=\"${hidden.className}\" />`;\n}\n\nfunction drawOutput({ pixelX, pixelY, row, column, line, outputs, radius }) {\n  return `<circle\n            cx=\"${pixelX / 2 + column * pixelX}\"\n            cy=\"${pixelY / 2 + row * pixelY}\"\n            r=\"${radius}\"\n            stroke=\"black\"\n            stroke-width=\"1\"\n            fill=\"${outputs.color}\"\n            class=\"${outputs.className}\" />\n          <line\n            x1=\"${pixelX / 2 + column * pixelX + radius}\"\n            y1=\"${pixelY / 2 + row * pixelY}\"\n            x2=\"${pixelX / 2 + column * pixelX + pixelX / 4}\"\n            y2=\"${pixelY / 2 + row * pixelY}\"\n            style=\"stroke:${line.color};stroke-width:${line.width}\"\n            class=\"${line.className}\" />`;\n}\n\nfunction drawBackwardConnections({\n  pixelX,\n  pixelY,\n  row,\n  column,\n  radius,\n  lineY,\n  line,\n  previousConnectionIndex,\n}) {\n  return `<line\n            x1=\"${pixelX / 2 + (column - 1) * pixelX + radius}\"\n            y1=\"${lineY / 2 + previousConnectionIndex * lineY}\"\n            x2=\"${pixelX / 2 + column * pixelX - radius}\"\n            y2=\"${pixelY / 2 + row * pixelY}\"\n            style=\"stroke:${line.color};stroke-width:${line.width}\"\n            class=\"${line.className}\" />`;\n}\n\nfunction neuralNetworkToSVG(options) {\n  const { sizes, height, width } = options;\n  let svg = '';\n  const pixelX = width / sizes.length;\n  for (let column = 0; column < sizes.length; column++) {\n    const size = sizes[column];\n    const pixelY = height / size;\n    for (let row = 0; row < size; row++) {\n      if (column === 0) {\n        svg += drawInput(\n          Object.assign({ pixelX, pixelY, row, column }, options)\n        );\n      } else {\n        if (column === sizes.length - 1) {\n          svg += drawOutput(\n            Object.assign({ pixelX, pixelY, row, column }, options)\n          );\n        } else {\n          svg += drawNeuron(\n            Object.assign({ pixelX, pixelY, row, column }, options)\n          );\n        }\n        const previousSize = sizes[column - 1];\n        const lineY = height / previousSize;\n        for (\n          let previousConnectionIndex = 0;\n          previousConnectionIndex < previousSize;\n          previousConnectionIndex++\n        ) {\n          svg += drawBackwardConnections(\n            Object.assign(\n              { pixelX, pixelY, row, column, lineY, previousConnectionIndex },\n              options\n            )\n          );\n        }\n      }\n    }\n  }\n  return svg;\n}\n\nfunction drawRecurrentConnections({\n  pixelX,\n  pixelY,\n  row,\n  column,\n  radius,\n  recurrentLine,\n}) {\n  const moveX = pixelX / 2 + column * pixelX + radius + 1;\n  const moveY = pixelY / 2 + row * pixelY;\n  const x = moveX - radius * 2 - 2;\n  const y = moveY;\n  const x1 = x + 100;\n  const y1 = y + 50;\n  const x2 = moveX - 100;\n  const y2 = moveY + 50;\n  return `<path\n              d=\"M ${moveX} ${moveY} C ${x1} ${y1}, ${x2} ${y2}, ${x} ${y}\"\n              stroke=\"${recurrentLine.color}\"\n              stroke-width=\"${recurrentLine.width}\"\n              fill=\"transparent\"\n              stroke-linecap=\"round\"\n              marker-end=\"url(#arrow)\"\n              class=\"${recurrentLine.className}\" />`;\n}\n\nfunction rnnToSVG(options) {\n  const { width, height, recurrentLine, sizes, radius } = options;\n  const pixelX = width / sizes.length;\n  let svg = `<defs>\n              <marker id=\"arrow\" markerWidth=\"10\" markerHeight=\"10\" refX=\"8\" refY=\"3\" orient=\"auto\" markerUnits=\"strokeWidth\">\n                <path d=\"M0,0 L0,6 L9,3 z\" fill=\"${recurrentLine.color}\" />\n              </marker>\n            </defs>`;\n  svg += neuralNetworkToSVG(options);\n  for (let column = 1; column < sizes.length; column++) {\n    const size = sizes[column];\n    const pixelY = height / size;\n    for (let row = 0; row < size; row++) {\n      svg += drawRecurrentConnections({\n        pixelX,\n        pixelY,\n        row,\n        column,\n        radius,\n        recurrentLine,\n      });\n    }\n  }\n  return svg;\n}\n\nfunction getFeedForwardLayers(network) {\n  const inputLayer = network.inputLayer();\n  const hiddenLayers = [];\n  hiddenLayers.push(network.hiddenLayers[0](inputLayer));\n  for (let i = 1; i < network.hiddenLayers.length; i++) {\n    hiddenLayers.push(network.hiddenLayers[i](hiddenLayers[i - 1]));\n  }\n  const outputLayer = network.outputLayer(\n    hiddenLayers[hiddenLayers.length - 1]\n  );\n  return {\n    inputLayer,\n    hiddenLayers,\n    outputLayer,\n    layerCount: 1 + hiddenLayers.length + 1,\n  };\n}\n\nfunction getRecurrentLayers(network) {\n  const inputLayer = network.inputLayer();\n  const hiddenLayers = [];\n  hiddenLayers.push(network.hiddenLayers[0](inputLayer, recurrentZeros(), 0));\n  for (let i = 1; i < network.hiddenLayers.length; i++) {\n    hiddenLayers.push(\n      network.hiddenLayers[i](hiddenLayers[i - 1], recurrentZeros(), i)\n    );\n  }\n  const outputLayer = network.outputLayer(\n    hiddenLayers[hiddenLayers.length - 1]\n  );\n  return {\n    inputLayer,\n    hiddenLayers,\n    outputLayer,\n    layerCount: 1 + hiddenLayers.length + 1,\n  };\n}\n\nfunction wrapSVG(svgBody, width, height) {\n  return `<svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            version=\"1.1\"\n            width=\"${width}\"\n            height=\"${height}\">${svgBody}</svg>`;\n}\n\nfunction getSizes({ sizes, inputSize, outputSize, hiddenLayers }) {\n  return typeof inputSize === 'number' &&\n    Array.isArray(hiddenLayers) &&\n    hiddenLayers.every((l) => typeof l === 'number') &&\n    typeof outputSize === 'number'\n    ? [inputSize].concat(hiddenLayers).concat([outputSize])\n    : sizes;\n}\n\nfunction toSVG(net, options) {\n  // default values\n  const defaultOptions = {\n    line: {\n      width: 0.5,\n      color: 'black',\n      className: 'connection',\n    },\n    recurrentLine: {\n      width: 1,\n      color: 'red',\n      className: 'recurrence',\n    },\n    inputs: {\n      color: 'rgba(0, 128, 0, 0.5)',\n      labels: null,\n      className: 'input',\n    },\n    outputs: {\n      color: 'rgba(100, 149, 237, 0.5)',\n      className: 'output',\n    },\n    hidden: {\n      color: 'rgba(255, 127, 80, 0.5)',\n      className: 'hidden-neuron',\n    },\n    fontSize: '14px',\n    fontClassName: 'label',\n    radius: 8,\n    width: 400,\n    height: 250,\n  };\n\n  const mergedOptions = { ...defaultOptions, ...options };\n  const { width, height, inputs } = mergedOptions;\n\n  const isRNN =\n    net.hasOwnProperty('model') ||\n    net instanceof Recurrent ||\n    (net.type && recurrentJSONTypes.indexOf(net.type) !== -1);\n\n  // Get network size array for NeuralNetwork or NeuralNetworkGPU\n  let sizes = null;\n  if (\n    net instanceof NeuralNetwork ||\n    net instanceof RNN ||\n    net instanceof RNNTimeStep\n  ) {\n    sizes = getSizes(net);\n  }\n  // Get network size array for NeuralNetwork json\n  else if (net.sizes) {\n    sizes = net.sizes;\n  }\n  // get network size for Recurrent\n  else if (net instanceof Recurrent) {\n    const { inputLayer, hiddenLayers, outputLayer } = getRecurrentLayers(net);\n    sizes = [inputLayer.height]\n      .concat(hiddenLayers.map((l) => l.height))\n      .concat([outputLayer.height]);\n  }\n  // get network size for FeedForward\n  else if (net instanceof FeedForward) {\n    const { inputLayer, hiddenLayers, outputLayer } = getFeedForwardLayers(net);\n    sizes = [inputLayer.height]\n      .concat(hiddenLayers.map((l) => l.height))\n      .concat([outputLayer.height]);\n  }\n  // handle json, recurrent first\n  else if (isRNN) {\n    if (net.options) {\n      sizes = getSizes(net.options);\n    }\n  }\n  // handle json, NeuralNetwork\n  else {\n    sizes = getSizes(net);\n  }\n\n  if (!sizes) throw new Error('sizes not set');\n\n  if (inputs.labels && inputs.labels.length !== sizes[0])\n    throw new Error('not enough labels for inputs');\n\n  if (isRNN) {\n    return wrapSVG(rnnToSVG({ ...mergedOptions, sizes }), width, height);\n  } else {\n    return wrapSVG(\n      neuralNetworkToSVG({ ...mergedOptions, sizes }),\n      width,\n      height\n    );\n  }\n}\n\nmodule.exports = toSVG;\n","import brain from 'brain.js';\n\nimport './style.css';\n\nconst config = {\n  activation: 'sigmoid', // supported activation types: ['sigmoid', 'relu', 'leaky-relu', 'tanh'],\n  hiddenLayers: [3], // array of ints for the sizes of the hidden layers in the network\n  binaryThresh: 0.5,\n  leakyReluAlpha: 0.01, // supported for activation type 'leaky-relu'\n};\n\nconst net = new brain.NeuralNetwork(config);\n\nconst trainingData = [\n  { input: [0, 0], output: [0] },\n  { input: [0, 1], output: [1] },\n  { input: [1, 0], output: [1] },\n  { input: [1, 1], output: [0] },\n];\n\nnet.train(trainingData);\n\nconst testSet = [\n  [0, 0],\n  [0, 1],\n  [1, 0],\n  [1, 1],\n];\n\nconst neuralNetwork = testSet.map(each => {\n  return `${each[0]} XOR ${each[1]} :: ${net.run([each[0], each[1]])}`;\n});\ndocument.getElementById(\"NeuralNetwork\").innerHTML =\n  '<h1>NeuralNetwork</h1>' + neuralNetwork.join('<br/>');\n\nconst neuralNetworkDiagram = brain.utilities.toSVG(net);\ndocument.getElementById(\"NeuralNetworkDiagram\").innerHTML = neuralNetworkDiagram;\n\nconst rnnConf = {\n  inputSize: 20,\n  inputRange: 20,\n  hiddenLayers: [20, 20],\n  outputSize: 20,\n  learningRate: 0.01,\n  decayRate: 0.999,\n};\n\nconst rnn = new brain.recurrent.RNN(rnnConf);\n\nrnn.train(trainingData);\n\nconst rnnNetwork = testSet.map(each => {\n  return `${each[0]} XOR ${each[1]} :: ${rnn.run([each[0], each[1]])}`;\n});\ndocument.getElementById(\"RNNNeuralNetwork\").innerHTML =\n  '<h1>RNN (Recurrent) NeuralNetwork</h1>' + rnnNetwork.join('<br/>');\n\nconst rnnNetworkDiagram = brain.utilities.toSVG(rnn);\ndocument.getElementById(\"RNNNeuralNetworkDiagram\").innerHTML = rnnNetworkDiagram;\n\n","import brain from 'brain.js';\n\nimport './style.css';\n\nconst config = {\n  activation: 'sigmoid', // supported activation types: ['sigmoid', 'relu', 'leaky-relu', 'tanh'],\n  hiddenLayers: [3], // array of ints for the sizes of the hidden layers in the network\n  binaryThresh: 0.5,\n  leakyReluAlpha: 0.01, // supported for activation type 'leaky-relu'\n};\n\nconst net = new brain.NeuralNetwork(config);\n\nconst trainingData = [\n  { input: [0, 0], output: [0] },\n  { input: [0, 1], output: [1] },\n  { input: [1, 0], output: [1] },\n  { input: [1, 1], output: [0] },\n];\n\nnet.train(trainingData);\n\nconst testSet = [\n  [0, 0],\n  [0, 1],\n  [1, 0],\n  [1, 1],\n];\n\nconst neuralNetwork = testSet.map(each => {\n  return `${each[0]} XOR ${each[1]} :: ${net.run([each[0], each[1]])}`;\n});\ndocument.getElementById(\"NeuralNetwork\").innerHTML =\n  '<h1>NeuralNetwork</h1>' + neuralNetwork.join('<br/>');\n\nconst neuralNetworkDiagram = brain.utilities.toSVG(net);\ndocument.getElementById(\"NeuralNetworkDiagram\").innerHTML = neuralNetworkDiagram;\n\nconst rnnConf = {\n  inputSize: 20,\n  inputRange: 20,\n  hiddenLayers: [20, 20],\n  outputSize: 20,\n  learningRate: 0.01,\n  decayRate: 0.999,\n};\n\nconst rnn = new brain.recurrent.RNN(rnnConf);\n\nrnn.train(trainingData);\n\nconst rnnNetwork = testSet.map(each => {\n  return `${each[0]} XOR ${each[1]} :: ${rnn.run([each[0], each[1]])}`;\n});\ndocument.getElementById(\"RNNNeuralNetwork\").innerHTML =\n  '<h1>RNN (Recurrent) NeuralNetwork</h1>' + rnnNetwork.join('<br/>');\n\nconst rnnNetworkDiagram = brain.utilities.toSVG(rnn);\ndocument.getElementById(\"RNNNeuralNetworkDiagram\").innerHTML = rnnNetworkDiagram;\n\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}